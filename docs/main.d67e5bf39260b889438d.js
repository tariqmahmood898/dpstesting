/*! For license information please see main.d67e5bf39260b889438d.js.LICENSE.txt */
(()=>{var e,t,n,a,o={51:(e,t,n)=>{"use strict";var a,o,r,i,s,c,l,d,u;n.d(t,{Gi:()=>a,Nn:()=>i,gH:()=>o}),function(e){e.Aztec="AZTEC",e.Codabar="CODABAR",e.Code39="CODE_39",e.Code93="CODE_93",e.Code128="CODE_128",e.DataMatrix="DATA_MATRIX",e.Ean8="EAN_8",e.Ean13="EAN_13",e.Itf="ITF",e.Pdf417="PDF_417",e.QrCode="QR_CODE",e.UpcA="UPC_A",e.UpcE="UPC_E"}(a||(a={})),function(e){e.CalendarEvent="CALENDAR_EVENT",e.ContactInfo="CONTACT_INFO",e.DriversLicense="DRIVERS_LICENSE",e.Email="EMAIL",e.Geo="GEO",e.Isbn="ISBN",e.Phone="PHONE",e.Product="PRODUCT",e.Sms="SMS",e.Text="TEXT",e.Url="URL",e.Wifi="WIFI",e.Unknown="UNKNOWN"}(o||(o={})),function(e){e[e["640x480"]=0]="640x480",e[e["1280x720"]=1]="1280x720",e[e["1920x1080"]=2]="1920x1080",e[e["3840x2160"]=3]="3840x2160"}(r||(r={})),function(e){e.Front="FRONT",e.Back="BACK"}(i||(i={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.CANCELED=3]="CANCELED",e[e.COMPLETED=4]="COMPLETED",e[e.FAILED=5]="FAILED",e[e.INSTALLING=6]="INSTALLING",e[e.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"}(s||(s={})),function(e){e[e.HOME=0]="HOME",e[e.UNKNOWN=1]="UNKNOWN",e[e.WORK=2]="WORK"}(c||(c={})),function(e){e[e.HOME=0]="HOME",e[e.UNKNOWN=1]="UNKNOWN",e[e.WORK=2]="WORK"}(l||(l={})),function(e){e[e.FAX=0]="FAX",e[e.HOME=1]="HOME",e[e.MOBILE=2]="MOBILE",e[e.UNKNOWN=3]="UNKNOWN",e[e.WORK=4]="WORK"}(d||(d={})),function(e){e[e.OPEN=1]="OPEN",e[e.WEP=2]="WEP",e[e.WPA=3]="WPA"}(u||(u={}))},251:(e,t)=>{t.read=function(e,t,n,a,o){var r,i,s=8*o-a-1,c=(1<<s)-1,l=c>>1,d=-7,u=n?o-1:0,m=n?-1:1,p=e[t+u];for(u+=m,r=p&(1<<-d)-1,p>>=-d,d+=s;d>0;r=256*r+e[t+u],u+=m,d-=8);for(i=r&(1<<-d)-1,r>>=-d,d+=a;d>0;i=256*i+e[t+u],u+=m,d-=8);if(0===r)r=1-l;else{if(r===c)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,a),r-=l}return(p?-1:1)*i*Math.pow(2,r-a)},t.write=function(e,t,n,a,o,r){var i,s,c,l=8*r-o-1,d=(1<<l)-1,u=d>>1,m=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:r-1,f=a?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+u>=1?m/c:m*Math.pow(2,1-u))*c>=2&&(i++,c/=2),i+u>=d?(s=0,i=d):i+u>=1?(s=(t*c-1)*Math.pow(2,o),i+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,o),i=0));o>=8;e[n+p]=255&s,p+=f,s/=256,o-=8);for(i=i<<o|s,l+=o;l>0;e[n+p]=255&i,p+=f,i/=256,l-=8);e[n+p-f]|=128*h}},398:(e,t,n)=>{"use strict";n.d(t,{CF:()=>c,QQ:()=>l,UH:()=>i,nI:()=>s});var a=n(31481),o=n(48805);o.z.RM=0,o.z.NE=-1e5,o.z.PE=1e5;const r=(0,o.z)(10);function i(e,t){return BigInt((0,o.z)(e).mul(r.pow(t??a.Tu9.decimals)).round().toString())}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(e,t??a.Tu9.decimals,n).toString()}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Tu9.decimals,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,o.z)(e.toString()).div(r.pow(t)).round(t,n?o.z.roundHalfUp:void 0)}function l(e,t){return(0,o.z)(e).round(t).toString()}},809:(e,t,n)=>{"use strict";n.d(t,{UA:()=>u,_O:()=>d,bk:()=>i,fC:()=>c,m1:()=>l,tH:()=>r,wg:()=>s});var a=n(31481),o=n(398);n(59121);const r="bigint:";function i(e,t){return"string"==typeof t&&t.startsWith(r)?BigInt(t.slice(7)):t}function s(e){return-0n===e||e<0n?-e:e}function c(e,t){return e*a.X1K/(0,o.UH)(t)}function l(e,t){return e*(0,o.UH)(t)/a.X1K}function d(e,t){return e>t?e:t}function u(e,t){return e<t?e:t}},1689:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});const a=n(31481).hL1&&!["chrome-extension:","moz-extension:"].includes(self.location.protocol)},2188:(e,t,n)=>{"use strict";n.d(t,{H:()=>u});var a=n(31481),o=n(10309),r=n(1689),i=n(55029),s=n(37836);const c=("development"===a.Guj||"staging"===a.Guj)&&"object"==typeof window&&!r.B,l=(0,s.nF)((e=>window.alert(e)),10*o.Z2);function d(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),u(e instanceof ErrorEvent?e.error||e.message:e.reason))}function u(e){(0,i.SJ)("handleError",e);const t="string"==typeof e?e:e.message,n="object"==typeof e?e.stack:void 0;t.endsWith("Failed to import rlottie-wasm.js")||c&&l(`${a.FHx}\n\n${t||e}\n${n}`)}self.addEventListener("error",d),self.addEventListener("unhandledrejection",d)},3476:(e,t,n)=>{"use strict";n.d(t,{$G:()=>E,Bm:()=>b,EV:()=>w,Wb:()=>s,Zm:()=>g,e2:()=>p,eL:()=>f,fI:()=>m,fv:()=>l,kF:()=>v,kJ:()=>A,kc:()=>C,li:()=>h,mv:()=>u,qP:()=>y,sl:()=>c,tF:()=>r,uS:()=>i,v8:()=>d});var a=n(61995);const o=1000000000n,r=1n,i=100000000n,s=1n,c={stakeNominators:o,unstakeNominators:o,stakeLiquid:o,unstakeLiquid:o,stakeJettonsForward:a.xT.STAKE_JETTONS,stakeJettons:a.xT.STAKE_JETTONS+50000000n,unstakeJettons:a.xT.UNSTAKE_JETTONS,claimJettons:a.xT.JETTON_TRANSFER+a.xT.SIMPLE_UPDATE_REQUEST,changeDns:15000000n,stakeEthena:150000000n,stakeEthenaForward:100000000n,unstakeEthena:150000000n,unstakeEthenaForward:100000000n,unstakeEthenaLocked:150000000n,unstakeEthenaLockedForward:70000000n},l={stakeNominators:1000052853n,unstakeNominators:148337433n,stakeLiquid:20251387n,unstakeLiquid:18625604n,stakeJettons:74879996n,unstakeJettons:59971662n,claimJettons:57053859n,stakeEthena:116690790n,unstakeEthena:113210330n,unstakeEthenaLocked:37612000n},d="d",u="w",m=9,p=!0,f=!1;let h=function(e){return e[e.MasterChain=-1]="MasterChain",e[e.BaseChain=0]="BaseChain",e}({});const g=h.BaseChain,v=600,w=4,y=1,b=255;let E=function(e){return e[e.Comment=0]="Comment",e[e.Encrypted=560454219]="Encrypted",e[e.OurFee=1294173507]="OurFee",e[e.Bounced=4294967295]="Bounced",e}({}),k=function(e){return e[e.Transfer=260734629]="Transfer",e[e.TransferNotification=1935855772]="TransferNotification",e[e.InternalTransfer=395134233]="InternalTransfer",e[e.Excesses=3576854235]="Excesses",e[e.Burn=1499400124]="Burn",e[e.BurnNotification=2078119902]="BurnNotification",e}({}),C=function(e){return e[e.ChangeRecord=1320284409]="ChangeRecord",e}({}),N=function(e){return e[e.Ok=2742684035]="Ok",e}({}),S=function(e){return e.Wallet="wallet",e.Staking="staking",e}({}),A=function(e){return e.DnsNextResolver="dns_next_resolver",e.Wallet="wallet",e.Site="site",e.BagId="storage",e.Unknown="unknown",e}({});k.Excesses,N.Ok,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Wallet,S.Staking,S.Wallet,S.Wallet,S.Wallet,S.Wallet},5130:(e,t,n)=>{"use strict";n.d(t,{U$:()=>s});var a=n(24082),o=n(14235),r=n(55029);class i{requestStates=new Map;requestStatesByCallback=new Map;constructor(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"*";this.target=e,this.onUpdate=t,this.channel=n,this.shouldUseJson=a,this.targetOrigin=o}destroy(){}init(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.postMessage({type:"init",args:t})}request(e){const{requestStates:t,requestStatesByCallback:n}=this,a=(0,o.A)(),r={type:"callMethod",messageId:a,...e},i={messageId:a},s=new Promise(((e,t)=>{Object.assign(i,{resolve:e,reject:t})}));if("function"==typeof r.args[r.args.length-1]){r.withCallback=!0;const e=r.args.pop();i.callback=e,n.set(e,i)}return t.set(a,i),s.catch((()=>{})).finally((()=>{t.delete(a),i.callback&&n.delete(i.callback)})),this.postMessage(r),s}cancelCallback(e){e.isCanceled=!0;const{messageId:t}=this.requestStatesByCallback.get(e)||{};t&&this.postMessage({type:"cancelProgress",messageId:t})}onMessage(e){try{e=(0,a.d$)(e)}catch(e){return void(0,r.SJ)("PostMessageConnector: Failed to parse message",e)}const{requestStates:t,channel:n}=this;if(e.channel===n)if("update"===e.type&&this.onUpdate&&this.onUpdate(e.update),"methodResponse"===e.type){const n=t.get(e.messageId);n&&(e.error?n.reject(e.error):n.resolve(e.response))}else if("methodCallback"===e.type){var o;const n=t.get(e.messageId);null==n||null===(o=n.callback)||void 0===o||o.call(n,...e.callbackArgs)}else if("unhandledError"===e.type){var i,s;const t=new Error(null===(i=e.error)||void 0===i?void 0:i.message);throw null!==(s=e.error)&&void 0!==s&&s.stack&&(t.stack=e.error.stack),t}}postMessage(e){e.channel=this.channel;let t=e;this.shouldUseJson&&(t=(0,a.HE)(e)),"open"in this.target?this.target.postMessage(t,this.targetOrigin):this.target.postMessage(t)}}function s(e,t,n,a){const o=new i(e,t,n,void 0,a);function r(e){let{data:t}=e;o.onMessage(t)}return e.addEventListener("message",r),o.destroy=()=>{e.removeEventListener("message",r)},o}},9705:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});class a{constructor(){this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}static resolved(e){const t=new a;return t.resolve(e),t}}},10309:(e,t,n)=>{"use strict";n.d(t,{CS:()=>v,GS:()=>h,N5:()=>u,TK:()=>m,UX:()=>c,YG:()=>d,Z2:()=>o,d_:()=>s,dp:()=>i,fU:()=>f,mf:()=>p,pY:()=>r});var a=n(19314);const o=1e3,r=60*o,i=60*r,s=24*i,c=365*s,l=(0,a.A)((function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"short",o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Date(t).toLocaleString(e,{year:n?void 0:"numeric",month:a||void 0,day:o?void 0:"numeric",hour:r?"numeric":void 0,minute:r?"numeric":void 0,hourCycle:"h23"})}));function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";const t=(arguments.length>1?arguments[1]:void 0)-Date.now(),n=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),o=Math.floor(t/1e3/3600/24),r=new Intl.RelativeTimeFormat(e,{localeMatcher:"best fit",numeric:"always",style:"long"}),i=[];if(o>0){const[e,t]=r.formatToParts(o,"day").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}if(a>0){const[e,t]=r.formatToParts(a,"hour").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}if(n>0){const[e,t]=r.formatToParts(n,"minute").reverse();i.push(`${t.value}${e.value}`.replace(" "," "))}return i.join(" ")}function u(e,t){return function(e){return v(new Date)===v(new Date(e))}(t)?e("Today"):function(e){const t=new Date;return t.setDate(t.getDate()-1),v(t)===v(new Date(e))}(t)?e("Yesterday"):m(e.code,t)}function m(e,t){const n=new Date(t),a=v(n),o=g(new Date),r=n.getFullYear()===o.getFullYear();return l(e,a,r,"long")}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Date(t),r=v(o),i=g(new Date),s=v(i),c=n&&r===s,d=n?function(e){const t=new Date(e);return t.setSeconds(0,0),t}(o).getTime():r;return a||=o.getFullYear()===i.getFullYear(),l(e,d,a,!c&&"short",c,n)}function f(e){const t=new Date(e);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function h(e){const t=new Date,n=e instanceof Date?e:new Date(e);return Math.ceil((n.getTime()-t.getTime())/s)}function g(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function v(e){return g(e).getTime()}},10428:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});let a=function(e){return e[e.Default=0]="Default",e[e.Instant=1]="Instant",e[e.BestRate=2]="BestRate",e}({})},14235:(e,t,n)=>{"use strict";function a(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}n.d(t,{A:()=>a})},16546:(e,t,n)=>{"use strict";var a;n.d(t,{$c:()=>a,EA:()=>u,E_:()=>s,F3:()=>i,I9:()=>o,Ii:()=>r}),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(a||(a={}));class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const r=(e=>e.Capacitor=(e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>null!==t?t.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),s=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))},c=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=i,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==i(),n.isPluginAvailable=e=>{const t=c.get(e);return!!(null==t?void 0:t.platforms.has(i()))||!!s(e)},n.registerPlugin=(e,l={})=>{const d=c.get(e);if(d)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),d.proxy;const u=i(),m=s(e);let p;const f=r=>{let i;const s=(...s)=>{const c=(async()=>(!p&&u in l?p=p="function"==typeof l[u]?await l[u]():l[u]:null!==t&&!p&&"web"in l&&(p=p="function"==typeof l.web?await l.web():l.web),p))().then((t=>{const c=((t,r)=>{var i,s;if(!m){if(t)return null===(s=t[r])||void 0===s?void 0:s.bind(t);throw new o(`"${e}" plugin is not implemented on ${u}`,a.Unimplemented)}{const a=null==m?void 0:m.methods.find((e=>r===e.name));if(a)return"promise"===a.rtype?t=>n.nativePromise(e,r.toString(),t):(t,a)=>n.nativeCallback(e,r.toString(),t,a);if(t)return null===(i=t[r])||void 0===i?void 0:i.bind(t)}})(t,r);if(c){const e=c(...s);return i=null==e?void 0:e.remove,e}throw new o(`"${e}.${r}()" is not implemented on ${u}`,a.Unimplemented)}));return"addListener"===r&&(c.remove=async()=>i()),c};return s.toString=()=>`${r.toString()}() { [capacitor code] }`,Object.defineProperty(s,"name",{value:r,writable:!1,configurable:!1}),s},h=f("addListener"),g=f("removeListener"),v=(e,t)=>{const n=h({eventName:e},t),a=async()=>{const a=await n;g({eventName:e,callbackId:a},t)},o=new Promise((e=>n.then((()=>e({remove:a})))));return o.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()},o},w=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return m?v:h;case"removeListener":return g;default:return f(t)}}});return r[e]=w,c.set(e,{name:e,proxy:w,platforms:new Set([...Object.keys(l),...m?[u]:[]])}),w},n.Exception=o,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),i=r.registerPlugin;class s{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const a=this.windowListeners[e];return a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const a=this.listeners[e];if(a)a.forEach((e=>e(t)));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new r.Exception(e,a.Unimplemented)}unavailable(e="not available"){return new r.Exception(e,a.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),l=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class d extends s{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=l(n).trim(),a=l(a).trim(),t[n]=a})),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),r=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${a}; path=${o}; ${r};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}i("CapacitorCookies",{web:()=>new d});const u=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=((e={})=>{const t=Object.keys(e);return Object.keys(e).map((e=>e.toLocaleLowerCase())).reduce(((n,a,o)=>(n[a]=e[t[o]],n)),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,n)=>{t.append(n,e)}));else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class m extends s{async request(e){const t=u(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce(((e,n)=>{const[a,o]=n;let r,i;return Array.isArray(o)?(i="",o.forEach((e=>{r=t?encodeURIComponent(e):e,i+=`${a}=${r}&`})),i.slice(0,-1)):(r=t?encodeURIComponent(o):o,i=`${a}=${r}`),`${e}&${i}`}),"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,o=await fetch(a,t),r=o.headers.get("content-type")||"";let i,s,{responseType:c="text"}=o.ok?e:{};switch(r.includes("application/json")&&(c="json"),c){case"arraybuffer":case"blob":s=await o.blob(),i=await(async e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=()=>{const e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)})))(s);break;case"json":i=await o.json();break;default:i=await o.text()}const l={};return o.headers.forEach(((e,t)=>{l[t]=e})),{data:i,headers:l,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}i("CapacitorHttp",{web:()=>new m})},19314:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const a=new WeakMap;function o(e){return function(){let t=a.get(e);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];const i=o.map(String).join("_");if(t){const e=t.get(i);if(e)return e}else t=new Map,a.set(e,t);const s=e(...o);return t.set(i,s),s}}},19822:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>s,ZM:()=>c,i0:()=>o,iT:()=>r,qM:()=>i});var a=n(66644);function o(e,t){t((()=>{e()&&o(e,t)}))}function r(e,t){e()&&t((()=>{r(e,t)}))}const i={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function s(e){let{timing:t=i.linear,onUpdate:n,duration:o,onEnd:s,from:c,to:l}=e;const d=Date.now();let u=!1;return r((()=>{if(u)return!1;const e=Date.now(),a=Math.min((e-d)/o,1),r=t(a);if("number"==typeof c&&"number"==typeof l)n(c+(l-c)*r);else if(Array.isArray(c)&&Array.isArray(l)){const e=c.map(((e,t)=>e+(l[t]-e)*r));n(e)}return 1===a&&(null==s||s()),a<1}),a.YS),()=>{u=!0,null==s||s(!0)}}function c(e,t){Object.assign(e.style,t)}},23174:(e,t,n)=>{"use strict";n.d(t,{Dn:()=>a.D,KL:()=>o.KL,Nu:()=>o.Nu,QD:()=>o.QD,jf:()=>o.jf});var a=n(10428),o=n(56051)},23693:(e,t,n)=>{"use strict";var a,o;n.d(t,{_:()=>o,k:()=>a}),function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(a||(a={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(o||(o={}))},24082:(e,t,n)=>{"use strict";n.d(t,{HE:()=>s,d$:()=>c});var a=n(809);const o="undefined:";function r(e,t){return void 0===t?`${o}marker`:t}function i(e,t){return"string"==typeof t&&t.startsWith(a.tH)?BigInt(t.slice(a.tH.length)):"string"==typeof t&&t.startsWith(o)?void 0:t}function s(e){return JSON.stringify(e,r)}function c(e){return"string"==typeof e?JSON.parse(e,i):e}},31481:(e,t,n)=>{"use strict";n.d(t,{AIK:()=>fe,Avc:()=>Nn,B9l:()=>_,BV6:()=>gt,BZS:()=>Oe,Ba4:()=>wn,Bqy:()=>ft,Bx3:()=>Sn,C39:()=>i,CV:()=>Ue,Czf:()=>Mt,Dde:()=>Q,DvZ:()=>T,F9m:()=>Re,FHx:()=>D,FgL:()=>ke,Fgn:()=>St,Fkn:()=>pe,Fmr:()=>yt,GX2:()=>lt,Guj:()=>o,HOw:()=>Xe,HWN:()=>Be,I04:()=>de,Ia6:()=>Ce,JDR:()=>be,JWy:()=>Pe,JhS:()=>Lt,Jxt:()=>Te,K_I:()=>Ht,Kfi:()=>Xt,Kih:()=>se,KmP:()=>en,Kq_:()=>De,Kzb:()=>qe,LaL:()=>S,MS3:()=>J,MVx:()=>u,NEx:()=>L,NFS:()=>$e,OKZ:()=>an,OZB:()=>_t,Oig:()=>d,OuE:()=>He,PKm:()=>Se,PcM:()=>U,Pcx:()=>Wt,QSz:()=>ut,RTV:()=>w,S7e:()=>Ft,ScF:()=>Pt,Svl:()=>hn,TI6:()=>r,TUC:()=>Gt,Tu9:()=>it,UAn:()=>je,UMQ:()=>b,USn:()=>vn,UuV:()=>ee,V3_:()=>B,VG8:()=>Ct,VL7:()=>E,Vxu:()=>ue,W1_:()=>I,W75:()=>h,WHY:()=>tn,WRE:()=>Qt,WUE:()=>vt,WVU:()=>nn,Wvq:()=>Fe,X1K:()=>Ve,X6R:()=>et,X7T:()=>st,Xr6:()=>Ie,YDh:()=>gn,YO8:()=>K,YnH:()=>ie,Yyb:()=>R,ZYg:()=>rn,_J8:()=>ce,_bq:()=>At,aD4:()=>P,aEZ:()=>on,b2d:()=>tt,bOf:()=>X,c2m:()=>H,cSq:()=>Yt,dCY:()=>yn,dL4:()=>Ge,dlH:()=>m,dmC:()=>ve,dnp:()=>ne,dqR:()=>ze,eZ2:()=>jt,eec:()=>we,eoU:()=>Rt,fPM:()=>Cn,fSo:()=>he,gR8:()=>Zt,gSB:()=>We,gY_:()=>Qe,gbw:()=>pn,gmk:()=>k,gpw:()=>xe,gs5:()=>kn,h4K:()=>Ee,hL1:()=>g,hUJ:()=>Je,hUs:()=>Vt,hkI:()=>O,hl5:()=>s,hnd:()=>Me,i11:()=>re,iAh:()=>M,iX4:()=>Dt,igk:()=>Y,jht:()=>y,jt9:()=>ht,jzp:()=>q,k9U:()=>Z,kuH:()=>fn,kuw:()=>Le,lWW:()=>j,lfO:()=>Bt,lk4:()=>z,lnc:()=>sn,lsx:()=>wt,mEK:()=>bn,n3s:()=>Ae,nQN:()=>at,nj6:()=>$t,o$d:()=>_e,oR5:()=>Tt,oUU:()=>ct,ow1:()=>W,p8S:()=>f,pLj:()=>Ye,pV9:()=>qt,pge:()=>te,pyN:()=>ln,pyR:()=>le,q5n:()=>Ze,qL:()=>nt,qMf:()=>Ke,qsd:()=>un,rFA:()=>c,rKC:()=>Ot,rUK:()=>pt,reE:()=>G,rkj:()=>x,sml:()=>cn,tCm:()=>xt,tI4:()=>rt,tKX:()=>C,tOu:()=>Ut,tpB:()=>ye,twH:()=>p,uPU:()=>Nt,uSm:()=>Jt,uyj:()=>N,v5B:()=>v,vOV:()=>l,vdF:()=>me,vsz:()=>mt,wOb:()=>zt,wbd:()=>ot,wg4:()=>V,wln:()=>Ne,wpN:()=>kt,xA_:()=>F,xB5:()=>$,xFF:()=>dn,yR2:()=>Kt,yq6:()=>A,zHL:()=>ae,zP3:()=>oe,zTb:()=>mn,zll:()=>dt});var a=n(65606);const o="production",r=!0,i=r?"TON Wallet":"MyTonWallet",s="4.0.7",c="1a80ba4fb2eec9e27a843b2626e1611159cd1f55",l="staging"===o?"Beta":"development"===o?"Dev":void 0,d="production"!==o&&"perf"!==o&&"test"!==o,u=!1,m=!1,p=!1,f="production"===o,h="test"===o,g=!1,v=!1,w="1"===a.env.IS_OPERA_EXTENSION,y=!1,b=!1,E=!1,k=!1,C=!1,N="https://dumb-host",S="[Inactive]",A=r?"https://wallet.ton.org":"https://mytonwallet.app",T=r?"https://beta.wallet.ton.org":"https://beta.mytonwallet.app",I="https://get.mytonwallet.io/",B="https://github.com/mytonwallet-org/mytonwallet",_="MyTonWalletBot",x=d&&!y,D="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",L=4,O=r?"TonWallet":"MyTonWallet",P=r?"https://wallet.ton.org":"https://mytonwallet.app",M=!r,F=24,R=M?[12,24]:[24],U=64,W=3,H=700,$=50,V=16,z=30,K=70,q=110,j=120,Y=156,G=192,Q=0,X=4,J=" ",Z=5,ee=!1,te=r?"tonwallet-global-state":"mytonwallet-global-state",ne=0,ae=1,oe=2,re=oe,ie="system",se="0-ton-mainnet",ce="https://toncenter.mytonwallet.org",le="https://toncenter-testnet.mytonwallet.org",de=9,ue=2,me=3,pe="mysupport",fe={en:"MyTonWalletTips",ru:"MyTonWalletTipsRu"},he={getgems:"Getgems",fragment:"Fragment"},ge="https://static.mytonwallet.org",ve=`${ge}/cards/`,we=`${ge}/mint-cards/`,ye="https://mytonwallet.io/",be="https://multisend.mytonwallet.io/",Ee="https://web.telegram.org/a/",ke="https://getgems.io/",Ce=he.getgems,Ne="https://getgems.io/",Se="https://testnet.getgems.io/",Ae="NOHASH",Te=["http://localhost:*","https://tonscan.org"],Ie="https://*.mytonwallet.io",Be="support@changelly.com",_e="https://changelly.com/",xe="security@changelly.com",De="https://changelly.com/terms-of-use",Le="https://changelly.com/privacy-policy",Oe="https://changelly.com/aml-kyc",Pe=108e5,Me="",Fe=.01,Re="mtw-image",Ue="mtw-lang-226",We=[{langCode:"en",name:"English",nativeName:"English",rtl:!1},{langCode:"es",name:"Spanish",nativeName:"Español",rtl:!1},{langCode:"ru",name:"Russian",nativeName:"Русский",rtl:!1},{langCode:"zh-Hans",name:"Chinese (Simplified)",nativeName:"简体",rtl:!1},{langCode:"zh-Hant",name:"Chinese (Traditional)",nativeName:"繁體",rtl:!1},{langCode:"tr",name:"Turkish",nativeName:"Türkçe",rtl:!1},{langCode:"de",name:"German",nativeName:"Deutsch",rtl:!1},{langCode:"th",name:"Thai",nativeName:"ไทย",rtl:!1},{langCode:"uk",name:"Ukrainian",nativeName:"Українська",rtl:!1},{langCode:"pl",name:"Polish",nativeName:"Polski",rtl:!1}],He=r,$e=65536e3,Ve=1000000000n,ze=15000000n,Ke="EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o",qe="EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE",je=Ve,Ye=10000n*Ve,Ge=100000000n,Qe=2,Xe=r?"tonwallet":"mytonwallet",Je="embedded-dapp-bridge",Ze=["0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2","0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2"],et="super:telegram-gifts",tt="https://cards.mytonwallet.io",nt="EQCQE2L9hfwx1V8sgmF9keraHx1rNK9VmgR1ctVvINBGykyM",at="EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",ot=14,rt=30,it={name:"Toncoin",symbol:"TON",slug:"toncoin",decimals:9,chain:"ton",cmcSlug:"toncoin"},st={name:"TRON",symbol:"TRX",slug:"trx",decimals:6,chain:"tron",cmcSlug:"tron"},ct={name:"MyTonWallet Coin",symbol:"MY",slug:"ton-eqcfvnlrbn",decimals:9,chain:"ton",minterAddress:"EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w"},lt={...ct,slug:"ton-kqawlxpebw",minterAddress:"kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ"},dt={ton:{isMemoSupported:!0,isDnsSupported:!0,addressRegex:/^([-\w_]{48}|0:[\da-h]{64})$/i,addressPrefixRegex:/^([-\w_]{1,48}|0:[\da-h]{0,64})$/i,nativeToken:it},tron:{isMemoSupported:!1,isDnsSupported:!1,addressRegex:/^T[1-9A-HJ-NP-Za-km-z]{33}$/,addressPrefixRegex:/^T[1-9A-HJ-NP-Za-km-z]{0,33}$/,nativeToken:st,mainnet:{apiUrl:"https://tronapi.mytonwallet.org",usdtAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"},testnet:{apiUrl:"https://api.shasta.trongrid.io",usdtAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs"}}},ut="tron-tr7nhqjekq",mt="tron-tg3xxyexbk",pt="ton-eqcxe6mutq",ft="ton-eqcqc6ehrj",ht="TW2LXSebZ7Br1zHaiA2W1zRojDkDwjGmpw",gt="EQChGuD1u0e7KUWHH5FaYh_ygcLXhsdG2nSHPXHW8qqnpZXW",vt=1e6,wt="https://t.me/id_app/start?startapp=cQeewNnc3pVphUcwY63WruKMQDpgePd1E7eMVoqphMZAdGoU9jwS4qRqrM1kSeaqrAiiDiC3EYAJPwZDGWqxZpw5vtGxmHma59XEt",yt=(new Set([it.slug,pt,st.slug,ut]),"ton-eqcm3b12qk"),bt={name:"Tether USD",symbol:"USDT",decimals:6,chain:"tron"},Et={name:"Tether USD",symbol:"USD₮",chain:"ton",slug:pt,decimals:6,tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs"},kt={name:"Ethena USDe",symbol:"USDe",chain:"ton",tokenAddress:"EQAIb6KmdfdDR7CN1GBqVJuP25iCnLKCvBlJ07Evuu2dzP5f",slug:"ton-eqaib6kmdf",decimals:6,image:"https://imgproxy.toncenter.com/binMwUmcnFtjvgjp4wSEbsECXwfXUwbPkhVvsvpubNw/pr:small/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvVVNEZS5wbmc"},Ct={name:"Ethena tsUSDe",symbol:"tsUSDe",chain:"ton",tokenAddress:"EQDQ5UUyPHrLcQJlPAczd_fjxn8SLrlNQwolBznxCdSlfQwr",slug:"ton-eqdq5uuyph",decimals:6,image:"https://cache.tonapi.io/imgproxy/vGZJ7erwsWPo7DpVG_V7ygNn7VGs0szZXcNLHB_l0ms/rs:fill:200:200:1/g:no/aHR0cHM6Ly9tZXRhZGF0YS5sYXllcnplcm8tYXBpLmNvbS9hc3NldHMvdHNVU0RlLnBuZw.webp"},Nt=[Ke,"EQC3roTiRRsoLzfYVK7yVVoIZjTEqAjQU3ju7aQ7HWTVL5o5",gt,Ct.tokenAddress],St=[it.slug,pt,st.slug,mt,ut],At=4,Tt=[it.slug,pt,st.slug],It={isFromBackend:!0,price:0,priceUsd:0,percentChange24h:0},Bt={toncoin:{...it,isFromBackend:!0,price:3.1,priceUsd:3.1,percentChange24h:0},trx:{...st,...It},[ut]:{...bt,slug:ut,tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",...It},[mt]:{...bt,slug:mt,tokenAddress:"TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs",...It},[pt]:{...Et,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",slug:pt,...It},[ct.slug]:{...ct,image:"https://cache.tonapi.io/imgproxy/Qy038wCBKISofJ0hYMlj6COWma330cx3Ju1ZSPM2LRU/rs:fill:200:200:1/g:no/aHR0cHM6Ly9teXRvbndhbGxldC5pby9sb2dvLTI1Ni1ibHVlLnBuZw.webp",...It},[kt.slug]:{...kt,...It},[Ct.slug]:{...Ct,...It}},_t={[ut]:"TRC-20",[mt]:"TRC-20",[pt]:"TON"},xt={toncoin:{name:"Toncoin",symbol:it.symbol,chain:it.chain,slug:it.slug,decimals:it.decimals,price:0,priceUsd:0,isPopular:!0},[pt]:{name:"Tether USD",symbol:"USD₮",chain:"ton",slug:pt,decimals:9,image:"https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp",tokenAddress:"EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs",price:0,priceUsd:0,isPopular:!0}},Dt=it.slug,Lt=it.slug,Ot=pt,Pt=it.slug,Mt=ut,Ft={dedust:"DeDust",ston:"STON.fi"},Rt=r?"tw-multitab":"mtw-multitab",Ut=r?"tw-active-tab":"mtw-active-tab",Wt="windowProvider",Ht=r,$t=4,Vt=6,zt="USD",Kt={USD:{name:"US Dollar",decimals:2,shortSymbol:"$"},EUR:{name:"Euro",decimals:2,shortSymbol:"€"},RUB:{name:"Ruble",decimals:2,shortSymbol:"₽"},CNY:{name:"Yuan",decimals:2,shortSymbol:"¥"},BTC:{name:"Bitcoin",decimals:9},[it.symbol]:{name:"Toncoin",decimals:9}},qt="UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ",jt=["v3R1","v3R2","v4R2","W5"],Yt=1e4,Gt=3,Qt=500,Xt=["1D","7D","1M","3M","1Y","ALL"],Jt=10,Zt=4,en="EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW",tn=30,nn=["EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2","EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ","EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s","EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm","EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd","EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD","EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p","EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO","EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe","EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-","EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu","EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH","EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy","EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT","EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu","EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw"],an="EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash",on=30000000n,rn="claim",sn="EQBpst3ZWJ9Dqq5gE2YH-yPsFK_BqMOmgi7Z_qK6v7WbrPWv",cn="Mint card",ln="Refund",dn="⭐️",un="https://giveaway.mytonwallet.io",mn=[{value:"never",name:"Disabled",selectedName:"Disabled",period:0},{value:"1",name:"30 seconds",selectedName:"If away for 30 sec",period:3e4},{value:"2",name:"3 minutes",selectedName:"If away for 3 min",period:18e4},{value:"3",name:"10 minutes",selectedName:"If away for 10 min",period:6e5}],pn=5,fn=new Set(["173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f","5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42","fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204","e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5","301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43","02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3","dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d","7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1","ddf80de336d580ab3c11d194f189c362e2ca1225cae224ea921deeaba7eca818","eb9d9891a32ec94425c09735f6ade73f4c171da0091f874d6e9d25247d583990","f66c149de251ffd031bdb34b79abe43a062ba16b815433691e3ec40a77f01d71","bca42dbdcbc0d885aaffb1eeeb027d9f338c2dd68701a05641c1d1c3171a7400"]),hn=new Set([ft,"ton-eqcbzvsfwq",Ct.slug]),gn=.875,vn={type:"liquid",id:"liquid",tokenSlug:it.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:Ke,tokenBalance:0n,unstakeRequestAmount:0n,instantAvailable:0n,start:0,end:0},wn={type:"nominators",id:"nominators",tokenSlug:it.slug,annualYield:3.9,yieldType:"APY",balance:0n,pool:"Ef8dgIOIRyCLU0NEvF8TD6Me3wrbrkS1z3Gpjk3ppd8m8-s_",start:0,end:0,pendingDepositAmount:0n},yn="https://jvault.xyz",bn={home:{en:"https://help.mytonwallet.io/",ru:"https://help.mytonwallet.io/ru"},domainScam:{en:"https://help.mytonwallet.io/intro/scams/.ton-domain-scams",ru:"https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/moshennichestvo-s-ispolzovaniem-domenov-.ton"},seedScam:{en:"https://help.mytonwallet.io/intro/scams/leaked-seed-phrases",ru:"https://help.mytonwallet.io/ru/baza-znanii/moshennichestvo-i-skamy/slitye-sid-frazy"},ethenaStaking:{en:"https://help.mytonwallet.io/intro/staking/what-is-usde-how-does-usde-staking-work",ru:"https://help.mytonwallet.io/ru/baza-znanii/steiking/chto-takoe-usde-kak-rabotaet-steiking-usde"}},En=[{suffixes:["ton"],baseFormat:/^([-\da-z]+\.){0,2}[-\da-z]{4,126}$/i,resolver:"EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz",collectionName:"TON DNS Domains"},{suffixes:["t.me"],baseFormat:/^([-\da-z]+\.){0,2}[-_\da-z]{4,32}$/i,resolver:"EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi",isTelemint:!0,collectionName:"Telegram Usernames"},{suffixes:["vip","ton.vip","vip.ton"],baseFormat:/^([-\da-z]+\.){0,2}?[\da-z]{1,24}$/i,resolver:"EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS",collectionName:"VIP DNS Domains",isUnofficial:!0},{suffixes:["gram"],baseFormat:/^([-\da-z]+\.){0,2}[\da-z]{1,127}$/i,resolver:"EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ",collectionName:"GRAM DNS Domains",isUnofficial:!0}],kn=r?En.filter((e=>{let{isUnofficial:t}=e;return!t})):En,Cn="3",Nn=2,Sn={symbol:"[Unknown]",decimals:9}},36791:(e,t,n)=>{"use strict";function a(){const{userAgent:e,platform:t}=window.navigator;return/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":void 0}n.d(t,{u:()=>a})},37448:(e,t,n)=>{"use strict";var a,o;n.d(t,{Wi:()=>o,__:()=>a}),function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(a||(a={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(o||(o={}))},37836:(e,t,n)=>{"use strict";n.d(t,{Fe:()=>i,Gf:()=>E,IJ:()=>p,fm:()=>b,kI:()=>w,nF:()=>r,nb:()=>s,sg:()=>o,v7:()=>a,yu:()=>y});const a=e=>new Promise((t=>{setTimeout((()=>t()),e)}));function o(e,t){let n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n?(clearTimeout(n),n=void 0):a&&e(...i),n=self.setTimeout((()=>{o&&e(...i),n=void 0}),t)}}function r(e,t){let n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!1;async function i(){await("function"==typeof t?t():a(t)),s()}async function s(){if(n)try{const t=n;n=void 0,await e(...t)}finally{i()}else r=!1}return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=t,r||(r=!0,o?s():i())}}function i(e){return s(f,e)}function s(e,t){let n,a=!1;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n=r,a||(a=!0,e((()=>{a=!1,t(...n)})))}}const c=35;let l,d,u,m;function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l?l.add(e):(l=new Set([e]),requestAnimationFrame((()=>{const e=l;l=void 0,d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}))),t&&(d?d.add(e):d=new Set([e]),u||(u=window.setTimeout((()=>{const e=d;l&&e.forEach(l.delete,l),d=void 0,u&&(clearTimeout(u),u=void 0),e.forEach((e=>e()))}),c)))}function f(e){m?m.push(e):(m=[e],Promise.resolve().then((()=>{const e=m;m=void 0,e.forEach((e=>e()))})))}const h=500;let g,v;function w(e){self.requestIdleCallback?g?g.push(e):(g=[e],requestIdleCallback((e=>{const t=g;for(g=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(g?g=t.concat(g):t.forEach(w))}),{timeout:h})):f(e)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v||(v=[],self.addEventListener("beforeunload",(()=>{v.forEach((e=>e()))}))),t?v.push(e):v.unshift(e),()=>{v=v.filter((t=>t!==e))}}async function b(e,t,n){let o=0,r=e();for(;!r&&o<n;)await a(t),o++,r=e();return r}function E(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}},39989:(e,t,n)=>{"use strict";n.d(t,{K$:()=>i,KB:()=>r,QS:()=>l,bS:()=>c,cp:()=>s});var a=n(23174);class o extends Error{constructor(e,t){super(e),this.displayError=t,this.name=this.constructor.name}}class r extends o{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Canceled by the user")}}class i extends o{constructor(e,t){super(e,a.QD.ServerError),this.statusCode=t}}class s extends o{constructor(e){super(e,a.QD.UnsupportedVersion)}}class c extends o{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Blind signing not enabled",a.jf.HardwareBlindSigningNotEnabled)}}function l(e){if(e instanceof i)return{error:e.displayError};throw e}},41074:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,M1:()=>c,bP:()=>r});var a=n(31481),o=n(5130);const r=Math.min(navigator.hardwareConcurrency||4,4);let i;function s(){return a.W75?[]:(i||(i=new Array(r).fill(void 0).map((()=>{const e=new Worker(new URL(n.p+n.u(524),n.b));return{worker:e,connector:(0,o.U$)(e)}}))),i)}function c(e,t){return s()[t].connector.request(e)}},48287:(e,t,n)=>{"use strict";const a=n(67526),o=n(251),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|h(e,t);let a=s(n);const o=a.write(e,t);return o!==n&&(a=a.slice(0,o)),a}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return c.from(a,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Q(e.length)?s(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),s(e<0?0:0|f(e))}function m(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let a=0;a<t;a+=1)n[a]=255&e[a];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let a;return a=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(a,c.prototype),a}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(o)return a?-1:q(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function v(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function w(e,t,n,a,o){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,a)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,o){let r,i=1,s=e.length,c=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i=2,s/=2,c/=2,n/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){let a=-1;for(r=n;r<s;r++)if(l(e,r)===l(t,-1===a?0:r-a)){if(-1===a&&(a=r),r-a+1===c)return a*i}else-1!==a&&(r-=r-a),a=-1}else for(n+c>s&&(n=s-c),r=n;r>=0;r--){let n=!0;for(let a=0;a<c;a++)if(l(e,r+a)!==l(t,a)){n=!1;break}if(n)return r}return-1}function b(e,t,n,a){n=Number(n)||0;const o=e.length-n;a?(a=Number(a))>o&&(a=o):a=o;const r=t.length;let i;for(a>r/2&&(a=r/2),i=0;i<a;++i){const a=parseInt(t.substr(2*i,2),16);if(Q(a))return i;e[n+i]=a}return i}function E(e,t,n,a){return Y(q(t,e.length-n),e,n,a)}function k(e,t,n,a){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function C(e,t,n,a){return Y(j(t),e,n,a)}function N(e,t,n,a){return Y(function(e,t){let n,a,o;const r=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),a=n>>8,o=n%256,r.push(o),r.push(a);return r}(t,e.length-n),e,n,a)}function S(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const a=[];let o=t;for(;o<n;){const t=e[o];let r=null,i=t>239?4:t>223?3:t>191?2:1;if(o+i<=n){let n,a,s,c;switch(i){case 1:t<128&&(r=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(r=c));break;case 3:n=e[o+1],a=e[o+2],128==(192&n)&&128==(192&a)&&(c=(15&t)<<12|(63&n)<<6|63&a,c>2047&&(c<55296||c>57343)&&(r=c));break;case 4:n=e[o+1],a=e[o+2],s=e[o+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&a)<<6|63&s,c>65535&&c<1114112&&(r=c))}}null===r?(r=65533,i=1):r>65535&&(r-=65536,a.push(r>>>10&1023|55296),r=56320|1023&r),a.push(r),o+=i}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=T));return n}(a)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return d(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return u(e)},c.allocUnsafeSlow=function(e){return u(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,a=t.length;for(let o=0,r=Math.min(n,a);o<r;++o)if(e[o]!==t[o]){n=e[o],a=t[o];break}return n<a?-1:a<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const a=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))o+t.length>a.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(a,o)):Uint8Array.prototype.set.call(a,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(a,o)}o+=t.length}return a},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(e,t,n,a,o){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===o&&(o=this.length),t<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&t>=n)return 0;if(a>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let r=(o>>>=0)-(a>>>=0),i=(n>>>=0)-(t>>>=0);const s=Math.min(r,i),l=this.slice(a,o),d=e.slice(t,n);for(let e=0;e<s;++e)if(l[e]!==d[e]){r=l[e],i=d[e];break}return r<i?-1:i<r?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let r=!1;for(;;)switch(a){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function I(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(127&e[o]);return a}function B(e,t,n){let a="";n=Math.min(e.length,n);for(let o=t;o<n;++o)a+=String.fromCharCode(e[o]);return a}function _(e,t,n){const a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);let o="";for(let a=t;a<n;++a)o+=X[e[a]];return o}function x(e,t,n){const a=e.slice(t,n);let o="";for(let e=0;e<a.length-1;e+=2)o+=String.fromCharCode(a[e]+256*a[e+1]);return o}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,a,o,r){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function O(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r,r>>=8,e[n++]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,n}function P(e,t,n,a,o){$(t,a,o,e,n,7);let r=Number(t&BigInt(4294967295));e[n+7]=r,r>>=8,e[n+6]=r,r>>=8,e[n+5]=r,r>>=8,e[n+4]=r;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=i,i>>=8,e[n+2]=i,i>>=8,e[n+1]=i,i>>=8,e[n]=i,n+8}function M(e,t,n,a,o,r){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,a,r){return t=+t,n>>>=0,r||M(e,0,n,4),o.write(e,t,n,a,23,4),n+4}function R(e,t,n,a,r){return t=+t,n>>>=0,r||M(e,0,n,8),o.write(e,t,n,a,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,c.prototype),a},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return a},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=this[e+--t],o=1;for(;t>0&&(o*=256);)a+=this[e+--t]*o;return a},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(a)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(a)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=this[e],o=1,r=0;for(;++r<t&&(o*=256);)a+=this[e+r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let a=t,o=1,r=this[e+--a];for(;a>0&&(o*=256);)r+=this[e+--a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const a=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||L(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,a){e=+e,t>>>=0,n>>>=0,a||L(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);L(this,e,t,n,a-1,-a)}let o=0,r=1,i=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},c.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*n-1);L(this,e,t,n,a-1,-a)}let o=n-1,r=1,i=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/r|0)-i&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,a){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);const o=a-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),t),o},c.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!c.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){const t=e.charCodeAt(0);("utf8"===a&&t<128||"latin1"===a)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const r=c.isBuffer(e)?e:c.from(e,a),i=r.length;if(0===i)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=r[o%i]}return this};const U={};function W(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",n=e.length;const a="-"===e[0]?1:0;for(;n>=a+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,a,o,r){if(e>n||e<t){const a="bigint"==typeof t?"n":"";let o;throw o=r>3?0===t||t===BigInt(0)?`>= 0${a} and < 2${a} ** ${8*(r+1)}${a}`:`>= -(2${a} ** ${8*(r+1)-1}${a}) and < 2 ** ${8*(r+1)-1}${a}`:`>= ${t}${a} and <= ${n}${a}`,new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(a,o,r)}function V(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,n){let a=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=H(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=H(o)),o+="n"),a+=` It must be ${t}. Received ${o}`,a}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const a=e.length;let o=null;const r=[];for(let i=0;i<a;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(i+1===a){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function j(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,a){let o;for(o=0;o<a&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const a=16*n;for(let o=0;o<16;++o)t[a+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},48805:(e,t,n)=>{"use strict";n.d(t,{z:()=>f});var a=1e6,o="[big.js] ",r=o+"Invalid ",i=r+"decimal places",s=r+"rounding mode",c=o+"Division by zero",l={},d=void 0,u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(e,t,n,a){var o=e.c;if(n===d&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(s);if(t<1)a=3===n&&(a||!!o[0])||0===t&&(1===n&&o[0]>=5||2===n&&(o[0]>5||5===o[0]&&(a||o[1]!==d))),o.length=1,a?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(a=1===n&&o[t]>=5||2===n&&(o[t]>5||5===o[t]&&(a||o[t+1]!==d||1&o[t-1]))||3===n&&(a||!!o[0]),o.length=t,a)for(;++o[--t]>9;)if(o[t]=0,0===t){++e.e,o.unshift(1);break}for(t=o.length;!o[--t];)o.pop()}return e}function p(e,t,n){var a=e.e,o=e.c.join(""),r=o.length;if(t)o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(a>0)if(++a>r)for(a-=r;a--;)o+="0";else a<r&&(o=o.slice(0,a)+"."+o.slice(a));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&n?"-"+o:o}l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var t,n=this,a=n.c,o=(e=new n.constructor(e)).c,r=n.s,i=e.s,s=n.e,c=e.e;if(!a[0]||!o[0])return a[0]?r:o[0]?-i:0;if(r!=i)return r;if(t=r<0,s!=c)return s>c^t?1:-1;for(i=(s=a.length)<(c=o.length)?s:c,r=-1;++r<i;)if(a[r]!=o[r])return a[r]>o[r]^t?1:-1;return s==c?0:s>c^t?1:-1},l.div=function(e){var t=this,n=t.constructor,o=t.c,r=(e=new n(e)).c,s=t.s==e.s?1:-1,l=n.DP;if(l!==~~l||l<0||l>a)throw Error(i);if(!r[0])throw Error(c);if(!o[0])return e.s=s,e.c=[e.e=0],e;var u,p,f,h,g,v=r.slice(),w=u=r.length,y=o.length,b=o.slice(0,u),E=b.length,k=e,C=k.c=[],N=0,S=l+(k.e=t.e-e.e)+1;for(k.s=s,s=S<0?0:S,v.unshift(0);E++<u;)b.push(0);do{for(f=0;f<10;f++){if(u!=(E=b.length))h=u>E?1:-1;else for(g=-1,h=0;++g<u;)if(r[g]!=b[g]){h=r[g]>b[g]?1:-1;break}if(!(h<0))break;for(p=E==u?r:v;E;){if(b[--E]<p[E]){for(g=E;g&&!b[--g];)b[g]=9;--b[g],b[E]+=10}b[E]-=p[E]}for(;!b[0];)b.shift()}C[N++]=h?f:++f,b[0]&&h?b[E]=o[w]||0:b=[o[w]]}while((w++<y||b[0]!==d)&&s--);return C[0]||1==N||(C.shift(),k.e--,S--),N>S&&m(k,S,n.RM,b[0]!==d),k},l.eq=function(e){return 0===this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return this.cmp(e)<0},l.lte=function(e){return this.cmp(e)<1},l.minus=l.sub=function(e){var t,n,a,o,r=this,i=r.constructor,s=r.s,c=(e=new i(e)).s;if(s!=c)return e.s=-c,r.plus(e);var l=r.c.slice(),d=r.e,u=e.c,m=e.e;if(!l[0]||!u[0])return u[0]?e.s=-c:l[0]?e=new i(r):e.s=1,e;if(s=d-m){for((o=s<0)?(s=-s,a=l):(m=d,a=u),a.reverse(),c=s;c--;)a.push(0);a.reverse()}else for(n=((o=l.length<u.length)?l:u).length,s=c=0;c<n;c++)if(l[c]!=u[c]){o=l[c]<u[c];break}if(o&&(a=l,l=u,u=a,e.s=-e.s),(c=(n=u.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>s;){if(l[--n]<u[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=u[n]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--m;return l[0]||(e.s=1,l=[m=0]),e.c=l,e.e=m,e},l.mod=function(e){var t,n=this,a=n.constructor,o=n.s,r=(e=new a(e)).s;if(!e.c[0])throw Error(c);return n.s=e.s=1,t=1==e.cmp(n),n.s=o,e.s=r,t?new a(n):(o=a.DP,r=a.RM,a.DP=a.RM=0,n=n.div(e),a.DP=o,a.RM=r,this.minus(n.times(e)))},l.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},l.plus=l.add=function(e){var t,n,a,o=this,r=o.constructor;if(e=new r(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var i=o.e,s=o.c,c=e.e,l=e.c;if(!s[0]||!l[0])return l[0]||(s[0]?e=new r(o):e.s=o.s),e;if(s=s.slice(),t=i-c){for(t>0?(c=i,a=l):(t=-t,a=s),a.reverse();t--;)a.push(0);a.reverse()}for(s.length-l.length<0&&(a=l,l=s,s=a),t=l.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+l[t]+n)/10|0;for(n&&(s.unshift(n),++c),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=c,e},l.pow=function(e){var t=this,n=new t.constructor("1"),a=n,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(r+"exponent");for(o&&(e=-e);1&e&&(a=a.times(t)),e>>=1;)t=t.times(t);return o?n.div(a):a},l.prec=function(e,t){if(e!==~~e||e<1||e>a)throw Error(r+"precision");return m(new this.constructor(this),e,t)},l.round=function(e,t){if(e===d)e=0;else if(e!==~~e||e<-a||e>a)throw Error(i);return m(new this.constructor(this),e+this.e+1,t)},l.sqrt=function(){var e,t,n,a=this,r=a.constructor,i=a.s,s=a.e,c=new r("0.5");if(!a.c[0])return new r(a);if(i<0)throw Error(o+"No square root");0===(i=Math.sqrt(a+""))||i===1/0?((t=a.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new r(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new r(i+""),s=e.e+(r.DP+=4);do{n=e,e=c.times(n.plus(a.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return m(e,(r.DP-=4)+e.e+1,r.RM)},l.times=l.mul=function(e){var t,n=this,a=n.constructor,o=n.c,r=(e=new a(e)).c,i=o.length,s=r.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!o[0]||!r[0])return e.c=[e.e=0],e;for(e.e=c+l,i<s&&(t=o,o=r,r=t,l=i,i=s,s=l),t=new Array(l=i+s);l--;)t[l]=0;for(c=s;c--;){for(s=0,l=i+c;l>c;)s=t[l]+r[c]*o[l-c-1]+s,t[l--]=s%10,s=s/10|0;t[l]=s}for(s?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},l.toExponential=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(n=m(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return p(n,!0,!!o)},l.toFixed=function(e,t){var n=this,o=n.c[0];if(e!==d){if(e!==~~e||e<0||e>a)throw Error(i);for(e=e+(n=m(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return p(n,!1,!!o)},l[Symbol.for("nodejs.util.inspect.custom")]=l.toJSON=l.toString=function(){var e=this,t=e.constructor;return p(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},l.toNumber=function(){var e=Number(p(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(o+"Imprecise conversion");return e},l.toPrecision=function(e,t){var n=this,o=n.constructor,i=n.c[0];if(e!==d){if(e!==~~e||e<1||e>a)throw Error(r+"precision");for(n=m(new o(n),e,t);n.c.length<e;)n.c.push(0)}return p(n,e<=n.e||n.e<=o.NE||n.e>=o.PE,!!i)},l.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(o+"valueOf disallowed");return p(e,e.e<=t.NE||e.e>=t.PE,!0)};var f=function e(){function t(n){var a=this;if(!(a instanceof t))return n===d?e():new t(n);if(n instanceof t)a.s=n.s,a.e=n.e,a.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(r+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,a,o;if(!u.test(t))throw Error(r+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),o=t.length,a=0;a<o&&"0"==t.charAt(a);)++a;if(a==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=n-a-1,e.c=[],n=0;a<=o;)e.c[n++]=+t.charAt(a++)}}(a,n)}a.constructor=t}return t.prototype=l,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}()},50110:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(31481),o=n(2188);const r=!a.MVx;function i(e,t){if(!r)return e();const{rescue:n,always:a,shouldIgnoreError:i}=t??{};try{return e()}catch(e){return null==n||n(e),void(i||(0,o.H)(e))}finally{null==a||a()}}},51915:(e,t,n)=>{"use strict";n.d(t,{i6:()=>c,jT:()=>a,ks:()=>s,nm:()=>r,rt:()=>i});const a="#detached";let o;function r(){return async function(){const e=await chrome.tabs.create({url:`index.html${a}`,active:!0});return await chrome.windows.update(e.windowId,{focused:!0}),o=e.id,o}()}function i(){o&&chrome.tabs.query({active:!0},(()=>{o&&chrome.tabs.remove(o)}))}async function s(){const e=await chrome.tabs.getCurrent();null!=e&&e.id&&await chrome.tabs.remove(e.id)}function c(e,t){const n=a=>{a===e&&(o=void 0,chrome.tabs.onRemoved.removeListener(n),t())};chrome.tabs.onRemoved.addListener(n)}},54218:(e,t,n)=>{"use strict";n.d(t,{kB:()=>i,p:()=>r}),n(24082);var a=n(55029);const o=new Map;function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:self;function o(e,a){e.channel=t,a?n.postMessage(e,a):n.postMessage(e)}function r(n){var a;(null===(a=n.data)||void 0===a?void 0:a.channel)===t&&s(e,n.data,o)}return(arguments.length>3?arguments[3]:void 0)||function(e){self.onerror=t=>{var n,o;const r=(null===(n=t.error)||void 0===n?void 0:n.message)||"Uncaught exception in worker";(0,a.SJ)(r,t.error),e({type:"unhandledError",error:{message:r,stack:null===(o=t.error)||void 0===o?void 0:o.stack}})},self.addEventListener("unhandledrejection",(t=>{var n,o;const r=(null===(n=t.reason)||void 0===n?void 0:n.message)||"Unhandled rejection in worker";(0,a.SJ)(r,t.reason),e({type:"unhandledError",error:{message:r,stack:null===(o=t.reason)||void 0===o?void 0:o.stack}})}))}(o),n.addEventListener("message",r),()=>{n.removeEventListener("message",r)}}function i(e,t,n,a){function o(e,o){if(e.channel=a,o)throw new Error("Cannot send `Transferable` to `Window`");n.postMessage(e,t)}function r(n){var r;t&&n.origin!==t||(null===(r=n.data)||void 0===r?void 0:r.channel)===a&&s(e,n.data,o)}return window.addEventListener("message",r),()=>{window.removeEventListener("message",r)}}async function s(e,t,n,r,i){switch(r||(r=e=>{n({type:"update",update:e})}),t.type){case"init":{var s;const{args:n}=t,a="function"==typeof e?e("init",i,r,...n):null===(s=e.init)||void 0===s?void 0:s.call(e,r,...n);await a;break}case"callMethod":{const{messageId:r,name:s,args:c,withCallback:l}=t;try{if("function"!=typeof e&&!e[s])return;if(r&&l){const e=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const o=t[t.length-1];var i;n({type:"methodCallback",messageId:r,callbackArgs:t},(i=o)instanceof ArrayBuffer||i instanceof ImageBitmap?[o]:void 0)};o.set(r,e),c.push(e)}const t="function"==typeof e?await e(s,i,...c):await e[s](...c),{arrayBuffer:a}="object"==typeof t&&t&&"arrayBuffer"in t||{};r&&n({type:"methodResponse",messageId:r,response:t},a?[a]:void 0)}catch(e){(0,a.SJ)(s,e),r&&n({type:"methodResponse",messageId:r,error:{message:e.message}})}r&&o.delete(r);break}case"cancelProgress":{const e=o.get(t.messageId);e&&(e.isCanceled=!0);break}}}},55029:(e,t,n)=>{"use strict";n.d(t,{MD:()=>u,SJ:()=>d,ao:()=>l,ef:()=>p,kJ:()=>m});var a=n(31481),o=n(59288);const r=999,i=[];function s(e,t){return t instanceof Error?{name:t.name,message:t.message,stack:t.stack,metadata:t instanceof o.p?t.metadata:void 0}:t}function c(e){i.length>r&&i.shift(),i.push({...e,args:e.args.map((e=>JSON.stringify(e,s))),time:Date.now()})}function l(){return i}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debugError",args:n}),a.Oig&&console.error(`[DEBUG][${e}]`,...n)}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];c({message:e,level:"debug",args:n}),a.Oig&&console.log(`[DEBUG] ${e}`,...n)}function m(e,t,n){a.dlH&&(console.debug(`[DEBUG] ${e}`),t&&console.dir(t),n&&console.dir(n))}function p(){const e={en:"WARNING! This console can be a way for bad people to take over your crypto wallet through something called a Self-XSS attack. So, don't put in or paste code you don't understand. Stay safe!",ru:"ВНИМАНИЕ! Через эту консоль злоумышленники могут захватить ваш криптовалютный кошелёк с помощью так называемой атаки Self-XSS. Поэтому не вводите и не вставляйте код, который вы не понимаете. Берегите себя!",es:"¡ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, no introduzca ni pegue código que no comprenda. ¡Cuídese!",zh:"警告！这个控制台可能成为坏人通过所谓的Self-XSS攻击来接管你的加密货币钱包的方式。因此，请不要输入或粘贴您不理解的代码。请保护自己！"},t=e[navigator.language.split("-")[0]]||e.en;console.log("%c%s","color: red; background: yellow; font-size: 18px;",t)}},56051:(e,t,n)=>{"use strict";n.d(t,{KL:()=>r,Nu:()=>o,QD:()=>a,jf:()=>i});let a=function(e){return e.Unexpected="Unexpected",e.ServerError="ServerError",e.DebugError="DebugError",e.UnsupportedVersion="UnsupportedVersion",e}({}),o=function(e){return e.InvalidMnemonic="InvalidMnemonic",e.InvalidAddress="InvalidAddress",e.DomainNotResolved="DomainNotResolved",e}({}),r=function(e){return e.InvalidAmount="InvalidAmount",e.InvalidToAddress="InvalidToAddress",e.InsufficientBalance="InsufficientBalance",e.InvalidStateInit="InvalidStateInit",e.StateInitWithoutBin="StateInitWithoutBin",e.DomainNotResolved="DomainNotResolved",e.WalletNotInitialized="WalletNotInitialized",e.InvalidAddressFormat="InvalidAddressFormat",e.InactiveContract="InactiveContract",e}({}),i=function(e){return e.PartialTransactionFailure="PartialTransactionFailure",e.IncorrectDeviceTime="IncorrectDeviceTime",e.InsufficientBalance="InsufficientBalance",e.UnsuccesfulTransfer="UnsuccesfulTransfer",e.NotSupportedHardwareOperation="NotSupportedHardwareOperation",e.HardwareBlindSigningNotEnabled="HardwareBlindSigningNotEnabled",e.WrongAddress="WrongAddress",e.WrongNetwork="WrongNetwork",e}({})},59121:(e,t,n)=>{"use strict";function a(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function o(e){return self.crypto.getRandomValues(new Uint8Array(e))}n.d(t,{po:()=>o,yT:()=>a}),n(48287).Buffer},59288:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});class a extends Error{constructor(e,t){super(e),this.metadata=t}}},61995:(e,t,n)=>{"use strict";n.d(t,{Hc:()=>r,Hx:()=>a,xT:()=>o});const a={GET_STATIC_DATA:801842850,REPORT_STATIC_DATA:2339837749,GET_STORAGE_DATA:1535698380,REPORT_STORAGE_DATA:2863966447,EXCESSES:3576854235,TRANSFER_JETTON:260734629,INTERNAL_TRANSFER:395134233,TRANSFER_NOTIFICATION:1935855772,PROVIDE_WALLET_ADDRESS:745978227,TAKE_WALLET_ADDRESS:3513996288,BURN_JETTON:1499400124,STAKE_JETTONS:3818940809,ADD_REWARDS:3675696277,SEND_CLAIMED_REWARDS:1153179619,SEND_UNSTAKED_JETTONS:4213386179,APPROVE_STAKE:2443044737,CANCEL_STAKE:2662179289,ADD_REWARD_JETTONS:275213031,CLAIM_COMMISSIONS:3165188199,REQUEST_UPDATE_REWARDS:4123376291,CLAIM_REWARDS:2027548937,RECEIVE_JETTONS:3599387329,UNSTAKE_JETTONS:1234866786,UNSTAKE_REQUEST:23647415,CANCEL_UNSTAKE_REQUEST:2760970010,UPDATE_REWARDS:2928871374,CONFIRM_TRANSFER:3162893073,DEPLOY_NEW_POOL:3666222871,SEND_COMMISSIONS:3110787818,SET_CODE:3805467153,CHANGE_CREATION_FEE:1725256331,CHANGE_CONTENT:247632384,UPDATE_CODES:2244551631},o={MIN_RESERVE:20000000n,DEPLOY_POOL:340000000n,NOTIFICATION:340000000n,JETTON_TRANSFER:55000000n,BURN_JETTONS:340000000n,STAKE_JETTONS:300000000n,UNSTAKE_JETTONS:340000000n,CANCEL_UNSTAKE:340000000n,SEND_COMMISSIONS:340000000n,SIMPLE_UPDATE_REQUEST:340000000n,ADD_REWARDS:340000000n,APPROVE_TRANSFER:340000000n,SAVE_UPDATED_REWARDS:340000000n,MIN_EXCESS:10000000n,SEND_STAKED_JETTONS:630000000n},r={COMMISSION_DIVIDER:10000n,REWARDS_DIVIDER:1e3,DISTRIBUTION_SPEED_DIVIDER:BigInt(86400),DISTRIBUTED_REWARDS_DIVIDER:100000000000000000000000000000000000000n}},65606:e=>{var t,n,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var s,c=[],l=!1,d=-1;function u(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&m())}function m(){if(!l){var e=i(u);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},66644:(e,t,n)=>{"use strict";n.d(t,{RK:()=>m,YS:()=>u,gm:()=>p});var a=n(50110),o=n(37836),r=n(75357);let i=[],s=[],c=[];const l=(d=()=>{const e=i;i=[],e.forEach((e=>{(0,a.A)(e)})),Promise.resolve().then((()=>{(0,r.A)("mutate");const e=s;s=[],e.forEach((e=>{(0,a.A)(e)}))})).then((()=>{(0,r.A)("measure");const e=[];for(const t of c)(0,a.A)((()=>{const n=t();n&&e.push(n)}));return c=[],e})).then((e=>{(0,r.A)("mutate");for(const t of e)(0,a.A)(t)})).then((()=>{(0,r.A)("measure")}))},(0,o.nb)((e=>{(0,o.IJ)(e,!0)}),d));var d;function u(e){i.push(e),l()}function m(e){s.push(e),l()}function p(e){c.push(e),l()}},67491:(e,t,n)=>{"use strict";n.d(t,{Cz:()=>c,ZC:()=>d,bU:()=>s,iy:()=>r,s$:()=>l,u_:()=>i});var a=n(31481),o=n(10309);function r(e){return void 0!==i(e)}function i(e){for(const t of a.gs5){const{suffixes:n,baseFormat:a}=t;for(let o=n.length-1;o>=0;o--){const r=n[o];if(!e.endsWith(`.${r}`))continue;const i=e.slice(0,-r.length-1);if(a.test(i))return{base:i,zone:t}}}}function s(e){return(null==e?void 0:e.collectionAddress)===a.nQN}function c(e,t){return s(e)?null==t?void 0:t[e.address]:void 0}function l(e,t,n){const r=[];if(t&&n)for(const i of e){const e=t[i];(0,o.GS)(c(e,n)??1/0)<=a.wbd&&r.push(e)}return r}function d(e,t,n){if(n)return e.reduce(((e,a)=>{const o=c("string"==typeof a?null==t?void 0:t[a]:a,n);return o?Math.min(o,e??1/0):e}),void 0)}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,r=s(e),i=r[0],c=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,c)),d=0,u=c>0?i-4:i;for(n=0;n<u;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===c&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,l[d++]=255&t),1===c&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},t.fromByteArray=function(e){for(var t,a=e.length,o=a%3,r=[],i=16383,s=0,l=a-o;s<l;s+=i)r.push(c(e,s,s+i>l?l:s+i));return 1===o?(t=e[a-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[a-2]<<8)+e[a-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),r.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)n[i]=r[i],a[r.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,a){for(var o,r,i=[],s=t;s<a;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(r=o)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},75357:(e,t,n)=>{"use strict";n.d(t,{Z3:()=>d,Uj:()=>u,dL:()=>p,A:()=>l,bo:()=>f});const a={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let o=console.error;const r=new Map;let i,s="measure",c=!1;function l(e){s=e}function d(){c||(c=!0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{var n;const a=null===(n=Object.getOwnPropertyDescriptor(o,e))||void 0===n?void 0:n.get;a&&(r.set(`${t}#${e}`,a),Object.defineProperty(o,e,{get(){return h(e),a.call(this)}}))})),"methods"in n&&n.methods.forEach((e=>{const n=o[e];r.set(`${t}#${e}`,n),o[e]=function(){h(e);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n.apply(this,a)}}))})),i=new MutationObserver((e=>{"mutate"!==s&&e.forEach((e=>{let{target:t,type:n,attributeName:a}=e;document.contains(t)&&(m.has(t)||"childList"===n&&t instanceof HTMLElement&&t.contentEditable||null!=a&&a.startsWith("data-")||o(new Error(`Unexpected mutation detected: \`${"attributes"===n?a:n}\``)))})),m.clear()})),i.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}function u(e){if("mutate"!==s)throw new Error("The current phase is 'measure'");s="measure";const t=e();return s="mutate",t}const m=new Set;function p(e,t){if("measure"!==s)throw new Error("The current phase is 'mutate'");return c&&(Array.isArray(t)?t.forEach((e=>{m.add(e)})):m.add(t)),e()}function f(e){if(!c)return e();var t;c&&(null===(t=i)||void 0===t||t.disconnect(),i=void 0,Object.entries(a).forEach((e=>{let[t,n]=e;const a=window[t];if(!a)return;const o="object"==typeof a?a:a.prototype;"props"in n&&n.props.forEach((e=>{const n=r.get(`${t}#${e}`);n&&Object.defineProperty(o,e,{get:n})})),"methods"in n&&n.methods.forEach((e=>{o[e]=r.get(`${t}#${e}`)}))})),r.clear(),c=!1);const n=e();return d(),n}function h(e){"measure"!==s&&o(new Error(`Unexpected measurement detected: \`${e}\``))}},76944:(e,t,n)=>{"use strict";n.d(t,{p:()=>v,R:()=>g});var a=n(55029),o=n(5130),r=n(37836),i=n(82393),s=n(31481),c=n(54218),l=n(94465);const d=150,u=5e3;let m,p,f,h=!1;function g(e,t){m=e,f||(p=new Worker(new URL(n.p+n.u(941),n.b)),f=(0,o.U$)(p,e),function(e){(0,c.p)(l,s.Pcx,e,!0)}(p)),h||(i.pz&&window.addEventListener("focus",(()=>{b(),setTimeout((()=>b()),1e3)})),h=!0);const a="function"==typeof t?t():t;return f.init(a)}async function v(e){if(f)try{for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const r=await f.request({name:e,args:n});return(0,a.kJ)(`callApi: ${e}`,n,r),r}catch(e){return}else(0,a.SJ)("API is not initialized when calling",e)}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return f.request({name:e,args:n})}const y=Date.now();async function b(){let e=!1;try{await Promise.race([w("ping"),(0,r.v7)(d).then((()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT"))))])}catch(e){var t;(0,a.SJ)("ensureWorkerPing",e),Date.now()-y>=u&&(null===(t=p)||void 0===t||t.terminate(),p=void 0,f=void 0,m({type:"requestReconnectApi"}))}finally{e=!0}}},82393:(e,t,n)=>{"use strict";n.d(t,{$:()=>F,$q:()=>S,By:()=>v,ED:()=>L,Et:()=>M,Fe:()=>I,H8:()=>m,KI:()=>x,Kc:()=>U,Lv:()=>A,MP:()=>u,Ni:()=>h,TF:()=>b,XS:()=>R,Yw:()=>g,ZH:()=>O,_7:()=>l,bA:()=>_,bs:()=>D,cp:()=>k,iF:()=>E,ig:()=>p,pr:()=>w,pz:()=>f,sC:()=>T,u2:()=>C,uh:()=>B,v3:()=>W,vj:()=>N,xy:()=>P});var a,o=n(31481),r=n(66644),i=n(51915),s=n(36791);const c=new Set(["android","android_x","ios"]),l=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),d=(0,s.u)(),u="macOS"===d,m="Windows"===d,p="Linux"===d,f="iOS"===d,h="Android"===d,g=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),v=navigator.userAgent.includes(" OPR/"),w=navigator.userAgent.includes(" Edg/"),y=navigator.userAgent.includes("Firefox/"),b=window.matchMedia("(pointer: coarse)").matches,E=Boolean(null===(a=window.chrome)||void 0===a?void 0:a.system),k=Boolean(window.electron),C=!(o.UMQ||k||o.hL1||o.tKX),N="en",S=function(){if(o.TI6)return"en";const{language:e}=navigator,t=e.startsWith("zh")?e.endsWith("TW")||e.endsWith("HK")?"zh-Hant":"zh-Hans":e.substring(0,2);return o.gSB.some((e=>{let{langCode:n}=e;return n===t}))?t:"en"}(),A=window.devicePixelRatio||1,T=o.UMQ||!(o.TI6||f||o.v5B||o.tKX),I=n.g.location.hash.startsWith(i.jT),B=Boolean(!o.UMQ&&!o.tKX&&window.navigator.credentials&&(!k||u)),_=o.UMQ&&n.g.location.search.startsWith("?bottom-sheet"),x=o.UMQ&&f&&!_&&!function(){const{userAgent:e,platform:t}=window.navigator;return"iPad"===t||e.includes("iPad")||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2}(),D="BroadcastChannel"in window&&!I,L=o.hL1||k||o.UMQ,O=f&&o.UMQ,P=h&&o.UMQ,M=!(y||o.v5B||o.tKX),F=parseInt(getComputedStyle(document.documentElement).fontSize,10),R=-3*F;function U(){const e=document.createElement("div");e.style.cssText="overflow-x: hidden; overflow-y: scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e),(0,r.gm)((()=>{const t=e.offsetWidth-e.clientWidth;return()=>{document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),e.remove()}}))}function W(){var e;return o.tKX&&c.has((null===(e=window.Telegram)||void 0===e?void 0:e.WebApp.platform)??"")}},86243:(e,t,n)=>{"use strict";n.d(t,{LG:()=>i,S:()=>s,cK:()=>o,zu:()=>r});var a=n(91049);function o(e){const t=e.split("-"),[n,a="mainnet"]=3===t.length?[t[0],t[2]]:t;return{id:Number(n),network:a}}function r(e){const{id:t,network:n}=e;return`${t}-${n}`}function i(e){return e.ton??Object.values(e).find(Boolean)}function s(e){return e.title||(0,a.W)(i(e.addressByChain)??"")}},87894:(e,t,n)=>{"use strict";function a(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function o(e,t){return e.reduce(((e,n)=>{const a=n[t];return e[a]?e[a].push(n):e[a]=[n],e}),{})}function r(e,t){return Object.keys(e).reduce(((n,a,o)=>(n[a]=t(e[a],a,o,e),n)),{})}function i(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function s(e,t){return t.reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{})}function c(e,t){const n=new Set(t.map(String));return i(e,Object.keys(e).filter((e=>!n.has(e))))}function l(e){return Object.keys(e).reduce(((t,n)=>{const a=n;return void 0!==e[a]&&(t[a]=e[a]),t}),{})}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";function a(e,t,n,a){const o=("function"==typeof n?n(e):e[n])||0,r=("function"==typeof n?n(t):t[n])||0;return o===r?0:(a?o>r:o<r)?1:-1}if(Array.isArray(t)){const[o,r]=Array.isArray(n)?n:[n,n],[i,s]=t,c="asc"===o,l="asc"===r;return e.sort(((e,t)=>a(e,t,i,c)||a(e,t,s,l)))}const o="asc"===n;return e.sort(((e,n)=>a(e,n,t,o)))}function u(e){return Array.from(new Set(e))}function m(e){return e.filter(Boolean)}function p(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}function f(e){return g(e)?Array.isArray(e)?e.map(f):Object.keys(e).reduce(((t,n)=>(t[n]=f(e[n]),t)),{}):e}function h(e){return g(e)&&!Array.isArray(e)}function g(e){return"object"==typeof e&&null!==e}function v(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function w(e,t){return e.map((e=>e[t]))}function y(e,t){const n=new Set(t),a=[];for(const t of e)n.has(t)||a.push(t);return a}function b(e,t){return Object.keys(e).reduce(((n,a,o)=>(t(e[a],a,o,e)&&(n[a]=e[a]),n)),{})}function E(e){const t={};for(const[n,a]of Object.entries(e))t[a]=n;return t}n.d(t,{$z:()=>o,Am:()=>u,Hl:()=>y,JY:()=>w,LG:()=>r,My:()=>d,Oy:()=>l,Uk:()=>v,Up:()=>i,V6:()=>E,Vh:()=>h,_E:()=>s,cJ:()=>c,dU:()=>a,k:()=>p,lk:()=>b,mg:()=>f,oE:()=>m})},91049:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,W:()=>r});var a=n(19314);const o=6,r=(0,a.A)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(e)return e.length<=t+n+3?e:`${e.slice(0,t)}···${e.slice(-n)}`}))},94465:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capacitorStorageClear:()=>u,capacitorStorageGetItem:()=>c,capacitorStorageKeys:()=>m,capacitorStorageRemoveItem:()=>d,capacitorStorageSetItem:()=>l,init:()=>s,localStorageClear:()=>v,localStorageGetAll:()=>w,localStorageGetItem:()=>f,localStorageGetMany:()=>y,localStorageRemoveItem:()=>g,localStorageSetItem:()=>h,localStorageSetMany:()=>b});var a=n(31481);let o,r;const i=new Promise((e=>{r=e}));async function s(){a.UMQ&&!o&&(({SecureStoragePlugin:o}=await n.e(201).then(n.bind(n,5054))),r())}async function c(e){var t;return await i,null===(t=await o.get({key:e}).catch((e=>{if(!("string"==typeof e?e:e.message).includes("key does not exist"))throw e})))||void 0===t?void 0:t.value}async function l(e,t){return await i,o.set({key:e,value:t})}async function d(e){return await i,o.remove({key:e})}async function u(){return await i,o.clear()}async function m(){return await i,o.keys()}var p=n(87894);function f(e){return localStorage.getItem(e)}function h(e,t){return localStorage.setItem(e,t)}function g(e){return localStorage.removeItem(e)}function v(){return localStorage.clear()}function w(){return{...localStorage}}function y(e){return(0,p.Up)(localStorage,e)}function b(e){Object.assign(localStorage,e)}},99544:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,Vq:()=>r});const a=120,o=new Set(["DisconnectedDeviceDuringOperation","TransportRaceCondition"]);function r(e){return function(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}(e)&&function(e){return e.length<=a}(e)}function i(e){return o.has(e)}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return o[e].call(n.exports,n,n.exports,i),n.exports}i.m=o,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,i.d(o,r),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"."+{88:"624986b76c0ad075690b",104:"d3d0658321759c7a1c20",106:"4f3d72aecd28d192bbee",115:"b1e9d00fb880ad222fab",148:"d4136b6a5ecf56ede3d7",168:"f08bfcfdc8c60a24e8ed",196:"47374b197e148f7562b8",201:"a9df2475054636d04195",215:"02897e46fb157ff77165",283:"8137301fc53480049325",355:"6257ddbc1a880aea34d0",408:"4a5a307a8a814b280078",411:"f3fddccbfc7a4f1d09cc",477:"b487be8764000f2f30c2",513:"ebadc095aa3ee931d37b",524:"e3273a4aa6d77206c53b",542:"8b97033f3a252281472f",564:"652088edade4d9ed67f5",580:"82f879326ce5b9c846f1",612:"209737ae0d82b434ab41",642:"9ac8bf3c16187bc49a7f",789:"ee1e19d801c1e8bfab4d",884:"b0155df7dd4719a9838e",895:"91b32485bcc6a9f2cef6",897:"b0aa8daaa0f11c289b24",941:"6c4cc21f8b528818079c",949:"10c81af08aa931279b35",956:"1c3822f193a3d67e6aa6",973:"8069d508cb08d6a3b5f3",988:"5ebba37989fff908c5a9"}[e]+".js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="mytonwallet:",i.l=(e,t,o,r)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+o){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",a+o),s.src=e),n[e]=[t];var m=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(a))),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{i.b=document.baseURI||self.location.href;var e={792:0,840:0};i.f.j=(t,n)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise(((n,o)=>a=e[t]=[n,o]));n.push(a[2]=o);var r=i.p+i.u(t),s=new Error;i.l(r,(n=>{if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,o,[r,s,c]=n,l=0;if(r.some((t=>0!==e[t]))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);c&&c(i)}for(t&&t(n);l<r.length;l++)o=r[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmytonwallet=self.webpackChunkmytonwallet||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e=i(31481),t=i(55029),n=i(82393),a=i(76944);function o(e,t){if(e===t)return!0;const n=Object.keys(e),a=n.length;if(a!==Object.keys(t).length)return!1;if(0===a)return!0;for(let o=0;o<a;o++){const a=n[o];if(e[a]!==t[a])return!1}return!0}function r(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach((n=>{e[n]!==t[n]&&console.log(a,n,":",e[n],"=>",t[n])}))):console.log(`${n} LENGTH`)}var s=i(2188),c=i(87894),l=i(37836),d=i(19822);const u=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let m={};const p=(0,l.nF)((function(){f||function(){f=document.createElement("div"),f.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 12px; color: black;",document.body.appendChild(f);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",(()=>{m={},p()})),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(m).reduce(((e,t)=>{let[n,{value:a}]=t;return u.has(n)||(n.includes("renders")&&a>e[0]&&(e[0]=a),n.includes("duration")&&a>e[1]&&(e[1]=a)),e}),[0,0]);f.innerHTML="",Object.entries(m).filter((e=>{let[t,{value:n}]=e;return!u.has(t)&&(t.includes("renders")&&n>5||t.includes("duration")&&n>2)})).sort(((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt)).forEach((a=>{let[o,{value:r,lastUpdateAt:i}]=a;const s=document.createElement("span");s.style.background=i>e?"lightgreen":"",s.textContent=`${o}: ${Math.round(r)}`;const c=document.createElement("div");var l;c.style.background=`#ff0000${l=r/(o.includes("renders")?t:n),Math.round(255*l).toString(16).padStart(2,"0")}`,c.append(s),f.append(c)}))}),500,!1);let f;function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=Date.now();m[e]?(m[e].value+=t,m[e].lastUpdateAt=n):m[e]={value:t,lastUpdateAt:n},p()}var g=i(50110);function v(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e.forEach((e=>{e(...n)}))},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}const w=Symbol("SIGNAL_MARK");function y(e){return"function"==typeof e&&w in e}const b=new Map;function E(e){const t={value:e,effects:v()};function n(e){const n=t.effects.addCallback(e);return b.has(e)?b.get(e).add(n):b.set(e,new Set([n])),()=>{n();const t=b.get(e);t.delete(n),t.size||b.delete(e)}}return[Object.assign((function(){return t.value}),{[w]:w,subscribe:n,once:function(e){const t=n((()=>{t(),e()}));return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}var k=i(66644);let C=0,N=0;const[S,A]=E(!1),[T,I]=E(!1),B=S;function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C++,1===C&&A(!0),t&&(N++,1===N&&I(!0));const n=window.setTimeout(o,e);let a=!1;function o(){a||(a=!0,clearTimeout(n),C--,0===C&&A(!1),t&&(N--,0===N&&I(!1)))}return o}function x(e){(0,l.kI)((()=>{S()?(0,k.YS)((()=>{x(e)})):e()}))}let D=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),L=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const O=Symbol("Fragment"),P=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let M,F=0;function R(e){return e.type===D.Tag||e.type===D.Component||e.type===D.Fragment}function U(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e===O?function(e){return{type:D.Fragment,children:H(e,!0)}}(a):"function"==typeof e?function(e,t,n){null!=n&&n.length&&(t.children=1===n.length?n[0]:n);const a={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:L.Unmounted};return a.$element=W(a),a.$element}(e,t||{},a):function(e,t,n){return{type:D.Tag,tag:e,props:t,children:H(n)}}(e,t||{},a)}function W(e,t){return{type:D.Component,componentInstance:e,props:e.props,children:t?H(t,!0):[]}}function H(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length-1;for(;n>=0&&$(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),a=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?a.push(...H(o,t)):a.push(V(o))}return a}function $(e){return!e&&0!==e}function V(e){return $(e)?{type:D.Empty}:R(e)?e:{type:D.Text,value:String(e)}}const z={TOTAL:{name:"TOTAL",renders:0}},K={};document.addEventListener("dblclick",(()=>{console.warn("COMPONENTS",(0,c.My)(Object.values(z).map((e=>{let{avgRenderTime:t,...n}=e;return{...n,...void 0!==t&&{avgRenderTime:Number(t.toFixed(2))}}})),"renders","desc")),console.warn("MEMOS",(0,c.My)(Object.values(K).filter((e=>{let{calls:t}=e;return t>=20})).map((e=>({...e,hitRate:Number(e.hitRate.toFixed(2))}))),"hitRate","asc"))}));let q=new Set,j=new Set,Y=new Map,G=new Map,Q=new Map,X=new Map,J=!1;const Z=(0,l.nb)(k.YS,(()=>{if(T())return void T.once(Z);const e=ee();j=new Set;const t=Array.from(q).sort(((e,t)=>e.id-t.id));q=new Set;const n=G;G=new Map,n.forEach((e=>e()));const a=Y;Y=new Map,a.forEach((e=>e())),(0,k.RK)((()=>{t.forEach(re),t.forEach((e=>{j.has(e.id)||function(e){if(e.mountState===L.Unmounted||!e.onUpdate)return;const t=e.$element;ne(e),e.$element!==t&&e.onUpdate()}(e)})),null==e||e()}))}));function ee(){if(!J)return J=!0,te}function te(){const e=X;X=new Map,e.forEach((e=>e()));const t=Q;Q=new Map,t.forEach((e=>e())),J=!1}function ne(t){j.add(t.id);const{Component:n,props:a}=t;let o;if((0,g.A)((()=>{let r;if(M=t,t.hooks&&(t.hooks.state&&(t.hooks.state.cursor=0),t.hooks.effects&&(t.hooks.effects.cursor=0),t.hooks.memos&&(t.hooks.memos.cursor=0),t.hooks.refs&&(t.hooks.refs.cursor=0)),e.Oig){const t=he(n);z[t]||(z[t]={name:t,renders:0,avgRenderTime:0}),e.MVx&&(P.has(t)||console.log(`[Teact] Render ${t}`)),r=performance.now()}if(o=n(a),e.Oig){const t=performance.now()-r,a=he(n);t>7&&console.warn(`[Teact] Slow component render: ${a}, ${Math.round(t)} ms`);const{renders:o,avgRenderTime:i}=z[a];z[a].avgRenderTime=(i*o+t)/(o+1),z[a].renders++,z.TOTAL.renders++,e.MVx&&(h(`${a} renders`),h(`${a} duration`,t))}}),{rescue:()=>{console.error(`[Teact] Error while rendering component ${t.name}`,t),o=t.renderedValue}}),t.mountState===L.Mounted&&o===t.renderedValue)return t.$element;t.renderedValue=o;const r=Array.isArray(o)?o:[o];return t.$element=W(t,r),t.$element}function ae(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===D.Text&&t.type===D.Text?e.value!==t.value:e.type===D.Tag&&t.type===D.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===D.Component&&t.type===D.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function oe(e){var t;if(e.mountState!==L.Unmounted){if(j.add(e.id),null!==(t=e.hooks)&&void 0!==t&&t.effects)for(const t of e.hooks.effects.byCursor){var n;t.cleanup&&(0,g.A)(t.cleanup),t.cleanup=void 0,null===(n=t.releaseSignals)||void 0===n||n.call(t)}e.mountState=L.Unmounted,function(e){const{effects:t,state:n,memos:a,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(a)for(const e of a.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function re(e){var t;if(e.mountState!==L.Unmounted&&null!==(t=e.hooks)&&void 0!==t&&t.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function ie(t,n){M.hooks||(M.hooks={}),M.hooks.state||(M.hooks.state={cursor:0,byCursor:[]});const{cursor:a,byCursor:o}=M.hooks.state,r=M;return void 0===o[a]&&(o[a]={value:t,nextValue:t,setter:t=>{r.mountState!==L.Unmounted&&("function"==typeof t&&(t=t(o[a].nextValue)),o[a].nextValue!==t&&(o[a].nextValue=t,q.add(r),Z(),e.MVx&&console.log("[Teact.useState]",he(r.Component),`State update at cursor #${a}${n?` (${n})`:""}, next value: `,o[a].nextValue)))}}),M.hooks.state.cursor++,[o[a].value,o[a].setter]}function se(t,n,a,o){M.hooks||(M.hooks={}),M.hooks.effects||(M.hooks.effects={cursor:0,byCursor:[]});const{cursor:r,byCursor:i}=M.hooks.effects,s=i[r],c=M;function l(){!function(t,n,a,o){var r;const{byCursor:i}=t.hooks.effects,s=null===(r=i[n])||void 0===r?void 0:r.cleanup,c=o?X:G,l=o?Q:Y,d=`${t.id}_${n}`;if(s){const a=()=>(0,g.A)((()=>{if(t.mountState===L.Unmounted)return;let a;if(e.Oig&&(a=performance.now()),s(),e.Oig){const e=performance.now()-a,o=he(t.Component);e>7&&console.warn(`[Teact] Slow cleanup at effect cursor #${n}: ${o}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${n} in ${t.name}`,t)},always:()=>{i[n].cleanup=void 0}});c.set(d,a)}l.set(d,(()=>(0,g.A)((()=>{if(t.mountState===L.Unmounted)return;let o;e.Oig&&(o=performance.now());const r=a();if("function"==typeof r&&(i[n].cleanup=r),e.Oig){const e=performance.now()-o,a=he(t.Component);e>7&&console.warn(`[Teact] Slow effect at cursor #${n}: ${a}, ${Math.round(e)} ms`)}}),{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${n} in ${t.name}`,t)}}))),Z()}(c,r,n,t)}if(a&&null!=s&&s.dependencies){if(a.some(((e,t)=>e!==s.dependencies[t]))){if(e.Oig&&o){const e=a.reduce(((e,t,n)=>{const a=s.dependencies[n];return t!==a&&e.push(`${n}: ${String(a)} => ${String(t)}`),e}),[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}l()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),l();s&&(s.schedule=void 0),i[r]={...s,dependencies:a,schedule:l},s||(i[r].releaseSignals=function(){const e=null==a?void 0:a.filter(y).map(((e,t)=>e.subscribe((()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),i[r].schedule()}))));if(null!=e&&e.length)return()=>{for(const t of e)t()}}()),M.hooks.effects.cursor++}function ce(e,t,n){return se(!1,e,t,n)}function le(e,t,n){return se(!0,e,t,n)}function de(t,n,a,o){M.hooks||(M.hooks={}),M.hooks.memos||(M.hooks.memos={cursor:0,byCursor:[]});const{cursor:i,byCursor:s}=M.hooks.memos;let c,{value:l}=s[i]||{};if(e.Oig&&o){const e=`${o}#${M.id}`;c=K[e],c||(c={key:e,calls:0,misses:0,hitRate:0},K[e]=c),c.calls++,c.hitRate=(c.calls-c.misses)/c.calls}if(void 0===s[i]||n.length!==s[i].dependencies.length||n.some(((e,t)=>e!==s[i].dependencies[t]))){if(e.Oig){if(a){const e=`[Teact.useMemo] ${M.name} (${a}): Update is caused by:`;s[i]?r(s[i].dependencies,n,e,a):console.log(`${e} [first render]`)}c&&(c.misses++,c.hitRate=(c.calls-c.misses)/c.calls,c.calls%10==0&&c.calls>=20&&c.hitRate<.25&&console.warn(`[Teact] ${c.key}: Hit rate is ${c.hitRate.toFixed(2)} for ${c.calls} calls`))}l=t()}return s[i]={value:l,dependencies:n},M.hooks.memos.cursor++,l}function ue(e,t,n){return de((()=>e),t,n)}function me(e){M.hooks||(M.hooks={}),M.hooks.refs||(M.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=M.hooks.refs;return n[t]||(n[t]={current:e}),M.hooks.refs.cursor++,n[t]}function pe(e){const t=me();return t.current??=E(e),t.current}function fe(t,n){function a(a){return de((()=>U(t,a)),Object.values(a),n,e.MVx?he(M.Component):void 0)}return a.DEBUG_contentComponentName=he(t),a}function he(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const ge={createElement:U,Fragment:O},ve=()=>{const[,e]=ie(!1);return ue((()=>{e((e=>!e))}),[])};var we=i(14235);const ye=function(e){ce(e,[])},be=function(e,t){const n=me(),{current:a}=n;return t&&void 0===e||(n.current=e),a};function Ee(e,t){const n=be(t),a=me();var o;n&&!t.some(((e,t)=>e!==n[t]))||(null===(o=a.current)||void 0===o||o.call(a),a.current=e(n||[])??void 0),ye((()=>()=>{var e;null===(e=a.current)||void 0===e||e.call(a)}))}function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=me();return Ee((()=>{t.current=e+(0,we.A)()}),[e]),t.current}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ce.apply(null,arguments)}const Ne=ge;let Se,Ae={isInited:!1};const Te=(0,l.Fe)((()=>{Se=Math.random()})),Ie={},Be=[function(){let t;e.Oig&&(t=performance.now());for(const t of xe.values()){const{mapStateToProps:n,ownProps:a,mappedProps:i,forceUpdate:c}=t;if(!He(t,Ae,a))continue;let l;try{l=n(Ae,a)}catch(e){return void(0,s.H)(e)}e.Oig&&Object.values(l).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${t.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(l).length&&!o(i,l)&&(e.MVx&&r(i,l,`[TeactN] Will update ${t.DEBUG_componentName} caused by:`),t.mappedProps=l,t.DEBUG_updates++,c())}if(e.Oig){const e=performance.now()-t;e>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(e)} ms`)}}],_e={},xe=new Map,De=(0,l.Fe)(Oe);let Le=!0;function Oe(){if(Le)Le=!1;else if(B())return void B.once(De);Be.forEach((e=>e(Ae)))}function Pe(t,n){if("object"==typeof t&&t!==Ae){if(e.Oig){if((null==n||!n.forceOutdated)&&t.DEBUG_randomId&&t.DEBUG_randomId!==Se)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");Se=Math.random()}Ae=t,null!=n&&n.forceSyncOnIOs?(Le=!0,Oe()):(null!=n&&n.forceOnHeavyAnimation&&(Le=!0),De())}}function Me(){return e.Oig&&(Ae={...Ae,DEBUG_randomId:Se},Te()),Ae}function Fe(){return _e}function Re(){Le=!0}let Ue=[];function We(e){Be.push(e)}function He(e,t,n){const{activationFn:a,stuckTo:o}=e;return!a||a(t,n,(t=>o?o===t:(void 0!==t&&(e.stuckTo=t),!0)))}e.Oig&&(window.getGlobal=Me,window.setGlobal=Pe,window.getActions=Fe,document.addEventListener("dblclick",(()=>{console.warn("GLOBAL CONTAINERS",(0,c.My)(Array.from(xe.values()).map((e=>{let{DEBUG_componentName:t,DEBUG_updates:n}=e;return{DEBUG_componentName:t,DEBUG_updates:n}})),"DEBUG_updates","desc"))})));const $e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>({}),t=arguments.length>1?arguments[1]:void 0;return n=>{function a(a){const r=ke(),i=ve();!function(){M.hooks||(M.hooks={}),M.hooks.effects||(M.hooks.effects={cursor:0,byCursor:[]});const{cursor:e,byCursor:t}=M.hooks.effects;t[e]||(t[e]={cleanup:()=>{xe.delete(r)}}),M.hooks.effects.cursor++}();let c=xe.get(r);if(c||(c={mapStateToProps:e,activationFn:t,ownProps:a,forceUpdate:i,DEBUG_updates:0,DEBUG_componentName:n.name},xe.set(r,c)),(!c.mappedProps||!o(c.ownProps,a))&&He(c,Ae,a))try{c.mappedProps=e(Ae,a)}catch(e){(0,s.H)(e)}return c.ownProps=a,ge.createElement(n,Ce({},c.mappedProps,a))}return a.DEBUG_contentComponentName=he(n),a}},Ve=Me,ze=Pe,Ke=Fe,qe=function(t,n){Ie[t]||(Ie[t]=[],_e[t]=(n,a)=>{!function(t,n,a){if(Ue.push((()=>{var o;null===(o=Ie[t])||void 0===o||o.forEach((t=>{const o=t(e.Oig?Me():Ae,_e,n);o&&"function"!=typeof o.then&&Pe(o,a)}))})),1===Ue.length)try{for(;Ue.length;)Ue[0](),Ue.shift()}finally{Ue=[]}}(t,n,a)}),Ie[t].push(n)},je=$e;var Ye=i(86243);function Ge(e){return!Qe(e,0)}function Qe(e,t){if(t<0)return!0;let n=0;for(const a in e)if(e.hasOwnProperty(a)&&(n++,n>t))return!0;return!1}function Xe(t){return!e.twH&&"view"===t}const Je=new WeakMap;function Ze(e,t){const n=function(){const n=Je.get(e),a=Date.now();for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if(n){const e=n.isDisabledUntil&&n.isDisabledUntil>a,o=t&&n.lastTime+1e3*t<a;if(!e&&!o&&(0,c.k)(n.lastArgs,r))return n.lastResult}const s=e(...r);return Je.set(e,{...n,lastArgs:r,lastResult:s,lastTime:a}),s};return n.disableCache=t=>{const n=Je.get(e);n&&(n.isDisabledUntil=Date.now()+1e3*t)},n}var et=i(19314);function tt(e){var t;return null===(t=e.accounts)||void 0===t?void 0:t.byId}const nt=Ze(((e,t)=>{if(t)return Object.fromEntries(Object.entries(t).filter((t=>{let[n]=t;return(0,Ye.cK)(n).network===e})))}));function at(e){var t;return nt(ot(e),null===(t=e.accounts)||void 0===t?void 0:t.byId)}function ot(e){return e.settings.isTestnet?"testnet":"mainnet"}function rt(e){return it(e,e.currentAccountId)}function it(e,t){var n;return null===(n=tt(e))||void 0===n?void 0:n[t]}function st(e,t){const n=it(e,t);if(n)return n;for(const n of[e.auth.firstNetworkAccount,e.auth.secondNetworkAccount])if((null==n?void 0:n.accountId)===t)return n}function ct(e){return lt(e,e.currentAccountId)}function lt(e,t){return e.byAccountId[t]}function dt(e,t){return e.settings.byAccountId[t]}function ut(e){return dt(e,e.currentAccountId)}function mt(e){return"hardware"===e.type}function pt(e){const t=rt(e);return Boolean(t)&&mt(t)}function ft(e,t){const n=tt(e);return Object.entries(n??{}).reduce(((e,n)=>{let[a,o]=n;return mt(o)&&(0,Ye.cK)(a).network===t&&e.push(o),e}),[])}function ht(e){return 1===Object.keys(tt(e)||{}).length}const gt=(0,et.A)((e=>Ze((e=>(e??[]).filter((e=>{let{isDisabled:t}=e;return!t})).length))));function vt(e){return"mnemonic"===e.type}function wt(e){const t=rt(e);return Boolean(t)&&vt(t)}const yt=Ze((e=>Object.values(e??{}).some(vt)));function bt(e){return yt(tt(e))}function Et(e,t){var n;return((null===(n=lt(e,t))||void 0===n||null===(n=n.vesting)||void 0===n?void 0:n.info)||[]).reduce(((e,t)=>(t.parts.forEach((n=>{"ready"===n.status&&e.push({id:t.id,partId:n.id})})),e)),[])}function kt(e,t,n){var a;return null===(a=lt(e,t))||void 0===a||null===(a=a.nfts)||void 0===a||null===(a=a.byAddress)||void 0===a?void 0:a[n]}function Ct(e,t){var n;const a=null===(n=it(e,t))||void 0===n?void 0:n.addressByChain;return Boolean(a)&&Qe(a,1)}function Nt(e){const{authConfig:t}=e.settings;return!!t&&"password"!==t.kind}function St(e){const{authConfig:t}=e.settings;return!!t&&"native-biometrics"===t.kind}function At(e,t){const n=dt(e,t);return(null==n?void 0:n.isAllowSuspiciousActions)??!1}function Tt(e){const{type:t}=rt(e)||{};return Xe(t)}var It=i(3476);function Bt(e){return"nft:transfer"===(null==e?void 0:e.type)}function _t(e){return"tokens:transfer"===(null==e?void 0:e.type)||"tokens:transfer-non-standard"===(null==e?void 0:e.type)}const xt=Ze((t=>{const n={},a=(e,t)=>{n[e]=(n[e]??0n)+t};let o=!1,r=!1,i=0;for(const n of t??[])n.isScam&&(o=!0),n.isDangerous&&(r=!0),a(e.Tu9.slug,n.amount+n.networkFee),_t(n.payload)?a(n.payload.slug,n.payload.amount):Bt(n.payload)&&i++;return{amountsBySlug:n,isScam:o,isDangerous:r,nftCount:i}})),Dt=Ze(((t,n,a)=>{if(!n||!a)return;const o=[];for(const[r,i]of Object.entries(t)){const t=a[r]??e.Bx3;if((n[r===e.Fmr?e.Tu9.slug:r]??0n)<i){const n=r===e.Fmr?e.Tu9.symbol:t.symbol;o.push(n)}}return o.length>0?o.join(", "):void 0}));function Lt(e){const{transactions:t}=e.currentDappTransfer;return xt(t)}function Ot(e){var t;const n=ct(e),a=null==n||null===(t=n.balances)||void 0===t?void 0:t.bySlug,o=e.tokenInfo.bySlug,{amountsBySlug:r}=Lt(e);return Dt(r,a,o)}var Pt=i(398),Mt=i(48805);function Ft(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mt.z.roundHalfUp;return new Mt.z(e).round(t,n).toNumber()}const Rt=(0,et.A)((t=>Ze((function(t,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=function(t,n){return Object.keys(t).length===e._bq&&Object.entries(t).every((t=>{let[a,o]=t;const{decimals:r,priceUsd:i}=n.bySlug[a];return(0,Pt.CF)(o,r).mul(i??0).lt(e.Wvq)}))}(t,n);return Object.entries(t).filter((e=>{var t;let[o]=e;return o in n.bySlug&&!(null!==(t=a.deletedSlugs)&&void 0!==t&&t.includes(o))})).map((t=>{var o,s;let[c,l]=t;const{symbol:d,name:u,image:m,decimals:p,cmcSlug:f,color:h,chain:g,tokenAddress:v,codeHash:w,type:y,price:b=0,percentChange24h:E=0,priceUsd:k}=n.bySlug[c],C=(0,Pt.CF)(l,p),N=C.mul(b).round(p).toString(),S=C.mul(k??0).gte(e.Wvq),A=e.kuH.has(w)&&l>0n,T=!(i&&e.Fgn.includes(c)||!r||r&&S||A||(null===(o=a.alwaysShownSlugs)||void 0===o?void 0:o.includes(c)))||(null===(s=a.alwaysHiddenSlugs)||void 0===s?void 0:s.includes(c));return{chain:g,symbol:d,slug:c,amount:l,name:u,image:m,price:b,priceUsd:k,decimals:p,change24h:Ft(E/100,4),isDisabled:T,cmcSlug:f,totalValue:N,color:h,tokenAddress:v,codeHash:w,type:y}})).sort(((t,n)=>{if(o||!a.orderedSlugs){const a=e.oR5.indexOf(t.slug),o=e.oR5.indexOf(n.slug);return-1!==a&&-1!==o&&t.totalValue===n.totalValue?a-o:-1!==a&&-1===o?-1:-1!==o&&-1===a?1:Number(n.totalValue)-Number(t.totalValue)}return a.orderedSlugs.indexOf(t.slug)-a.orderedSlugs.indexOf(n.slug)}))}))));function Ut(e){return $t(e,e.currentAccountId)}function Wt(e,t){var n;return(null===(n=ct(e))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug[t])??0n}function Ht(t){return Wt(t,e.Tu9.slug)}function $t(e,t){var n;const a=null===(n=lt(e,t))||void 0===n||null===(n=n.balances)||void 0===n?void 0:n.bySlug;if(!a||!e.tokenInfo)return;const o=dt(e,t),{areTokensWithNoCostHidden:r,isSortByValueEnabled:i}=e.settings;return Rt(t)(a,e.tokenInfo,o,i,r)}function Vt(t,n){if(n!==e.Tu9.slug)return zt(t,n).tokenAddress}function zt(e,t){return e.tokenInfo.bySlug[t]}function Kt(t){const{isTestnet:n}=t.settings;return zt(t,n?e.GX2.slug:e.oUU.slug)}function qt(e,t){return(Ut(e)??[]).filter((e=>e.chain===t)).reduce(((e,t)=>t.priceUsd*Number(t.amount)>(e?e.priceUsd*Number(e.amount):0)?t:e))}function jt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(vn(e)?1:0)-(vn(t)?1:0);return 0===a&&(a=e.timestamp-t.timestamp,0===a&&(a=e.id>t.id?1:e.id<t.id?-1:0)),n?a:-a}var Yt=i(91049);const Gt=new Map;function Qt(t){return(0,Yt.W)(t,e.bOf)}function Xt(e){const t=Qt(e);return Gt.get(t)}function Jt(e){const{fromAddress:t,amount:n,timestamp:a}=e,o=Xt(t);(!o||o.timestamp<a||o.timestamp===a&&o.amount>n)&&function(e,t,n){const a=Qt(e);Gt.set(a,{address:e,amount:t,timestamp:n})}(t,n,a)}function Zt(e){const{fromAddress:t}=e,n=Xt(t);return n&&n.address!==t}function en(){Gt.clear()}const tn={stake:["Staked","Staking","$stake_action"],unstake:["Unstaked","Unstaking","$unstake_action"],unstakeRequest:["Unstake Requested","Requesting Unstake","$request_unstake_action"],callContract:["Contract Called","Calling Contract","$call_contract_action"],excess:["Excess","Excess","Excess"],contractDeploy:["Contract Deployed","Deploying Contract","$deploy_contract_action"],bounced:["Bounced","Bouncing","$bounce_action"],mint:["Minted","Minting","$mint_action"],burn:["Burned","Burning","$burn_action"],auctionBid:["NFT Auction Bid","Bidding at NFT Auction","NFT Auction Bid"],dnsChangeAddress:["Address Updated","Updating Address","$update_address_action"],dnsChangeSite:["Site Updated","Updating Site","$update_site_action"],dnsChangeSubdomains:["Subdomains Updated","Updating Subdomains","$update_subdomains_action"],dnsChangeStorage:["Storage Updated","Updating Storage","$update_storage_action"],dnsDelete:["Domain Record Deleted","Deleting Domain Record","$delete_domain_record_action"],dnsRenew:["Domain Renewed","Renewing Domain","$renew_domain_action"],liquidityDeposit:["Liquidity Provided","Providing Liquidity","$provide_liquidity_action"],liquidityWithdraw:["Liquidity Withdrawn","Withdrawing Liquidity","$withdraw_liquidity_action"]},nn=new Set(["stake","unstake","unstakeRequest"]),an=new Set(["dnsChangeAddress","dnsChangeSite","dnsChangeStorage","dnsChangeSubdomains","dnsDelete","dnsRenew"]);function on(e){const[t,n,a]=e.split(":");return{hash:t,type:a,subId:n}}function rn(e){return e.endsWith(":local")}function sn(e){return e.endsWith(":backend-swap")}function cn(e){switch(e.kind){case"transaction":return e.nft?[]:[e.slug];case"swap":return[e.from,e.to]}}function ln(e){return!(!e||rn(e.id)||sn(e.id)||vn(e))}function dn(e,t,n){let a,{type:o,isIncoming:r,nft:i}=e;a="nftTrade"===o?r?["NFT Sold","Selling NFT","$sell_nft_action"]:["NFT Bought","Buying NFT","$buy_nft_action"]:o&&tn[o]?tn[o]:r?["Received","Receiving","$receive_action"]:["Sent","Sending","$send_action"];let s=n(a["past"===t?0:"present"===t?1:2]);return!i||o&&"mint"!==o&&"burn"!==o||(s+=" NFT"),s}function un(e){var t;return Boolean(null===(t=e.metadata)||void 0===t?void 0:t.isScam)||e.isIncoming&&Zt(e)}function mn(e){return Boolean(e.comment||e.encryptedComment)&&!nn.has(e.type)&&!un(e)}function pn(e){let{type:t,amount:n,nft:a}=e;return n||void 0===t&&!a?"stake"===t||"unstake"===t?"noSign":"normal":"hide"}function fn(t){const{type:n,isIncoming:a,nft:o,toAddress:r,fromAddress:i,extra:s}=t;return"nftTrade"===n?null!=s&&s.marketplace?["list"]:[]:hn(t)||"burn"===n||!a&&o&&r===o.address||a&&"excess"===n&&i===e.pV9?[]:["list","modal"]}function hn(t){let{type:n,isIncoming:a,toAddress:o,fromAddress:r}=t;return nn.has(n)&&e.uPU.includes(a?r:o)}function gn(e){return"stake"===e.type&&hn(e)}function vn(e){return"pending"===e.status&&!sn(e.id)}function wn(e,t){const n=[],a=[];for(const t of e)(rn(t.id)?n:a).push(t);return{...yn(n,t),...bn(a,t)}}function yn(e,t){const n={};if(!e.length)return n;const a=new Set((0,c.JY)(t,"id")),o=t.filter((e=>!rn(e.id)));for(const t of e){const{id:e}=t;if(a.has(e)){n[e]=e;continue}const r=o.find((e=>En(t,e)));r&&(n[e]=r.id)}return n}function bn(e,t){const n={};if(!e.length)return n;const a=new Set((0,c.JY)(t,"id")),o=(0,c.$z)(t,"externalMsgHashNorm");for(const{id:t,externalMsgHashNorm:r}of e)if(a.has(t))n[t]=t;else if(r){const e=o[r];null!=e&&e.length&&(n[t]=e[0].id,e.length>1&&e.shift())}return n}function En(e,t){var n;if(null!==(n=e.extra)&&void 0!==n&&n.withW5Gasless){if("transaction"===e.kind&&"transaction"===t.kind)return!t.isIncoming&&e.normalizedAddress===t.normalizedAddress&&e.amount===t.amount&&e.slug===t.slug;if("swap"===e.kind&&"swap"===t.kind)return e.from===t.from&&e.to===t.to&&e.fromAmount===t.fromAmount}return e.externalMsgHashNorm?e.externalMsgHashNorm===t.externalMsgHashNorm&&!t.shouldHide:on(e.id).hash===on(t.id).hash}function kn(e,t){var n;return(0,c.LG)((null===(n=lt(e,t))||void 0===n||null===(n=n.activities)||void 0===n?void 0:n.newestActivitiesBySlug)||{},(e=>{let{timestamp:t}=e;return t}))}function Cn(e,t){var n;const{byId:a={},localActivityIds:o=[]}=(null===(n=e.byAccountId[t])||void 0===n?void 0:n.activities)??{};return(0,c.oE)(o.map((e=>a[e])))}function Nn(e,t,n){var a;const{byId:o={},pendingActivityIds:r={}}=(null===(a=e.byAccountId[t])||void 0===a?void 0:a.activities)??{},i=r[n]??[];return(0,c.oE)(i.map((e=>o[e])))}function Sn(e,t,n){const a=lt(e,t),{isMainHistoryEndReached:o,isHistoryEndReachedBySlug:r}=(null==a?void 0:a.activities)??{};return n?!(null==r||!r[n]):!!o}let An=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Explore=2]="Explore",e[e.Settings=3]="Settings",e[e.Ledger=4]="Ledger",e[e.Inactive=5]="Inactive",e}({}),Tn=function(e){return e[e.none=0]="none",e[e.createWallet=1]="createWallet",e[e.checkPassword=2]="checkPassword",e[e.createPin=3]="createPin",e[e.confirmPin=4]="confirmPin",e[e.createBiometrics=5]="createBiometrics",e[e.confirmBiometrics=6]="confirmBiometrics",e[e.createNativeBiometrics=7]="createNativeBiometrics",e[e.createPassword=8]="createPassword",e[e.createBackup=9]="createBackup",e[e.disclaimerAndBackup=10]="disclaimerAndBackup",e[e.importWalletCheckPassword=11]="importWalletCheckPassword",e[e.importWallet=12]="importWallet",e[e.importWalletCreatePin=13]="importWalletCreatePin",e[e.importWalletConfirmPin=14]="importWalletConfirmPin",e[e.importWalletCreateNativeBiometrics=15]="importWalletCreateNativeBiometrics",e[e.importWalletCreateBiometrics=16]="importWalletCreateBiometrics",e[e.importWalletConfirmBiometrics=17]="importWalletConfirmBiometrics",e[e.importWalletCreatePassword=18]="importWalletCreatePassword",e[e.disclaimer=19]="disclaimer",e[e.ready=20]="ready",e[e.about=21]="about",e[e.safetyRules=22]="safetyRules",e[e.mnemonicPage=23]="mnemonicPage",e[e.checkWords=24]="checkWords",e[e.importViewAccount=25]="importViewAccount",e}({}),In=function(e){return e[e.None=0]="None",e[e.TurnOnPasswordConfirmation=1]="TurnOnPasswordConfirmation",e[e.TurnOnRegistration=2]="TurnOnRegistration",e[e.TurnOnVerification=3]="TurnOnVerification",e[e.TurnOnComplete=4]="TurnOnComplete",e[e.TurnOffWarning=5]="TurnOffWarning",e[e.TurnOffBiometricConfirmation=6]="TurnOffBiometricConfirmation",e[e.TurnOffCreatePassword=7]="TurnOffCreatePassword",e[e.TurnOffComplete=8]="TurnOffComplete",e}({}),Bn=function(e){return e[e.None=0]="None",e[e.WarningHardware=1]="WarningHardware",e[e.Initial=2]="Initial",e[e.Confirm=3]="Confirm",e[e.Password=4]="Password",e[e.ConnectHardware=5]="ConnectHardware",e[e.ConfirmHardware=6]="ConfirmHardware",e[e.Complete=7]="Complete",e}({}),_n=function(e){return e[e.SeedPhrase=1]="SeedPhrase",e[e.DomainLike=2]="DomainLike",e}({}),xn=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.Complete=3]="Complete",e}({}),Dn=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.ConnectHardware=3]="ConnectHardware",e[e.ConfirmHardware=4]="ConfirmHardware",e[e.Complete=5]="Complete",e}({}),Ln=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Password=2]="Password",e[e.ConnectHardware=3]="ConnectHardware",e[e.ConfirmHardware=4]="ConfirmHardware",e[e.Complete=5]="Complete",e}({}),On=function(e){return e[e.None=0]="None",e[e.Initial=1]="Initial",e[e.Blockchain=2]="Blockchain",e[e.Password=3]="Password",e[e.WaitTokens=4]="WaitTokens",e[e.Complete=5]="Complete",e[e.SelectTokenFrom=6]="SelectTokenFrom",e[e.SelectTokenTo=7]="SelectTokenTo",e}({}),Pn=function(e){return e[e.In=0]="In",e[e.Out=1]="Out",e}({}),Mn=function(e){return e[e.UnexpectedError=0]="UnexpectedError",e[e.InvalidPair=1]="InvalidPair",e[e.NotEnoughLiquidity=2]="NotEnoughLiquidity",e[e.ChangellyMinSwap=3]="ChangellyMinSwap",e[e.ChangellyMaxSwap=4]="ChangellyMaxSwap",e[e.NotEnoughForFee=5]="NotEnoughForFee",e[e.TooSmallAmount=6]="TooSmallAmount",e}({}),Fn=function(e){return e[e.OnChain=0]="OnChain",e[e.CrosschainFromWallet=1]="CrosschainFromWallet",e[e.CrosschainToWallet=2]="CrosschainToWallet",e}({}),Rn=function(e){return e[e.Info=0]="Info",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e}({}),Un=function(e){return e[e.Connect=0]="Connect",e[e.Connecting=1]="Connecting",e[e.Failed=2]="Failed",e[e.ConnectedWithSeveralWallets=3]="ConnectedWithSeveralWallets",e[e.ConnectedWithSingleWallet=4]="ConnectedWithSingleWallet",e[e.WaitingForRemoteTab=5]="WaitingForRemoteTab",e}({}),Wn=function(e){return e[e.None=0]="None",e[e.StakeInitial=1]="StakeInitial",e[e.StakePassword=2]="StakePassword",e[e.StakeConnectHardware=3]="StakeConnectHardware",e[e.StakeConfirmHardware=4]="StakeConfirmHardware",e[e.StakeComplete=5]="StakeComplete",e[e.UnstakeInitial=6]="UnstakeInitial",e[e.UnstakePassword=7]="UnstakePassword",e[e.UnstakeConnectHardware=8]="UnstakeConnectHardware",e[e.UnstakeConfirmHardware=9]="UnstakeConfirmHardware",e[e.UnstakeComplete=10]="UnstakeComplete",e[e.ClaimPassword=11]="ClaimPassword",e[e.ClaimConnectHardware=12]="ClaimConnectHardware",e[e.ClaimConfirmHardware=13]="ClaimConfirmHardware",e[e.ClaimComplete=14]="ClaimComplete",e}({}),Hn=function(e){return e[e.Password=0]="Password",e[e.ConnectHardware=1]="ConnectHardware",e[e.ConfirmHardware=2]="ConfirmHardware",e}({}),$n=function(e){return e[e.Initial=0]="Initial",e[e.PushNotifications=1]="PushNotifications",e[e.Appearance=2]="Appearance",e[e.Assets=3]="Assets",e[e.Security=4]="Security",e[e.Dapps=5]="Dapps",e[e.Language=6]="Language",e[e.About=7]="About",e[e.Disclaimer=8]="Disclaimer",e[e.NativeBiometricsTurnOn=9]="NativeBiometricsTurnOn",e[e.SelectTokenList=10]="SelectTokenList",e[e.WalletVersion=11]="WalletVersion",e[e.LedgerConnectHardware=12]="LedgerConnectHardware",e[e.LedgerSelectWallets=13]="LedgerSelectWallets",e[e.HiddenNfts=14]="HiddenNfts",e[e.BackupWallet=15]="BackupWallet",e}({}),Vn=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e[e.Done=4]="Done",e}({}),zn=function(e){return e[e.Receive=0]="Receive",e[e.Transfer=1]="Transfer",e[e.Swap=2]="Swap",e[e.Stake=3]="Stake",e}({}),Kn=function(e){return e[e.Assets=0]="Assets",e[e.Activity=1]="Activity",e[e.Explore=2]="Explore",e[e.Nft=3]="Nft",e}({}),qn=function(e){return e[e.Nft=0]="Nft",e}({}),jn=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}({});function Yn(t){return e.zll[t]}function Gn(t){return t in e.zll?e.zll[t]:void 0}const Qn=Object.fromEntries(Object.entries(e.zll).map((e=>{let[t,{nativeToken:n}]=e;return[n.slug,t]})));function Xn(e){return!!e&&e in Qn}function Jn(t,n){return Boolean(t.startsWith("ton-")||n&&t===e.Tu9.slug)}function Zn(e){return Yn(e).nativeToken}function ea(e){const t=e.split("-");return t.length>1?t[0]:Qn[e]}function ta(t){const{type:n,codeHash:a="",slug:o=""}=t??{};return"lp_token"===n||e.Svl.has(o)||e.kuH.has(a)}function na(e){return{...(0,c.Up)(e,["symbol","slug","name","image","decimals","keywords","chain","tokenAddress","type"]),amount:0n,totalValue:"0",price:0,priceUsd:0,change24h:0}}function aa(e,t,n,a){return Object.entries(e.bySlug).filter((e=>{let[,t]=e;return!a||a(t)})).map((e=>{let[n,{symbol:a,name:o,image:r,decimals:i,keywords:s,chain:c,tokenAddress:l,isPopular:d,color:u,price:m=0,priceUsd:p=0}]=e;const f=t[n]??0n;return{symbol:a,slug:n,amount:f,price:m,priceUsd:p,name:o,image:r,decimals:i,isDisabled:!1,canSwap:!0,isPopular:d,keywords:s,totalValue:(0,Pt.CF)(f,i).mul(m).toString(),color:u,chain:c,tokenAddress:l}})).sort(n)}const oa=(0,et.A)((e=>Ze(((e,t)=>{const n=["TON","USD₮","USDT","BTC","ETH","jUSDT","jWBTC"],a=new Map(n.map(((e,t)=>[e,t])));return aa(t,e,((e,t)=>(a.has(e.symbol)?a.get(e.symbol):n.length)-(a.has(t.symbol)?a.get(t.symbol):n.length)),(e=>e.isPopular))})))),ra=(0,et.A)((e=>Ze(((e,t)=>aa(t,e,((e,t)=>e.name.trim().toLowerCase().localeCompare(t.name.trim().toLowerCase()))))))),ia=(0,et.A)((e=>Ze((function(t,n,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Rt(e)(t,n,o,r,i).filter((e=>e.slug in a.bySlug&&!e.isDisabled))}))));function sa(e){var t;const n=null===(t=ct(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return ra(e.currentAccountId)(n,e.swapTokenInfo)}function ca(e){const{tokenInSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function la(e){const{tokenOutSlug:t}=e.currentSwap;return void 0===t?void 0:e.swapTokenInfo.bySlug[t]}function da(t){const{tokenInSlug:n=e.JhS,tokenOutSlug:a=e.rKC}=t.currentSwap,o=ea(n),r=ea(a);if("ton"===o&&"ton"===r)return Fn.OnChain;const{addressByChain:i}=rt(t)??{addressByChain:{}};return o in i?Fn.CrosschainFromWallet:Fn.CrosschainToWallet}function ua(t){return e.TI6||t.restrictions.isSwapDisabled||t.settings.isTestnet||pt(t)}var ma=i(809);function pa(t){return function(e){return void 0!==e.diesel&&("not-available"!==(t=e.diesel).status&&void 0!==t.amount);var t}(t)?function(e){let{diesel:t}=e;const n="stars-fee"===t.status?"stars":"token",a=function(e,t,n){const a=(0,Mt.z)(n.toString()).div(t.toString());return BigInt((0,Mt.z)(e.toString()).mul(a).round().toString())}(t.realFee,t.nativeAmount,t.amount),o=(0,ma.UA)(t.amount,a),r=(0,ma._O)(0n,t.realFee-t.nativeAmount);return{isGasless:!0,canTransferFullBalance:!1,fullFee:{precision:"lessThan",terms:{[n]:t.amount,native:t.remainingFee},nativeSum:t.nativeAmount+t.remainingFee},realFee:{precision:"approximate",terms:{[n]:o,native:r},nativeSum:t.realFee},excessFee:t.nativeAmount+t.remainingFee-t.realFee}}(t):function(t){const n={isGasless:!1,canTransferFullBalance:t.tokenSlug===e.Tu9.slug};return void 0!==t.fee&&(n.fullFee={precision:t.realFee===t.fee?"exact":"lessThan",terms:{native:t.fee},nativeSum:t.fee},n.realFee=n.fullFee),void 0!==t.realFee&&(n.realFee={precision:t.realFee===t.fee?"exact":"approximate",terms:{native:t.realFee},nativeSum:t.realFee}),void 0!==t.fee&&void 0!==t.realFee&&(n.excessFee=t.fee-t.realFee),n}(t)}function fa(e){let{tokenBalance:t,tokenSlug:n,fullFee:a,canTransferFullBalance:o}=e;if(void 0===t)return;if(o||!a)return t;let r=a.token??0n;return Xn(n)&&(r+=a.native??0n),(0,ma._O)(t-r,0n)}function ha(e){return"stars-fee"===e.status?0n:e.amount??0n}var ga=i(67491);function va(e,t,n){const a=Yn(t);return e&&(a[n?"addressPrefixRegex":"addressRegex"].test(e)||a.isDnsSupported&&(0,ga.iy)(e))}function wa(e){const{currentTransfer:t}=e,n=Wt(e,t.tokenSlug),{fullFee:a,canTransferFullBalance:o}=pa(t);return fa({tokenBalance:n,tokenSlug:t.tokenSlug,fullFee:null==a?void 0:a.terms,canTransferFullBalance:o})}function ya(e){const{tokenSlug:t,toAddress:n}=e.currentTransfer,a=ea(t);if(!n)return t;for(const r of[!1,!0]){var o;if(!n||va(n,a,r))return t;const i=null===(o=rt(e))||void 0===o?void 0:o.addressByChain;if(i)for(const t of Object.keys(i)){if(!va(n,t,r))continue;const a=qt(e,t);if(a)return a.slug}}return t}const ba=(0,et.A)((e=>Ze(((e,t)=>{const n=t?Object.values(t):void 0;return null!=n&&n.length?n:[e]}))));function Ea(e,t){var n;const{stateById:a}=(null===(n=lt(e,t))||void 0===n?void 0:n.staking)??{};return ba(t)(e.stakingDefault,a)}const ka=(0,et.A)((e=>Ze((e=>(0,c.dU)(e,"tokenSlug")))));function Ca(e,t){return ka(t)(Ea(e,t))}function Na(t,n){var a;const{stateById:o,stakingId:r,shouldUseNominators:i}=(null===(a=lt(t,n))||void 0===a?void 0:a.staking)??{};return o&&r&&r in o?o[r]:i?e.Ba4:t.stakingDefault}function Sa(t,n){const a=lt(t,n);return Na(t,n).tokenSlug===e.Tu9.slug?null==a?void 0:a.stakingHistory:void 0}function Aa(t){return Boolean(e.OuE||t.settings.isTestnet)}function Ta(e,t){var n;const{linkedAddressByAddress:a}=(null===(n=ct(e))||void 0===n?void 0:n.nfts)||{};return(0,ga.bU)(t)?null==a?void 0:a[t.address]:void 0}qe("initApi",(async(e,o)=>{var r;(0,t.MD)("initApi action called");const i=null!==(r=e.accounts)&&void 0!==r&&r.byId?Object.keys(e.accounts.byId):[];(0,a.R)(o.apiUpdate,{isElectron:n.cp,isNativeBottomSheet:n.bA,isIosApp:n.ZH,isAndroidApp:n.xy,referrer:new URLSearchParams(window.location.search).get("r")??void 0,accountIds:i}),await(0,a.p)("waitDataPreload");const{currentAccountId:s}=Ve();if(!s)return;const c=kn(e,s);(0,a.p)("activateAccount",s,c)})),qe("resetApiSettings",((t,a,o)=>{const r=!(null!=o&&o.areAllDisabled);e.hL1&&(a.toggleTonMagic({isEnabled:!1}),a.toggleTonProxy({isEnabled:!1})),(e.hL1||n.cp)&&a.toggleDeeplinkHook({isEnabled:r}),a.changeBaseCurrency({currency:e.wOb})}));var Ia,Ba,_a=i(16546);!function(e){e[e.NONE=0]="NONE",e[e.TOUCH_ID=1]="TOUCH_ID",e[e.FACE_ID=2]="FACE_ID",e[e.FINGERPRINT=3]="FINGERPRINT",e[e.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",e[e.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",e[e.MULTIPLE=6]="MULTIPLE"}(Ia||(Ia={})),function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",e[e.USER_LOCKOUT=2]="USER_LOCKOUT",e[e.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",e[e.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",e[e.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",e[e.APP_CANCEL=11]="APP_CANCEL",e[e.INVALID_CONTEXT=12]="INVALID_CONTEXT",e[e.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",e[e.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",e[e.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",e[e.USER_CANCEL=16]="USER_CANCEL",e[e.USER_FALLBACK=17]="USER_FALLBACK"}(Ba||(Ba={}));const xa=(0,_a.F3)("NativeBiometric",{web:()=>i.e(542).then(i.bind(i,35542)).then((e=>new e.NativeBiometricWeb))});var Da=i(23174),La=i(59121),Oa=i(10309);const Pa=e.tKX?25:250,Ma=n.pz?350:250,Fa=Oa.Z2,Ra=window.innerHeight,Ua=[];let Wa=Ha();function Ha(){return za(),Ya(),setTimeout((()=>{Ya(),function(){const{safeAreaTop:e,safeAreaBottom:t}=$a();Wa={...Wa,safeAreaTop:e,safeAreaBottom:t}}()}),Fa),$a()}function $a(){return{width:window.innerWidth,height:window.innerHeight,screenHeight:window.screen.height,safeAreaTop:qa(),safeAreaBottom:ja()}}window.addEventListener("orientationchange",(0,l.nF)((()=>{Wa=Ha()}),Ma,!1)),n.pz||window.addEventListener("resize",(0,l.nF)((()=>{Wa=Ha()}),Pa,!0)),e.UMQ&&i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardDidShow",(async e=>{await Ka(e.keyboardHeight);for(const e of Ua)(0,g.A)(e)})),t.addListener("keyboardWillHide",(()=>{Ka(0)}))})),"visualViewport"in window&&(n.pz||n.Ni)&&window.visualViewport.addEventListener("resize",(0,l.nF)((t=>{const a=t.target;if(n.pz&&e.tKX){const e=Ra-a.height;Ka(e>40?e:0).finally((()=>{(0,k.YS)((()=>{Wa={...$a(),height:a.height}}))}))}else za(),Wa={...$a(),height:a.height}}),Pa,!0));const Va=()=>Wa;function za(){if(!n.pz&&!n.Ni||e.UMQ||n.pz&&e.tKX)return;const t=n.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight;(0,k.RK)((()=>{const e=.01*t;document.documentElement.style.setProperty("--vh",`${e}px`)}))}function Ka(e){return new Promise((t=>{(0,k.RK)((()=>{(0,d.ZM)(document.body,{paddingBottom:e?`${e}px`:""}),t()}))}))}function qa(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top-value"),10);return Number.isNaN(e)?0:e}function ja(){const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom-value"),10);return Number.isNaN(e)?0:e}function Ya(){const{safeAreaTop:e,safeAreaBottom:t}=$a(),{documentElement:n}=document;(0,k.RK)((()=>{n.classList.toggle("with-safe-area-top",!Number.isNaN(e)&&e>0),n.classList.toggle("with-safe-area-bottom",!Number.isNaN(t)&&t>0)}))}let Ga,Qa=!1,Xa=!1,Ja=!1,Za=!1,eo=0;function to(){var e;const t=null===(e=Ga)||void 0===e?void 0:e.BiometricManager;if(!t)return;const{isBiometricAvailable:n,isAccessGranted:a,isAccessRequested:o}=t;return n&&o&&!a}function no(){return Ga}function ao(){return new Promise((e=>{window.addEventListener("DOMContentLoaded",(()=>{e(no())}))}))}function oo(){const{top:e,left:t,right:n,bottom:a}=Ga.safeAreaInset,{top:o,left:r,right:i,bottom:s}=Ga.contentSafeAreaInset;document.documentElement.style.setProperty("--safe-area-top",`${e+o}px`),document.documentElement.style.setProperty("--safe-area-left",`${t+r}px`),document.documentElement.style.setProperty("--safe-area-right",`${n+i}px`),document.documentElement.style.setProperty("--safe-area-bottom",`${a+s}px`)}function ro(){Ga.isFullscreen?(Ke().openFullscreen(),so()):(Ke().closeFullscreen(),co())}function io(e){co(),"ALREADY_FULLSCREEN"===e.error&&(Ke().openFullscreen(),so())}function so(){var e;eo+=1,1===eo&&(null===(e=Ga)||void 0===e||e.disableVerticalSwipes())}function co(){var e;eo=Math.max(0,eo-1),0===eo&&(null===(e=Ga)||void 0===e||e.enableVerticalSwipes())}function lo(e){return new Promise(((t,n)=>{no().BiometricManager.requestAccess(e,(e=>{e?t(e):n(new Error("Access denied"))}))}))}async function uo(t){const n=no().BiometricManager;if(!n.isAccessGranted&&!await lo({reason:e.C39}))throw new Error("Access to biometric data has not been granted");return new Promise(((e,a)=>{n.updateBiometricToken(t,(n=>{n?e(t):a(new Error("Failed to update or save the biometric token"))}))}))}async function mo(){const t=no().BiometricManager;if(!t.isAccessGranted&&!await lo({reason:e.C39}))throw new Error("Biometric access was denied. Please grant access to proceed.");return new Promise(((e,n)=>{t.authenticate({reason:""},((t,a)=>{t?e({success:t,token:a}):n(new Error("Biometric authentication failed. Please try again."))}))}))}var po=i(48287).Buffer,fo=function(e){return e[e.Ed25519=-8]="Ed25519",e[e.ES256=-7]="ES256",e[e.RS256=-257]="RS256",e}(fo||{});const ho=e.C39,go=e.C39,vo={createCredential:async function(){const e=window.location.hostname,t=(0,La.po)(32),n=(0,La.po)(32),a={publicKey:{challenge:(0,La.po)(32),rp:{name:ho,id:e},user:{id:t,name:go,displayName:ho},pubKeyCredParams:[{type:"public-key",alg:fo.ES256},{type:"public-key",alg:fo.RS256},{type:"public-key",alg:fo.Ed25519}],authenticatorSelection:{requireResidentKey:!0,userVerification:"preferred"},extensions:{credBlob:n,hmacCreateSecret:!0},timeout:12e4,excludeCredentials:[]}},o=await navigator.credentials.create(a);if(!o)throw new Error("Missing credential");return{type:o.getClientExtensionResults().credBlob?"credBlob":"userHandle",password:{credBlob:po.from(n).toString("hex"),userHandle:po.from(t).toString("hex")},credential:o}},verify:async function(e){let{credential:t,password:n,type:a}=e;await(0,l.v7)(300);const o=t.response&&t.response.getTransports&&t.response.getTransports(),r=po.from(t.rawId).toString("hex"),i={publicKey:{challenge:(0,La.po)(32),allowCredentials:[{id:t.rawId,type:"public-key",transports:o}],userVerification:"required",extensions:{getCredBlob:!0}}},s=await navigator.credentials.get(i);if(!s)throw new Error("Missing authentication");const c=s.response;let d;if("userHandle"===a){if(!c.userHandle)throw new Error("Missing stored userHandle");if(!po.from(n.userHandle,"hex").equals(po.from(c.userHandle)))throw new Error("Stored blob not equals passed blob");d=n.userHandle}if(!d)throw new Error("Missing stored blob");return{config:{kind:"webauthn",type:a,credentialId:r,transports:o},password:d}},getPassword:async function(e){if("webauthn"!==e.kind)throw new Error("Unexpected auth kind");const{credentialId:t,transports:n,type:a}=e,o=(new AbortController).signal,r={publicKey:{challenge:(0,La.po)(32),allowCredentials:[{id:po.from(t,"hex"),type:"public-key",transports:n}],userVerification:"required",extensions:{getCredBlob:!0}},signal:o},i=await navigator.credentials.get(r);if(o.aborted)throw new Error("Verification canceled");const s=i.response,c=i.getClientExtensionResults();if("userHandle"===a){if(!s.userHandle)throw new Error("missing userHandle");return po.from(s.userHandle).toString("hex")}return po.from(c.getCredBlob??"").toString("hex")}};var wo=i(48287).Buffer;const yo=async function(e){let n,{credential:a}=e;try{if(a)n=await vo.verify(a);else{var o;const e=wo.from((0,La.po)(32)).toString("hex"),t=await(null===(o=window.electron)||void 0===o?void 0:o.encryptPassword(e));if(!t)return n;n={password:e,config:{kind:"electron-safe-storage",encryptedPassword:t}}}}catch(e){(0,t.SJ)("setupBiometrics",e)}return n},bo=async function(t){return e.tKX?(await uo(t),{password:t,config:{kind:"native-biometrics"}}):(await xa.setCredentials({username:e.hkI,password:t,server:e.aD4}),{password:t,config:{kind:"native-biometrics"}})},Eo=function(){return e.tKX?uo(""):xa.deleteCredentials({server:e.aD4})},ko=async function(n){let a;try{if("webauthn"===n.kind)a=await vo.getPassword(n);else if("electron-safe-storage"===n.kind){var o;a=await(null===(o=window.electron)||void 0===o?void 0:o.decryptPassword(n.encryptedPassword))}else if(e.tKX&&"native-biometrics"===n.kind){const{success:e,token:t}=await mo();if(!e)return;a=t}else{if("native-biometrics"!==n.kind)throw new Error("Unexpected auth kind");if(!await xa.verifyIdentity({title:e.C39,subtitle:"",isWeakAuthenticatorAllowed:!0,maxAttempts:1}).then((()=>!0)).catch((()=>!1)))return;a=(await xa.getCredentials({server:e.aD4})).password}}catch(e){(0,t.SJ)("getPassword",e)}return a},Co=(0,_a.F3)("App",{web:()=>i.e(168).then(i.bind(i,41168)).then((e=>new e.AppWeb))}),No=(0,_a.F3)("SplashScreen",{web:()=>i.e(411).then(i.bind(i,7411)).then((e=>new e.SplashScreenWeb))}),So=(0,_a.F3)("SafeArea",{web:()=>i.e(88).then(i.bind(i,28088)).then((e=>new e.SafeAreaWeb))}),Ao=(0,_a.F3)("AppLauncher",{web:()=>i.e(895).then(i.bind(i,73895)).then((e=>new e.AppLauncherWeb))}),To=(0,_a.F3)("BottomSheet"),Io=e=>{e.stopPropagation(),e.preventDefault()};function Bo(e,t,n){const a=o=>{e.removeEventListener(t,a),n(o)};e.addEventListener(t,a)}function _o(){var t;const{userAgent:n}=navigator,a=navigator.platform||(null===(t=navigator)||void 0===t||null===(t=t.userAgentData)||void 0===t?void 0:t.platform)||"";let o;return o=e.hL1||e.tKX?"browser":/Android/.test(n)?"android":-1!==["iPhone"].indexOf(a)?"iphone":-1!==["iPad","iPod"].indexOf(a)?"ipad":-1!==["macOS","Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(a)?"mac":-1!==["Win32","Win64","Windows","WinCE"].indexOf(a)?"windows":/Linux/.test(a)?"linux":"browser",o}const xo=function(e,t,n,a){if(window[e])return;const o=["connect","restoreConnection","disconnect","send"],r=new Map,i=new Set;function s(e){const a=Date.now().toString(36)+Math.random().toString(36).slice(2),o=new Promise(((e,t)=>{r.set(a,{resolve:e,reject:t})}));for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];const l={channel:t,messageId:a,type:"callMethod",name:e,args:s};return"parent"in n?n.postMessage(l,"*"):n.postMessage(JSON.stringify(l)),o}function c(e){if(e)return(e=String(e).trim().replace(/[\x00-\x1F\x7F]/g,"")).startsWith("//")?`https:${e}`:![/^\s*javascript\s*:/i,/^\s*data\s*:/i,/^\s*vbscript\s*:/i,/^\s*file\s*:/i,/^\s*about\s*:/i,/^\s*blob\s*:/i,/^\s*filesystem\s*:/i,/^\s*chrome(-extension)?\s*:/i,/^\s*moz-extension\s*:/i,/^\s*ms-browser-extension\s*:/i].some((t=>t.test(e)))&&/^[a-z][a-z0-9+.-]*:/i.test(e)?e:void 0}window.addEventListener("message",(e=>{let{data:n}=e;const a=n;if(a.channel===t)if("methodResponse"===a.type){const e=r.get(a.messageId);if(!e)return;r.delete(a.messageId),a.error?e.reject(a.error):e.resolve(a.response)}else"update"===a.type&&i.forEach((e=>e(a.update)))})),window.open=e=>((e=c(e))&&s("window:open",{url:e}),null),window.close=()=>{s("window:close")},window.addEventListener("click",(e=>{if(!(e.target instanceof HTMLElement))return;const{href:t,target:n}=e.target.closest("a")||{};if(t&&("_blank"===n||!t.startsWith("http"))){e.preventDefault();const n=c(t);n&&s("window:open",{url:n})}}),!1),function(){const t=Object.fromEntries(o.map((e=>[e,function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return s(`tonConnect:${e}`,...n)}])));window[e]={tonconnect:{...a,...t,listen:function(e){return i.add(e),()=>{i.delete(e)}}}}}()}.toString();var Do=i(54218);let Lo=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",e[e.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),Oo=function(e){return e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e}({}),Po=0;function Mo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown error.";return{event:"connect_error",id:e,payload:{code:(arguments.length>2?arguments[2]:void 0)||Lo.UNKNOWN_ERROR,message:t}}}function Fo(e){return{url:e,isUrlEnsured:!0,accountId:Ve().currentAccountId}}function Ro(o){const{closeBrowser:r}=Ke(),i=function(o){const{openLoadingOverlay:r,closeLoadingOverlay:i}=Ke(),s=new URL(o).origin.toLowerCase();return{connect:async(n,o)=>{try{if(n>e.gY_)return Mo(Po,"Unsupported protocol version",Lo.BAD_REQUEST_ERROR);!function(e){var t;if(!(e&&e.manifestUrl&&null!==(t=e.items)&&void 0!==t&&t.length))throw new Error("Wrong request data")}(o),r();const t=await(0,a.p)("tonConnect_connect",Fo(s),o,Po);return i(),Po++,t}catch(e){return(0,t.SJ)("useDAppBridge:connect",e),"event"in e&&"id"in e&&"payload"in e?e:Mo(Po,null==e?void 0:e.message,Lo.UNKNOWN_ERROR)}},restoreConnection:async()=>{try{const e=await(0,a.p)("tonConnect_reconnect",Fo(s),Po);return Po++,e}catch(e){return(0,t.SJ)("useDAppBridge:reconnect",e),"event"in e&&"id"in e&&"payload"in e?e:Mo(Po,null==e?void 0:e.message,Lo.UNKNOWN_ERROR)}},disconnect:async()=>{Po=0,await(0,a.p)("tonConnect_disconnect",Fo(s),{id:Po.toString(),method:"disconnect",params:[]})},send:async e=>{var o;Po++;const r=Ve();if(!(null===(o=r.byAccountId[r.currentAccountId].dapps)||void 0===o?void 0:o.some((e=>e.url===s))))return{error:{code:Oo.UNKNOWN_APP_ERROR,message:"Unknown app"},id:e.id.toString()};const i=Fo(s);try{switch(e.method){case"disconnect":return await(0,a.p)("tonConnect_disconnect",i,e);case"sendTransaction":{const t=await(0,a.p)("tonConnect_sendTransaction",i,e);return n.bA&&To.applyScrollPatch(),t}case"signData":return await(0,a.p)("tonConnect_signData",i,e);default:{const t=e;return{id:String(t.id),error:{code:Oo.BAD_REQUEST_ERROR,message:`Method "${t.method}" is not supported`}}}}}catch(n){return(0,t.SJ)("useDAppBridge:send",n),{id:String(e.id),error:{code:Oo.UNKNOWN_ERROR,message:null==n?void 0:n.message}}}}}}(o),s=i?function(e){const t=Object.entries(e).map((e=>{let[t,n]=e;return[`tonConnect:${t}`,n]}));return Object.fromEntries(t)}(i):void 0;return{"window:open"(e){let{url:t}=e;bc(t,{isExternal:!0,isFromInAppBrowser:!0})},"window:close"(){r()},...s}}function Uo(e){const t=me(e);return t.current=e,t}function Wo(e){const t=Uo(e);return ue((function(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call(t,...a)}),[])}class Ho{constructor(e){this.inAppBrowser=e}addEventListener(e,t){this.inAppBrowser.addEventListener(e,t)}removeEventListener(e,t){this.inAppBrowser.removeEventListener(e,t)}postMessage(e){this.inAppBrowser.executeScript({code:`window.dispatchEvent(new MessageEvent('message', { data: ${JSON.stringify(e)} }));`})}}var $o=i(48287).Buffer;const Vo=/[-a-z0-9@:%._+~#=]{1,256}\.[a-z0-9()]{1,6}\b([-a-z0-9()@:%_+.~#?&/=]*)/gi,zo=new Set(["http:","https:"]),Ko={ton:{name:"Tonscan",base:{mainnet:"https://tonscan.org/",testnet:"https://testnet.tonscan.org/"},address:"{base}address/{address}",explorer:"{base}jetton/{address}",transaction:"{base}tx/{hash}"},tron:{name:"Tronscan",base:{mainnet:"https://tronscan.org/#/",testnet:"https://shasta.tronscan.org/#/"},address:"{base}address/{address}",explorer:"{base}token20/{address}",transaction:"{base}transaction/{hash}"}};function qo(e){try{return new URL(e).hostname}catch(n){return(0,t.SJ)("getHostnameFromUrl",n),e}}function jo(e){return Ko[e].name}function Yo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ko[e].base[t?"testnet":"mainnet"]}function Go(t,n,a){var o;if(n&&n!==e.n3s)return Ko[t].transaction.replace("{base}",Yo(t,a)).replace("{hash}","ton"===t?(o=n,$o.from(o,"base64").toString("hex")):n)}function Qo(e,t,n){if(t)return Ko[e].address.replace("{base}",Yo(e,n)).replace("{address}",t)}function Xo(e,t){if(e)return`${Yo("ton",t)}nft/${e}`}function Jo(e){return e.startsWith("https://t.me/")}function Zo(t){return`${e.dmC}${t.metadata.mtwCardId}.webp`}const er=/(\*\*|__).+?\1/g;function tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["simple_markdown","br"];return"string"!=typeof e?[e]:(0,c.oE)(t.reduce(((e,t)=>{switch(t){case"simple_markdown":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(er),a=t.match(er)||[];return e.push(n[0]),a.reduce(((e,t,a)=>{e.push(t.startsWith("**")?ge.createElement("b",null,t.replace(/\*\*/g,"")):ge.createElement("i",null,t.replace(/__/g,"")));const o=2*a+2;return n[o]&&e.push(n[o]),e}),e)}),[]);case"br":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(/\r\n|\r|\n/g).reduce(((e,t,n,a)=>{const o=t.trimStart(),r=t.length-o.length;return e.push(String.fromCharCode(160).repeat(r)+o),n!==a.length-1&&e.push(ge.createElement("br",null)),e}),[]);return[...e,...n]}),[])}return e}),[e]))}const nr=JSON.parse('{"$auth_intro":"**Securely** store crypto\\nand make blockchain payments\\nat the **speed of light**.\\n","Create New Wallet":"Create New Wallet","Import From %1$d Secret Words":"Import From %1$d Secret Words","More about %app_name%":"More about %app_name%","Creating Wallet...":"Creating Wallet...","On the count of three...":"On the count of three...","$back_up_auth":"Back Up","$back_up_security":"Back Up","Passwords must be equal.":"Passwords must be equal.","To protect your wallet as much as possible, use a password with":"To protect your wallet as much as possible, use a password with","$auth_password_rule_8chars":"at least 8 characters","$auth_password_rule_one_small_char":"one small letter","$auth_password_rule_one_capital_char":"one capital letter","$auth_password_rule_one_digit":"one digit","$auth_password_rule_one_special_char":"and one special character","The wallet is imported":"The wallet is imported","The wallet is ready":"The wallet is ready","Create a password to protect it.":"Create a password to protect it.","Enter your password":"Enter your password","Enter your password...":"Enter your password...","...and repeat it":"...and repeat it","Cancel":"Cancel","Insecure Password":"Insecure Password","Your have entered an insecure password, which can be easily guessed by scammers.":"Your have entered an insecure password, which can be easily guessed by scammers.","Continue or change password to something more secure?":"Continue or change password to something more secure?","Change":"Change","%1$d Secret Words":"%1$d Secret Words","Secret Words":"Secret Words","$auth_import_mnemonic_description":"You can restore access to your wallet by entering the **12 or 24 secret words** that you wrote down when creating the wallet.\\n","Let’s make sure your secrets words are recorded correctly.":"Let’s make sure your secrets words are recorded correctly.","$mnemonic_check_words_list":"Please enter the words **%1$s** below.","$mnemonic_check_error":"The secret words you have entered do not match the ones in the list. Please try again.","$check_words_description":"Now let’s check that you wrote\\nyour secret words correctly.\\n","$mnemonic_list_description":"Write down these words in the **correct order** and store them in a **secure place**.","$private_key_description":"Save this private key **correctly** and store it in a **secure place**.","$mnemonic_warning":"**Do not** send or show it to anyone,\\n**do not** enter it anywhere.\\n","View Secret Words":"View Secret Words","View TON Private Key":"View TON Private Key","Can be imported to non-multichain wallets for TON.":"Can be imported to non-multichain wallets for TON.","Can be imported to any multichain wallet supporting TON.":"Can be imported to any multichain wallet supporting TON.","Let\'s Check":"Let\'s Check","Let\'s Check!":"Let\'s Check!","Safety Rules":"Safety Rules","$safety_rules_private_key_one":"On the next screen you will see the **TON private key**. Save it correctly and **store in a secure place**.\\n","$safety_rules_private_key_two":"It allows to **open your wallet** if you lose your password or access to this device.","$safety_rules_private_key_three":"If anybody else sees this private key, your funds **may be stolen**. **Do not send or show it to anyone**, not even developers or technical support.","$safety_rules_one":"On the next screen you will see the **secret words**. Write them down in the correct order and **store in a secure place**.\\n","$safety_rules_two":"They allow to **open your wallet** if you lose your password or access to this device.","$safety_rules_three":"If anybody else sees these words your funds **may be stolen**. **Do not send it to anyone**, not even developers or technical support.","Understood":"Understood","Congratulations!":"Congratulations!","Continue":"Continue","Close":"Close","Back":"Back","Search...":"Search...","Main menu":"Main menu","TON Proxy":"TON Proxy","Toggle TON Proxy":"Toggle TON Proxy","TON Magic":"TON Magic","Toggle TON Magic":"Toggle TON Magic","Open Telegram Web":"Open Telegram Web","Back Up Secret Words":"Back Up Secret Words","Settings":"Settings","About %app_name%":"About %app_name%","Exit":"Exit","Remove Wallet":"Remove Wallet","Something went wrong.":"Something went wrong.","Something went wrong":"Something went wrong","Logo":"Logo","$about_description1":"Securely store crypto, explore decentralized apps, and make blockchain payments at the **speed of light**.","$about_description2":"The wallet is **non-custodial and safe**. The developers **do not** have access to your funds, browser history or any other information.","What is TON Proxy?":"What is TON Proxy?","$about_extension_description1":"TON Proxy opens a way to **decentralized internet** by allowing to anonymously access TON Sites.","More info and demo.":"More info and demo.","$about_extension_description2":"TON Magic provides native **Telegram integration** by patching the official Telegram Web app.","$about_extension_description3":"Turn it on to send and receive Toncoins from any Telegram user.","$about_proxy_magic_title":"What about %ninja% TON Proxy and %unicorn% TON Magic?","$about_proxy_magic_description":"To enjoy **decentralized internet**, access **TON Sites**, and leverage native **Telegram integration**, feel free to install the %extension_link%.","$about_extension_link_text":"**%app_name% extension**","Is it open source?":"Is it open source?","$about_wallet_github":"Yes, it is. Feel free to explore our %github_link%.","$about_github_link_text":"**GitHub repository**","Is there a community?":"Is there a community?","$about_wallet_community":"Sure, welcome to our %community_link%.","$about_community_link_text":"**Telegram channel**","Currency History":"Currency History","Enter Password":"Enter Password","Send":"Send","Add Wallet":"Add Wallet","Done":"Done","Delete":"Delete","Delete Saved Address":"Delete Saved Address","Are you sure you want to remove this address from your saved ones?":"Are you sure you want to remove this address from your saved ones?","You will be able to save it again via Transaction Info with this address.":"You will be able to save it again via Transaction Info with this address.","Address removed from saved":"Address removed from saved","Warning!":"Warning!","Log Out":"Log Out","$logout_without_backup_warning":"You have not backed up this wallet. If you remove it now, you will lose access to your tokens and NFTs.","$logout_accounts_without_backup_warning":"You have not backed up %links%. If you proceed, you will lose access to your tokens and NFTs.","$logout_warning":"This will remove the current wallet from the app. Make sure you have your **secret words** backed up.","Your address was copied!":"Your address was copied!","Create Deposit Link":"Create Deposit Link","$receive_invoice_description":"You can specify the amount and purpose of\\nthe payment to save the sender some time.\\n","Amount":"Amount","Comment":"Comment","Comment or Memo":"Comment or Memo","Share this URL to receive %token%":"Share this URL to receive %token%","Invoice link was copied!":"Invoice link was copied!","Theme":"Theme","Language":"Language","Enable Animations":"Enable Animations","Base Currency":"Base Currency","Investor View":"Investor View","Toggle Investor View":"Toggle Investor View","Hide Tiny Transfers":"Hide Tiny Transfers","Toggle Hide Tiny Transfers":"Toggle Hide Tiny Transfers","Network":"Network","Developer Options":"Developer Options","All Wallet Versions":"All Wallet Versions","Add TON-Only Wallet":"Add TON-Only Wallet","Confirmation":"Confirmation","Signing Data":"Signing Data","Contract Initialization Data":"Contract Initialization Data","$dont_have_required_token":"You don’t have the required token to send, but it can be swapped.","$unknown_token_address":"Unknown token address.","$dont_have_required_nft":"You don’t have the required NFT to send.","$state_init_invalid":"Invalid contract initialization data.","$signature_warning":"Signing custom data is very dangerous. Use it only if you trust the source of it.","Sign":"Sign","Done!":"Done!","Signing was confirmed!":"Signing was confirmed!","Transaction Info":"Transaction Info","Transaction in progress":"Transaction in progress","Comment was copied!":"Comment was copied!","Sender":"Sender","Recipient":"Recipient","Address was copied!":"Address was copied!","Repeat":"Repeat","Switch Account":"Switch Account","Copy wallet address":"Copy wallet address","View address on %ton_explorer_name%":"View address on %ton_explorer_name%","You have just created a new wallet":"You have just created a new wallet","You can now transfer your tokens from another wallet or exchange.":"You can now transfer your tokens from another wallet or exchange.","Assets":"Assets","Activity":"Activity","NFT":"NFT","No NFTs yet":"No NFTs yet","$nft_explore_offer":"Explore a marketplace to discover\\nexisting NFT collections.\\n","Received":"Received","Sent":"Sent","$transaction_from":"from %address%","$transaction_to":"to %address%","$transaction_on":"on %address%","Wallet is not backed up":"Wallet is not backed up","Testnet Version":"Testnet Version","Error reading clipboard":"Error reading clipboard","$fee_value":"Fee %fee%","$fee_value_with_colon":"Fee: %fee%","Pay fee with %stars_symbol%":"Pay fee with %stars_symbol%","Loading...":"Loading...","Recipient Address":"Recipient Address","Wallet address or domain":"Wallet address or domain","Incorrect address":"Incorrect address","Incorrect address.":"Incorrect address.","Paste":"Paste","Insufficient balance":"Insufficient balance","Insufficient Balance":"Insufficient Balance","$seed_phrase_scam_warning":"This wallet that does not have enough funds to cover the fees for token withdrawal.\\n\\nThis seems to be a common **SCAM** where you\'re encouraged to deposit your own funds to cover fees.\\n\\n**Do not deposit** your own funds, as you may lose them! Learn more about this and other scams in our %help_center_link%.\\n","$help_center_prepositional":"Help Center","Optional":"Optional","$send_token_symbol":"Send %1$s","Is it all ok?":"Is it all ok?","Receiving Address":"Receiving Address","Fee":"Fee","Edit":"Edit","Confirm":"Confirm","Coins have been sent!":"Coins have been sent!","Transaction Sent!":"Transaction Sent!","Data Signed!":"Data Signed!","Details":"Details","Change password visibility":"Change password visibility","Amount value":"Amount value","Save Address":"Save Address","Name":"Name","Save":"Save","Copy":"Copy","Remove From Saved":"Remove From Saved","View on Explorer":"View on Explorer","No suggestions, you\'re on your own!":"No suggestions, you\'re on your own!","Play Sounds":"Play Sounds","Focus on asset value rather than current balance":"Focus on asset value rather than current balance","$logout_confirm":"Remove **all** wallets","$logout_warning2":"Wallets are located in the decentralized TON Blockchain. If you want the wallet to be deleted simply transfer all the TON from it and leave it empty.","$tiny_transfers_help":"Hide transfers worth less than $%value%. Keep in mind: small amounts are often sent by spammers and scammers.","Today":"Today","Yesterday":"Yesterday","Now":"Now","$receive_ton_description":"Scan this QR or share your address to top up your wallet balance.","Wrong password, please try again.":"Wrong password, please try again.","Appearance":"Appearance","Light":"Light","Dark":"Dark","System":"System","$stake_asset":"Stake %symbol%","Earn from your tokens while holding them":"Earn from your tokens while holding them","Why this is safe":"Why this is safe","Why is staking safe?":"Why is staking safe?","$safe_staking_description1":"Staking is **fully decentralized** and operated by the **official TON Liquid Staking** smart contracts.","$safe_staking_description2":"The deposited stake will be used for the TON network validation as part of its **proof-of-stake** essence.","$safe_staking_description3":"You can withdraw your stake at **any time** and it will be deposited back to your account within **two days**.","$safe_staking_description_jetton1":"Token staking is **fully decentralized** and operated by the **open-source** smart contracts developed by %jvault_link% and passed **security audits**.","$safe_staking_description_jetton2":"You can withdraw your stake at **any time** and it will be deposited back to your account **instantly**.","$min_value":"Min %value%","Est. balance in a year":"Est. balance in a year","Confirm Staking":"Confirm Staking","Confirm operation with your password":"Confirm operation with your password","Coins have been staked!":"Coins have been staked!","View":"View","Stake More":"Stake More","Staking":"Staking","Currently Staked":"Currently Staked","Unstake":"Unstake","Earning History":"Earning History","$total":"Total: %value%","$unstake_asset":"Unstake %symbol%","Amount to unstake":"Amount to unstake","Confirm Unstaking":"Confirm Unstaking","Request for unstaking is sent!":"Request for unstaking is sent!","$unstaking_when_receive":"You will receive your unstaked deposit in %time%.","$unstaking_when_receive_with_amount":"You will receive your unstaked %amount% in %time%.","$unstake_insufficient_balance":"You need to have %balance% on your main balance to proceed with unstaking.","at %annual_yield%":"at %annual_yield%","Est. %annual_yield%":"Est. %annual_yield%","Staked":"Staked","$stake_action":"Stake","Unstaked":"Unstaked","Unstaking":"Unstaking","$unstake_action":"Unstake","The network fee has slightly changed, try sending again.":"The network fee has slightly changed, try sending again.","Transfer was unsuccessful. Try again later.":"Transfer was unsuccessful. Try again later.","Unstaking was unsuccessful. Try again later.":"Unstaking was unsuccessful. Try again later.","Staking was unsuccessful. Try again later.":"Staking was unsuccessful. Try again later.","Invalid amount":"Invalid amount","Invalid address":"Invalid address","Domain is not connected to a wallet":"Domain is not connected to a wallet","Unexpected error":"Unexpected error","Unexpected Error":"Unexpected Error","Earn":"Earn","Earning":"Earning","Unexpected":"Unexpected error","You can save this address for quick access while sending.":"You can save this address for quick access while sending.","Stake Again":"Stake Again","Earned":"Earned","Connect Dapp":"Connect Dapp","Select wallet to use on this dapp":"Select wallet to use on this dapp","Connect":"Connect","Dapp Permissions":"Dapp Permissions","$dapp_can_view_balance":"%dappname% will be able to view wallet address and balance.","Send Transaction":"Send Transaction","Payload":"Payload","$many_transactions":{"zeroValue":"No Transactions","oneValue":"%1$d Transaction","otherValue":"%1$d Transactions"},"Total Amount":"Total Amount","$unstaking_short":"Unstaking","Handle ton:// links":"Handle ton:// links","Back up wallet to have full access to it":"Back up wallet to have full access to it","Consider More Secure Version":"Consider More Secure Version","Install our native app or browser extension.":"Install our native app or browser extension.","Scam":"Scam","Scam comment is hidden.":"Scam comment is hidden.","Display":"Display","Connected Dapps":"Connected Dapps","Disconnect All Dapps":"Disconnect All Dapps","Disconnect":"Disconnect","Disconnect Dapp":"Disconnect Dapp","Disconnect Dapps":"Disconnect Dapps","Are you sure you want to disconnect?":"Are you sure you want to disconnect %dappname%?","Are you sure you want to disconnect all websites?":"Are you sure you want to disconnect all websites?","$dapps-description":"You can log in on dapps that support %app_name%. They can view wallet address, balance, and request operations.","Logged in with %app_name%":"Logged in with %app_name%","No active connections":"No active connections","Other":"Other","Assets & Activity":"Assets & Activity","Token Settings":"Token Settings","My Tokens":"My Tokens","Add Token":"Add Token","Delete Token":"Delete Token","Are you sure you want to delete?":"Are you sure you want to delete %token%?","Hide Tokens With No Cost":"Hide Tokens With No Cost","Sort By Cost":"Sort By Cost","Update %app_name%":"Update %app_name%","Connect Ledger":"Connect Ledger","Connecting to your Ledger...":"Connecting to your Ledger...","Failed to connect":"Failed to connect","Ledger Connected!":"Ledger Connected!","Select Ledger Wallets":"Select Ledger Wallets","%1$d Selected":"%1$d Selected","Add":"Add","Try Again":"Try Again","Driver":"Driver","Unlock it and open the TON App":"Unlock it and open the TON App","Maybe you need to check the password or change the driver.":"Maybe you need to check the password or change the driver.","Confirm via Ledger":"Confirm via Ledger","Please confirm transaction on your Ledger":"Please confirm transaction on your Ledger","Declined":"Declined","Create Wallet":"Create Wallet","Switch to the newly opened tab to connect Ledger.":"Switch to the newly opened tab to connect Ledger.","Once connected, switch back to this window to proceed.":"Once connected, switch back to this window to proceed.","Not all transactions were sent successfully":"Not all transactions were sent successfully","The time on your device is incorrect, sync it and try again":"The time on your device is incorrect, sync it and try again","Name or Address...":"Name or Address...","Such error, many tabs":"Such error, many tabs","$many_tabs_error_description":"%app_name% supports only one active tab with the app.\\nPlease reload this page to continue using this tab or close it.\\n","Reload App":"Reload App","Please confirm operation on your Ledger":"Please confirm operation on your Ledger","Token Not Found":"Token Not Found","Try another keyword or address.":"Try another keyword or address.","Decrypt":"Decrypt","Encrypted Message":"Encrypted Message","Message is encrypted.":"Message is encrypted.","$dapp_ledger_warning1":"You are about to send a multi-way transaction using your **Ledger** wallet. You will need to sign each underlying transaction **one by one manually**.","$dapp_ledger_warning2":"Please take your time and do not interrupt the process.","Agree":"Agree","$swap_action":"Swap","Swap":"Swap","You sell":"You sell","You buy":"You buy","Swap Details":"Swap Details","Blockchain Fee":"Blockchain Fee","Aggregator Fee":"Aggregator Fee","Included":"Included","Price Impact":"Price Impact","Minimum Received":"Minimum Received","Slippage":"Slippage","$swap_from_to":"Swap %from% %icon% %to%","The exchange rate is below market value!":"The exchange rate is %value% below market value!","Invalid Pair":"Invalid Pair","We do not recommend to perform an exchange, try to specify a lower amount.":"We do not recommend to perform an exchange, try to specify a lower amount.","$swap_minimum_received_tooltip1":"This is the least amount of new tokens you\'ll get from this swap, considering current market conditions, slippage tolerance, and potential price impact.","$swap_minimum_received_tooltip2":"It\'s an expected minimum, but if the conditions change a lot while your swap is being processed, the final amount could be less.","$swap_price_impact_tooltip1":"This shows how much your trade might change the token\'s price.","$swap_price_impact_tooltip2":"Big trades can make the price go up or down more. Lower is usually better.","$swap_slippage_tooltip1":"This sets how much the price is allowed to change before your swap is processed.","$swap_slippage_tooltip2":"If during the processing of your swap, the price changes more than this value, your order will be canceled.","Coins have been swapped!":"Coins have been swapped!","Slippage not specified":"Slippage not specified","Slippage too high":"Slippage too high","Not Enough %symbol%":"Not Enough %symbol%","Use Responsibly":"Use Responsibly","$auth_responsibly_description1":"%app_name% is a **self-custodial** wallet, which means that **only you** have full control and, most importantly, **full responsibility** for your funds.\\n","$auth_responsibly_description2":"Your private keys are stored on your device and are subject to **hacker attacks**. If your computer is infected with **malware**, your funds are likely to be stolen.\\n","$auth_responsibly_description3":"The %app_name% team is **not responsible** for the safety of your funds, just as your computer manufacturer or internet provider is not responsible.\\n","$auth_responsibly_description4":"**Never** store all your funds in one place. **Diversify** and use various software and hardware. Always **do your own research** and learn more about crypto security.\\n","Start Wallet":"Start Wallet","$auth_backup_warning_notice":"Now you need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Later":"Later","Back Up Now":"Back Up Now","I have read and accept this information":"I have read and accept this information.","$ledger_verify_address":"Always verify pasted address using your Ledger device.","$ledger_not_ready":"Ledger is not connected or TON app is not open.","Verify now":"Verify now","Invalid address format. Only URL Safe Base64 format is allowed.":"Invalid address format. Only URL Safe Base64 format is allowed.","$auth_backup_description1":"This is a **secure wallet**\\nand is only **controlled by you**.\\n","$auth_backup_description2":"And with great power comes **great responsibility**.","$auth_backup_description3":"You need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Swap Placed":"Swap Placed","Swapping":"Swapping","Swapped":"Swapped","Swap Again":"Swap Again","Terms of Use":"Terms of Use","Privacy Policy":"Privacy Policy","Insufficient liquidity":"Insufficient liquidity","This address is new and never received transfers before.":"This address is new and never received transfers before.","Create Backup":"Create Backup","Sending":"Sending","$send_action":"Send","Failed":"Failed","Refunded":"Refunded","On Hold":"On Hold","Expired":"Expired","In Progress":"In Progress","Waiting for Payment":"Waiting for Payment","Blockchain":"Blockchain","Your address on another blockchain":"Your address on another blockchain","Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.":"Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.","The time for sending coins is over.":"The time for sending coins is over.","You have not sent the coins to the specified address.":"You have not sent the coins to the specified address.","$swap_changelly_to_ton_description1":"Send %value% to this address in %blockchain% blockchain within %time%","Exchange failed and coins were refunded to your wallet.":"Exchange failed and coins were refunded to your wallet.","$swap_changelly_kyc_security":"Please contact **%email%** and provide **Transaction ID** to pass the KYC procedure:","Swap Expired":"Swap Expired","Address for %blockchain% transfer":"Address for %blockchain% transfer","Cross-chain exchange provided by Changelly":"Cross-chain exchange provided by Changelly","$swap_changelly_agreement_message":"By continuing, you agree to the %terms% and %policy% and understand that the transaction may trigger verification according to %kyc%.","$swap_changelly_terms_of_use":"terms of use","$swap_changelly_privacy_policy":"privacy policy","Password must contain %length% digits.":"Password must contain %length% digits.","Deposit Link":"Deposit Link","$swap_changelly_from_ton_description":"Tokens will be sent to your address in %blockchain% blockchain soon:","Please note that it may take up to a few hours for tokens to appear in your wallet.":"Please note that it may take up to a few hours for tokens to appear in your wallet.","Minimum amount":"Minimum %value%","Maximum amount":"Maximum %value%","Display Tray Icon":"Display Tray Icon","Auto-Updates":"Auto-Updates","Biometric Authentication":"Biometric Authentication","If you turn off biometric protection, you will need to create a password.":"If you turn off biometric protection, you will need to create a password.","Enter your current password":"Enter your current password","Turn On Biometrics":"Turn On Biometrics","Please confirm transaction using biometrics":"Please confirm transaction using biometrics","Enabling biometric confirmation will reset the password.":"Enabling biometric confirmation will reset the password.","Biometric Registration":"Biometric Registration","Step 1 of 2. Registration":"Step 1 of 2. Registration","Step 2 of 2. Verification":"Step 2 of 2. Verification","Download Logs":"Download Logs","Copy Logs":"Copy Logs","Logs were copied!":"Logs were copied!","Biometric setup failed.":"Biometric setup failed.","Biometric confirmation failed.":"Biometric confirmation failed.","Failed to disable biometrics.":"Failed to disable biometrics.","Biometric Confirmation":"Biometric Confirmation","Please verify the operation.":"Please verify the operation.","Create Password":"Create Password","Complete":"Complete","Verification":"Verification","Create a password or use biometric authentication to protect it.":"Create a password or use biometric authentication to protect it.","Connect Biometrics":"Connect Biometrics","Use Password":"Use Password","Biometrics Disabled":"Biometrics Disabled","Biometrics Enabled":"Biometrics Enabled","A request is already pending":"A request is already pending","Please confirm operation using biometrics":"Please confirm operation using biometrics","Scan QR Code":"Scan QR Code","Permission denied. Please grant camera permission to use the QR code scanner.":"Permission denied. Please grant camera permission to use the QR code scanner.","This QR Code is not supported":"This QR Code is not supported","An error on the server side. Please try again.":"An error on the server side. Please try again.","Address was saved!":"Address was saved!","US Dollar":"US Dollar","Euro":"Euro","Ruble":"Ruble","Yuan":"Yuan","Bitcoin":"Bitcoin","Toncoin":"Toncoin","$max_balance":"Max: %balance%","$unstake_information_instantly":"You will get your deposit instantly","Select Token":"Select Token","MY":"MY","POPULAR":"POPULAR","Not Found":"Not Found","Wallet is ready!":"Wallet is ready!","Wallet is imported!":"Wallet is imported!","Create a code to protect it":"Create a code to protect it","Enter your code again":"Enter your code again","Codes don\'t match":"Codes don’t match","Code set successfully":"Code set successfully","Use Biometrics":"Use Biometrics","Use Touch ID":"Use Touch ID","Use Face ID":"Use Face ID","You can connect your biometric data for more convenience":"You can connect your biometric data for more convenience","Connect Touch ID":"Connect Touch ID","Connect Face ID":"Connect Face ID","Not Now":"Not Now","Touch ID":"Touch ID","Face ID":"Face ID","Turn Off Touch ID":"Turn Off Touch ID","Turn Off Face ID":"Turn Off Face ID","Turn Off Biometrics":"Turn Off Biometrics","Enter code":"Enter code","Enter code or use Face ID":"Enter code or use Face ID","Enter code or use Touch ID":"Enter code or use Touch ID","Enter code or use biometrics":"Enter code or use biometrics","Wrong code, please try again":"Wrong code, please try again","Scan your fingerprint":"Scan your fingerprint","Incorrect code, please try again.":"Incorrect code, please try again.","Correct":"Correct","Confirm Action":"Confirm Action","Confirm Swap":"Confirm Swap","Confirm Rewards Claim":"Confirm Rewards Claim","%amount% to %address%":"%amount% to %address%","%amount_from% to %amount_to%":"%amount_from% to %amount_to%","Failed to enable biometrics.":"Failed to enable biometrics.","Please try to confirm your biometrics again":"Please try to confirm your biometrics again","Unknown error":"Unknown error","Are you sure you want to disable Face ID?":"Are you sure you want to disable Face ID?","Are you sure you want to disable Touch ID?":"Are you sure you want to disable Touch ID?","Are you sure you want to disable biometrics?":"Are you sure you want to disable biometrics?","Yes":"Yes","Biometric confirmation failed":"Biometric confirmation failed","No Activity":"No Activity","Add / Buy":"Add / Buy","Buy with Card":"Buy with Card","Buy with Crypto":"Buy with Crypto","Cannot load widget":"Cannot load widget","Explore":"Explore","No partners yet":"No partners yet","Clear":"Clear","Get TON":"Get TON","$unstake_up_to_information":"Instantly – up to %value%","$all_balance":"All: %balance%","$unstaking_not_enough_balance":"You need to have %value% on your main balance to proceed with unstaking.","$ledger_verify_address_on_device":"Please, verify the address on your Ledger.","Wallet Versions":"Wallet Versions","$read_more_about_wallet_version":"Read more about types of wallet contracts on %ton_link%.","$current_wallet_version":"Your current wallet version is %version%.","You have tokens on other versions of your wallet. You can import them from here.":"You have tokens on other versions of your wallet. You can import them from here.","$wallet_switch_version_1":"You can also %action%.","$wallet_switch_version_2":"switch to another wallet version","or import from":"or import from","Insufficient fee":"Insufficient fee","$insufficient_fee":"Insufficient fee: %fee%","Required":"Required","Comment is too long.":"Comment is too long.","Memo":"Memo","Memo was copied!":"Memo was copied!","$hide_tokens_no_cost_help":"Hide tokens worth less than $%value%. Keep in mind: worthless tokens are often sent by spammers and scammers. On the same screen below, you can hide individual tokens.","No internet connection. Please check your connection and try again.":"No internet connection. Please check your connection and try again.","To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable Face ID in your phone settings.","To use this feature, first enable biometrics in your phone settings.":"To use this feature, first enable biometrics in your phone settings.","Open Settings":"Open Settings","$service_token_transfer_warning":"You are about to transfer an important service token required to withdraw your deposit or complete service operations. Please ensure this is the action you intend to take.","No Price":"No Price","$ledger_not_supported_operation":"This operation is not supported by your version of the Ledger TON App. Please update it using Ledger Live.","$ledger_unsupported_ton_connect":"TonConnect is not supported by version of your Ledger TON App. Please update it using Ledger Live.","$dapp_transfer_tokens_burn":"Burning %amount%","$dapp_dns_set_wallet_payload":"Changing linked wallet of domain %domain% to %address%","$dapp_dns_delete_wallet_payload":"Deleting linked wallet of domain %domain%","$dapp_dns_change_record_payload":"Changing \\"%category%\\" record of domain %domain% to %value%","$dapp_dns_delete_record_payload":"Deleting \\"%category%\\" record of domain %domain%","$dapp_token_bridge_pay_swap_payload":"Confirmation of exchange via cross-chain bridge","$dapp_liquid_staking_deposit_payload":"Deposit to liquid staking","$dapp_liquid_staking_vote_payload":"Voting \\"%vote%\\" for proposal %votingAddress%","$dapp_single_nominator_change_validator_payload":"Changing address of SingleNominator staking contract validator to %address%","$dapp_single_nominator_withdraw_payload":"Withdrawal of %amount% TON from SingleNominator staking contract","$dapp_vesting_add_whitelist_payload":"Adding %address% to vesting wallet whitelist","Search or enter address":"Search or enter address","Connecting dapps is not yet supported by Ledger.":"Connecting dapps is not yet supported by Ledger.","Time synchronization issue. Please ensure your device\'s time settings are correct.":"Time synchronization issue. Please ensure your device\'s time settings are correct.","Data was copied!":"Data was copied!","Open NFT Collection":"Open NFT Collection","Previous":"Previous","Next":"Next","Insufficient TON for fee.":"Insufficient TON for fee.","Send NFT":"Send NFT","NFT has been sent!":"NFT has been sent!","Cannot be sent":"Cannot be sent","NFT is for sale":"NFT is for sale","More actions":"More actions","Open on %ton_explorer_name%":"Open on %ton_explorer_name%","Swap is not supported in Testnet.":"Swap is not supported in Testnet.","Swap is not yet supported by Ledger.":"Swap is not yet supported by Ledger.","Buying with card is not supported in Testnet.":"Buying with card is not supported in Testnet.","Staking is not supported in Testnet.":"Staking is not supported in Testnet.","Get Support":"Get Support","$transfer_inactive_contract_error":"You entered an address in the \\"EQ...\\" format, but the address is not active, so the transaction will not be completed.\\nIf you definitely want to send to this address, then enter the address in the \\"UQ...\\" format.\\n","$transfer_link_expired":"Transfer link has expired","$transfer_text_and_bin_exclusive":"Cannot use both text and bin parameters together","$unsupported_deeplink_parameter":"This deeplink contains unsupported parameters","Successfully":"Successfully","Unstake More":"Unstake More","WrongAddress":"The dapp requested a transaction from another wallet.","Are you sure you want to burn this NFT? It will be lost forever.":"Are you sure you want to burn this NFT?\\nIt will be lost forever.\\n","$multi_burn_nft_warning":"You are going to burn %amount% NFTs.","$multi_send_nft_warning":"The process may take ~%duration% minute(s). Please do not close the app and do not switch accounts until it is finished.","Burn NFT":"Burn NFT","Burn":"Burn","Private Key":"Private Key","%amount% NFTs":"%amount% NFTs","1 NFT":"1 NFT","1 NFT Selected":"1 NFT Selected","%amount% NFTs Selected":"%amount% NFTs Selected","For sale. Cannot be sent and burned":"For sale. Cannot be sent and burned","Select":"Select","Send All":"Send All","Burn All":"Burn All","Select All":"Select All","Collection":"Collection","Transaction ID was copied!":"Transaction ID was copied!","$swap_changelly_support":"If there are any problems, please contact %livechat% or %email% and provide **Transaction ID**:","Changelly Live Chat":"Changelly Live Chat","Your %blockchain% Address":"Your %blockchain% Address","Vesting":"Vesting","Vesting Balance":"Vesting Balance","Ready to Unfreeze":"Ready to Unfreeze","You will receive your unfrozen coins in a few minutes.":"You will receive your unfrozen coins in a few minutes.","Vesting Schedule":"Vesting Schedule","Loyal User Airdrop":"Loyal User Airdrop","Unfrozen":"Unfrozen","Missed":"Missed","Frozen":"Frozen","until %date%":"until %date%","Until %date%":"Until %date%","%volume% in %amount% parts":"%volume% in %amount% parts","Unfreeze":"Unfreeze","Claim":"Claim","Confirm Unfreezing":"Confirm Unfreezing","Insufficient Balance for Fee":"Insufficient Balance for Fee","$fee_value_bold":"**Fee:** %fee%","%app_name% Features":"%app_name% Features","Security":"Security","To avoid entering the passcode every time, you can use biometrics.":"To avoid entering the passcode every time, you can use biometrics.","Change Passcode":"Change Passcode","Change Password":"Change Password","Confirm Password":"Confirm Password","The passcode will be changed for all your wallets.":"The passcode will be changed for all your wallets.","Password Changed!":"Password Changed!","Passcode Changed!":"Passcode Changed!","New code set successfully":"New code set successfully","Codes don’t match":"Codes don’t match","Enter your new code":"Enter your new code","Re-enter your new code":"Re-enter your new code","Install on Desktop":"Install on Desktop","Install on Mobile":"Install on Mobile","Install App":"Install App","WrongNetwork":"The dapp requested a transaction from another network.","Hide":"Hide","Hidden NFTs":"Hidden NFTs","Hidden By Me":"Hidden By Me","Probably Scam":"Probably Scam","$settings_nft_probably_scam_description":"These NFTs were automatically disabled by Anti-Scam Protection. You can return the necessary ones to Home if you think they were included in this list by mistake.","Unhide":"Unhide","Hide All":"Hide All","Hide NFT":"Hide NFT","Reload Page":"Reload Page","Open in Safari":"Open in Safari","Open in Browser":"Open in browser","CopyURL":"Copy URL","Share":"Share","Unhide NFT":"Unhide NFT","$unhide_nft_warning":"Are you sure you want to unhide %name%? This NFT looks suspicious and may not match its name and description.","Hide NFTs":"Hide NFTs","Are you sure you want to hide this NFT collection containing %number% NFTs?":"Are you sure you want to hide this NFT collection containing %number% NFTs?","Are you sure you want to hide these %number% NFTs?":"Are you sure you want to hide these %number% NFTs?","Show":"Show","Confirm Sending":"Confirm Sending","Confirm Burning":"Confirm Burning","Confirm Passcode":"Confirm Passcode","Enter your code":"Enter your code","$hardware_payload_warning":"**A third-party service is requesting access to your wallet.** This could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.","$hardware_blind_sign_not_enabled":"**A third-party service is requesting access to your wallet.** This could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.\\n\\nTo continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.\\n","$hardware_blind_sign_not_enabled_internal":"To continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.","Switch to W5":"Switch to W5","Not Scam":"Not Scam","Untitled":"Untitled","Multichain":"Multichain","$swap_too_small_amount":"Too small amount","Not enough %symbol%":"Not enough %symbol%","$receive_tron_description":"Scan this QR or share your address to top up your wallet balance.","You have just created a new multichain wallet":"You have just created a new multichain wallet","Now you can transfer tokens from your TON and TRON wallets.":"Now you can transfer tokens from your TON and TRON wallets.","Enter Secret Words":"Enter Secret Words","Turn this off so you can manually download updates and verify signatures.":"Turn this off so you can manually download updates and verify signatures.","InvalidMnemonic":"Your mnemonic words are invalid","NFT Menu":"NFT Menu","Connection Type":"Connection Type","Ledger is not supported on this device":"Ledger is not supported on this device","Connect your Ledger":"Connect your Ledger","$app_lock_description":"When app lock is enabled, a lock icon appears on the card on the main page. Use it to lock %app_name%.","App Lock":"App Lock","Auto-Lock":"Auto-Lock","Disabled":"Disabled","30 seconds":"30 seconds","3 minutes":"3 minutes","10 minutes":"10 minutes","If away for 30 sec":"If away for 30 sec","If away for 3 min":"If away for 3 min","If away for 10 min":"If away for 10 min","Unlock":"Unlock","This address mimics another address that you previously interacted with.":"This address mimics another address that you previously interacted with.","Biometric authentication failed":"Biometric authentication failed","Reset biometrics in security settings, or use a passcode.":"Reset biometrics in security settings, or use a passcode.","Best Rate":"Best Rate","via %dex_name%":"via %dex_name%","$swap_dex_chooser_rate_title":"Analyzed actual rates on **DeDust** and **STON.fi** to use the **best rate**.","You will receive %amount% **more**.":"You will receive %amount% **more**.","You will spend %amount% **less**.":"You will spend %amount% **less**.","Best":"Best","Use Best Rate":"Use Best Rate","Switch to %dex_name%":"Switch to %dex_name%","Built-in DEX Aggregator":"Built-in DEX Aggregator","Add Tokens":"Add Tokens","No tokens yet":"No tokens yet","$no_tokens_description":"Receive tokens from another wallet, or simply enable preferred tokens in the settings for monitoring.","Exchange Rate":"Exchange Rate","Install Card":"Install Card","Reset Card":"Reset Card","Apply Palette":"Install Palette","Reset Palette":"Reset Palette","Notifications & Sounds":"Notifications & Sounds","Sounds":"Sounds","Push Notifications":"Push Notifications","Select up to %count% wallets for notifications":"Select up to %count% wallets for notifications","$swap_aggregator_fee_tooltip":"A built-in **DEX aggregator** finds the **best rate** across available DEXes. Service fee is %percent%.","Accumulated Rewards":"Accumulated Rewards","$swap_reverse_prohibited":"Setting the buy amount is impossible for this pair of tokens","Blockchain Fee Details":"Blockchain Fee Details","Final Fee":"Final Fee","Excess":"Excess","$fee_details":"%full_fee% need to be immediately debited from your wallet to pay the fee. Part of this will be returned **in **%excess_symbol% to you as excess within a few minutes.\\n\\nThis is how %chain_name% Blockchain works.\\n","Got It":"Got It","Wallet":"Wallet","Connected":"Connected","All Dapps":"All Dapps","Trending":"Trending","No Data":"No Data","Toggle fullscreen":"Toggle fullscreen","Request is sent!":"Request is sent!","Transaction ID":"Transaction ID","Help Center":"Help Center","MyTonWallet Tips":"MyTonWallet Tips","$auth_import_24_mnemonic_description":"You can restore access to your wallet by entering the **24 secret words** that you wrote down when creating the wallet.\\n","Open %nft_marketplace%":"Open %nft_marketplace%","Link was copied!":"Link was copied!","Share Link":"Share Link","$dapp_return_details":"%fee_amount% will be immediately debited from your wallet to pay the fee.\\n\\n%received_amount% will be returned to you within a few minutes.\\n","Additional Amount Sent":"Additional Amount Sent","Show Sensitive Data":"Show Sensitive Data","Hide Sensitive Data":"Hide Sensitive Data","Copy Address":"Copy Address","Copy Transaction ID":"Copy Transaction ID","Requesting Unstake":"Requesting Unstake","Unstake Requested":"Unstake Requested","$request_unstake_action":"Request Unstake","Calling Contract":"Calling Contract","Contract Called":"Contract Called","$call_contract_action":"Call Contract","Deploying Contract":"Deploying Contract","Contract Deployed":"Contract Deployed","$deploy_contract_action":"Deploy Contract","Minting":"Minting","Minted":"Minted","$mint_action":"Mint","Burning":"Burning","Burned":"Burned","$burn_action":"Burn","Address Updated":"Address Updated","Updating Address":"Updating Address","$update_address_action":"Update Address","Site Updated":"Site Updated","Updating Site":"Updating Site","$update_site_action":"Update Site","Subdomains Updated":"Subdomains Updated","Updating Subdomains":"Updating Subdomains","$update_subdomains_action":"Update Subdomains","Storage Updated":"Storage Updated","Updating Storage":"Updating Storage","$update_storage_action":"Update Storage","Domain Record Deleted":"Domain Record Deleted","Deleting Domain Record":"Deleting Domain Record","$delete_domain_record_action":"Delete Domain Record","Renewing Domain":"Renewing Domain","Domain Renewed":"Domain Renewed","$renew_domain_action":"Renew Domain","Providing Liquidity":"Providing Liquidity","Liquidity Provided":"Liquidity Provided","$provide_liquidity_action":"Provide Liquidity","Withdrawing Liquidity":"Withdrawing Liquidity","Liquidity Withdrawn":"Liquidity Withdrawn","$withdraw_liquidity_action":"Withdraw Liquidity","Bounced":"Bounced","Bouncing":"Bouncing","$bounce_action":"Bounce","NFT Auction Bid":"NFT Auction Bid","Bidding at NFT Auction":"Bidding at NFT Auction","NFT Bought":"NFT Bought","Buying NFT":"Buying NFT","$buy_nft_action":"Buy NFT","NFT Sold":"NFT Sold","Selling NFT":"Selling NFT","$sell_nft_action":"Sell NFT","Receiving":"Receiving","$receive_action":"Receive","Change Palette":"Change Palette","Palette":"Palette","Unlock New Palettes":"Unlock New Palettes","Get a unique MyTonWallet Card to unlock new palettes.":"Get a unique MyTonWallet Card to unlock new palettes.","Mint Cards":"Mint Cards","Card has been upgraded!":"Card has been upgraded!","$mint_card_result":"NFT Card will be **minted** and **installed automatically** within a minute.","Unique":"Unique","Get a card with unique background and personalized palette for wallet interface.":"Get a card with unique background and personalized palette for wallet interface.","Transferable":"Transferable","Easily send your upgraded card to any of your friends.":"Easily send your upgraded card to any of your friends.","Tradable":"Tradable","Sell or auction your card on third-party NFT marketplaces.":"Sell or auction your card on third-party NFT marketplaces.","Upgrade for %currency% %amount%":"Upgrade for %currency% %amount%","%amount% left":"%amount% left","%amount% sold":"%amount% sold","This card has been sold out":"This card has been sold out","Import Existing Wallet":"Import Existing Wallet","View Any Address":"View Any Address","12/24 Secret Words":"12/24 Secret Words","24 Secret Words":"24 Secret Words","Wallet Address or Domain":"Wallet Address or Domain","$import_view_account_note":"Enter **any address** on TON or TRON network to open it in **View Mode**.","$view_mode":"View","Import Wallet":"Import Wallet","Please top up your TON balance.":"Please top up your TON balance.","Remember Passcode":"Remember Passcode","Remember Password":"Remember Password","Not available with biometrics.":"Not available with biometrics.","App will not ask for signature for %1$d minutes after last entry.":"The app will not ask for a signature for %1$d minutes after the last entry.","Remember for %1$d minutes":"Remember for %1$d minutes","Preview":"Preview","$preview_not_guaranteed":"Preview result **is not guaranteed **and **can be forged **by the service.","Unverified Source":"Unverified Source","$reopen_in_iab":"For your safety, please re-open this dapp in %browserButton%.","MyTonWallet Browser":"MyTonWallet Browser","Exit all wallets":"Exit all wallets","Can\'t confirm?":"Can\'t confirm?","$safe_staking_ethena_description1":"Staking is fully decentralized and operated by **Ethena’s official** audited liquid staking **smart contracts**.","$safe_staking_ethena_description2":"The deposited USDe stake is used in Ethena’s **trading and investment strategies** to yield rewards automatically and transparently.","$safe_staking_ethena_description3":"You can **withdraw** your stake with rewards at any time, and it will be returned to your account **in 7 days**, according to Ethena’s standard withdrawal period.","Unstake %amount%":"Unstake %amount%","Request Unstaking":"Request Unstaking","$unstaking_when_receive_ethena":"You will be able to receive your unstaked deposit in **7 days**.","Coins have been unstaked!":"Coins have been unstaked!","Confirm Upgrading":"Confirm Upgrading","How does it work?":"How does it work?","Multisend":"Multisend","Renew All":"Renew All","Renew":"Renew","Renew Domain":"Renew Domain","Renew Domains":"Renew Domains","Some domains are about to expire":"Some domains are about to expire","$domain_expire":"**%domain%** expires %days%","%token% Staking":"%token% Staking","Add Tab":"Add Tab","Remove Tab":"Remove Tab","Failed to process domain operation. Please try again.":"Failed to process domain operation. Please try again.","$domains_amount %1$d":{"zeroValue":"No domains","oneValue":"%1$d domain","otherValue":"%1$d domains"},"Stake":"Stake","Manage Tokens":"Manage Tokens","Claim Rewards":"Claim Rewards","Configure DNS":"Configure DNS","Link to Wallet":"Link to Wallet","Change Wallet":"Change Wallet","Change Linked Wallet":"Change Linked Wallet","Domain has been renewed!":"Domain has been renewed!","Domains have been renewed!":"Domains have been renewed!","Linked Wallet":"Linked Wallet","Domain has been linked!":"Domain has been linked!","Link":"Link","Confirm Renewing":"Confirm Renewing","Confirm Linking":"Confirm Linking","$domains_expire":{"zeroValue":"No domains expires %days%","oneValue":"**%domain% domain** expires %days%","otherValue":"**%domain% domains** expire %days%"},"$in_days":{"zeroValue":"today","oneValue":"tomorrow","otherValue":"in %1$d days"},"$domain_was_expired":"**%domain%** is expired","$domains_was_expired":{"zeroValue":"No domains is expired","oneValue":"**%domain% domain** is expired","otherValue":"**%domain% domains** are expired"},"Reload":"Reload","Copy Link":"Copy Link","Check eligibility for max APY":"Check eligibility for max APY","Check eligibility":"Check eligibility","$expired_many":"Expired","$expires_in %days%":"Expires %days%","Message":"Message","Binary Data":"Binary Data","The binary data content is unclear. Sign it only if you trust the service.":"The binary data content is unclear. Sign it only if you trust the service.","Cell Schema":"Cell Schema","Cell Data":"Cell Data","Sign Data":"Sign Data","Please confirm signature on your Ledger":"Please confirm signature on your Ledger","Utilities":"Utilities","Games":"Games","Entertainment":"Entertainment","Toggle to landscape layout":"Toggle to landscape layout","Toggle to portrait layout":"Toggle to portrait layout","Attributes":"Attributes","Show All":"Show All","Description":"Description","No additional data.":"No additional data.","Domain was copied!":"Domain was copied!","$in_currency":"in %currency%","Rename Wallet":"Rename Wallet","You can rename this wallet for easier identification.":"You can rename this wallet for easier identification.","$storage_cleared_title":"Application Storage Cleared","$storage_cleared_message":"Your wallet data has been cleared due to browser-related or disk space issues. Please log out from all wallets and then re-import them manually using your secret words.\\n\\nIf you need assistance, please contact %support_link%.\\n","Telegram Gifts":"Telegram Gifts","Collectibles":"Collectibles","Bluetooth unavailable":"Bluetooth unavailable","$bluetooth_enable_guide":"Turn on Bluetooth in the device settings and allow the app to access Bluetooth.","$domain_like_scam_warning":"The entered address is likely a **SCAM**. This is **NOT** an address of any exchange or your token wallet.\\n\\nThis is a long **domain** that **scammers** use to convince people they are sending tokens to a known address.\\n\\n**Cancel** this transfer and **never** trust strangers. Learn more about this and other scams in our %help_center_link%.\\n","Allow Suspicious Actions":"Allow Suspicious Actions","$allow_suspicious_actions_description":"Allow sending to suspicious addresses and interacting with potentially unsafe contracts."}'),ar=self.caches;async function or(e){try{if(!ar)return;return await ar.delete(e)}catch(e){return void console.warn(e)}}const rr=new Set(Object.values(e.yR2).map((e=>e.shortSymbol)).filter(Boolean)),ir=(0,et.A)((function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2?arguments[2]:void 0,o=new Mt.z(t);if(o.eq(0))return"0";const r=o.lt(0);r&&(o=o.neg());const i=o.lt(1)?"toPrecision":"round";let s=o[i](n,a?Mt.z.roundHalfUp:Mt.z.roundDown).toString().replace(/(\.\d*?)0+$/,"$1").replace(/\.$/,"");return s=function(t){const[n,a=""]=t.split(".");return[n.replace(/\B(?=(\d{3})+(?!\d))/g,`$&${e.MS3}`),a].filter(Boolean).join(".")}(s),r&&(s=`-${s}`),s}));function sr(e,t,n,a){return dr(ir(e,n,a),t)}function cr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const r=Number(e),i=n?"":(0===r?o:r<0)?"− ":"+ ";return e=e.toString(),i+sr(n?e:e.replace(/^-/,""),t,a)}function lr(e,t,n){return"string"!=typeof e&&(e=(0,Pt.nI)(e,n)),dr(e,t)}function dr(e,t){return rr.has(t)?`${t}${e}`.replace(`${t}-`,`-${t}`):`${e} ${t}`}function ur(t){return t||(t=e.wOb),e.yR2[t].shortSymbol??t}function mr(e,t,n){return sr((0,Mt.z)((0,Pt.nI)((0,ma.wg)(e),n.decimals,!0)).mul(n.price),ur(t))}const pr=nr,{addCallback:fr,removeCallback:hr,runCallbacks:gr}=v(),vr=/%\d?\$?[sdf@]/g,wr=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],yr={de:e=>0===e?1:1!==e?6:2,en:e=>0===e?1:1!==e?6:2,es:e=>0===e?1:1!==e?6:2,pl:e=>0===e?1:1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,ru:e=>0===e?1:e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,th:e=>0===e?1:6,tr:e=>0===e?1:e>1?6:2,uk:e=>0===e?1:e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"zh-Hans":e=>0===e?1:6,"zh-Hant":e=>0===e?1:6},br=new Map;let Er,kr;function Cr(){return(e,t,a,o)=>{var r;if(void 0!==t&&("object"!=typeof t||Array.isArray(t))){const n=Array.isArray(t)?JSON.stringify(t):t,r=br.get(`${e}_${n}_${a}${o?`_${o}`:""}`);if(r)return r}return Er||pr?function(e,t,a,o,r){const i="number"==typeof a||void 0!==r?function(e){const t=kr||n.vj,a=yr[t]?yr[t](e):0;return wr[a]}(r??a):"value",s="string"==typeof e?e:"value"===i?"object"==typeof e?e.value:e:"object"==typeof e?(null==e?void 0:e[i])||e.otherValue:void 0;if(!s||!s.trim()||void 0===a)return s;const c="i"===o?ir(a):a,l="object"!=typeof a||Array.isArray(a)?function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(vr),a=n.shift();return n.reduce(((e,n,a)=>`${e}${String(t[a]??"")}${n}`),a||"")}(s,c):function(e,t){let n=e;Object.entries(t).forEach((e=>{let[t,a]=e;var o;"string"!=typeof a&&"number"!=typeof a||(n=n.replace(new RegExp(`%${o=t,o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}%`,"g"),String(a)))}));if(!Object.values(t).some((e=>"string"!=typeof e&&"number"!=typeof e)))return tr(n);const a=n.split(/%(\w+)%/),o=[];for(let e=0;e<a.length;e++)if(e%2==0)a[e]&&o.push(...tr(a[e]));else{const n=t[a[e]];void 0!==n&&o.push(n)}return o}(s,c);if("object"!=typeof a&&"string"==typeof l){const e=Array.isArray(a)?JSON.stringify(a):a;br.set(`${t}_${e}_${o}${r?`_${r}`:""}`,l)}return l}((null===(r=Er)||void 0===r?void 0:r[e])||(null==pr?void 0:pr[e])||e,e,t,a,o):e}}let Nr=Cr();async function Sr(t,a){if(Er&&t===kr)return void(a&&a());let o=await async function(t,n){if(ar)try{const a=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),o=await ar.open(t),r=await o.match(a);if(!r)return;return await r.json()}catch(e){return void console.warn(e)}}(e.CV,t);if(!o&&(o=await async function(t){if(t===n.vj)return pr;const a=await fetch(`${e.jht?".":".."}/i18n/${t}.json`);if(!a.ok){const e=`An error has occured: ${a.status}`;throw new Error(e)}const o=await a.json();return o?(await async function(t,n,a){if(ar)try{const o="string"==typeof a||a instanceof Blob||a instanceof ArrayBuffer?a:JSON.stringify(a),r=e.jht?`${e.uyj}/${n.replace(/:/g,"_")}`:new Request(n.replace(/:/g,"_")),i=new Response(o);if(r instanceof Request&&0===r.url.indexOf("chrome-extension"))return;const s=await ar.open(t);return await s.put(r,i)}catch(e){return void console.warn(e)}}(e.CV,t,o),o):void 0}(t),!o))return;br.clear(),kr=t,Er=o,document.documentElement.lang=t;const r=null===e.gSB||void 0===e.gSB?void 0:e.gSB.find((e=>e.langCode===t));Nr=Cr(),Nr.isRtl=Boolean(null==r?void 0:r.rtl),Nr.code=t.replace("-raw",""),Nr.langName=null==r?void 0:r.nativeName,a&&a(),gr()}const Ar=()=>{const e=ve();return ye((()=>fr(e))),Nr};function Tr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var Ir=i(75357);const Br=(e,t,n)=>Math.min(n,Math.max(t,e)),_r=(e,t,n)=>e>=t&&e<=n,xr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*10**t)/10**t};let Dr=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});function Lr(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function Or(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let Pr=0;const Mr=new class{constructor(){let{stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:a=150}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=a,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),a=t.slice(this.stability,2*this.stability),o=n.reduce(((e,t)=>e+t)),r=a.reduce(((e,t)=>e+t)),i=o/n.length,s=r/a.length;return Math.abs(i)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)}}({stability:5,sensitivity:25,tolerance:n.H8?1:.6,delay:150});function Fr(e,t){let a,o=!1,r=!1,i=!1,s=0,c=t.initialZoom??1,d={x:0,y:0},u={x:!1,y:!1};const m=Va();let p,f={x:m.width/2,y:m.height/2};const h=t.minZoom??1,g=t.maxZoom??4;function v(n){var o;const r=n.target,{excludedClosestSelector:i,includedClosestSelector:c,withNativeDrag:l,withCursor:d,onDrag:u}=t;(e===r||e.contains(r))&&"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&(i&&(r.matches(i)||r.closest(i))||c&&!r.matches(c)&&!r.closest(c)||(a=n,"mousedown"===n.type?(!l&&u&&n.preventDefault(),document.addEventListener("mousemove",y),document.addEventListener("mouseup",w)):"touchstart"===n.type&&(r.addEventListener("touchmove",y,{passive:!0}),r.addEventListener("touchend",w,{passive:!0}),r.addEventListener("touchcancel",w,{passive:!0}),"touches"in n&&(void 0===n.pageX&&(n.pageX=n.touches[0].pageX),void 0===n.pageY&&(n.pageY=n.touches[0].pageY),2===n.touches.length&&(s=Lr(n.touches[0],n.touches[1]),f=Or(n.touches[0],n.touches[1])))),d&&document.body.classList.add("cursor-grabbing"),null===(o=t.onCapture)||void 0===o||o.call(t,n)))}function w(e){if(a){if(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",y),a.target.removeEventListener("touchcancel",w),a.target.removeEventListener("touchend",w),a.target.removeEventListener("touchmove",y),n.pz&&t.selectorToPreventScroll){const e=Array.from(document.querySelectorAll(t.selectorToPreventScroll));(0,Ir.dL)((()=>{e.forEach((e=>{e.style.overflow=""}))}),e)}e&&(o?t.onRelease&&t.onRelease(e):"mouseup"===e.type&&(t.onDoubleClick&&Date.now()-Pr<300?t.onDoubleClick(e,{centerX:a.pageX,centerY:a.pageY}):!t.onClick||"button"in e&&0!==e.button||t.onClick(e),Pr=Date.now()))}o=!1,r=!1,i=!1,s=0,c=Br(c,h,g),p=void 0,d={x:0,y:0},u={x:!1,y:!1};const l=Va();f={x:l.width/2,y:l.height/2},a=void 0}function y(e){if(a){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),t.onZoom&&s>0&&2===e.touches.length)){const n=Lr(e.touches[0],e.touches[1]),a=Or(e.touches[0],e.touches[1]),r=a.x-f.x,i=a.y-f.y,c=n/s;t.onZoom(e,{zoomFactor:c,initialCenterX:f.x,initialCenterY:f.y,dragOffsetX:r,dragOffsetY:i,currentCenterX:a.x,currentCenterY:a.y}),1!==c&&(o=!0)}const i=e.pageX-a.pageX,c=e.pageY-a.pageY;(Math.abs(i)>=15||Math.abs(c)>=15)&&(o=!0);let l=!1;if(t.onDrag&&(t.onDrag(e,a,{dragOffsetX:i,dragOffsetY:c}),l=!0),t.onSwipe&&!r&&(r=function(e,a,o){if(n.pz){const t="touches"in e?e.touches[0].pageX:e.pageX;if(t<=20||t>=Va().width-20)return!1}const r=Math.abs(a),i=Math.abs(o),s=t.swipeThreshold??20;let c;if(r>i&&r>=s?c="x":i>r&&i>=s&&(c="y"),!c)return!1;if(p){if(p!==c)return!1}else p=c;return function(e,t,n,a,o){const r={dragOffsetX:n,dragOffsetY:a};return"x"===t?o(e,n<0?Dr.Left:Dr.Right,r):"y"===t&&o(e,a<0?Dr.Up:Dr.Down,r)}(e,c,a,o,t.onSwipe)}(e,i,c),l=r),n.pz&&l&&t.selectorToPreventScroll){const e=Array.from(document.querySelectorAll(t.selectorToPreventScroll));(0,Ir.dL)((()=>{e.forEach((e=>{e.style.overflow="hidden"}))}),e)}}}const b=(0,l.sg)(w,150,!1),E=(0,l.sg)(w,150,!1);function k(e){o||(v(e),o=!0,f={x:e.x,y:e.y})}function C(e){if(!t.onZoom&&!t.onDrag)return;if(t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:n=3}=t;if(t.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return k(e),c=c>1?1:n,t.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(o=!1);const r=e.metaKey||e.ctrlKey||e.shiftKey;if(r&&function(e){if(!t.onZoom)return;k(e);const n=e.x-f.x,a=e.y-f.y,o=Br(e.deltaY,-25,25);c-=.01*o,c=Br(c,.5*h,3*g),i=!0,t.onZoom(e,{zoom:xr(c,2),initialCenterX:f.x,initialCenterY:f.y,dragOffsetX:n,dragOffsetY:a,currentCenterX:e.x,currentCenterY:e.y}),E(e)}(e),!r&&!i){const n=Mr.check(e);(1!==c||n)&&function(e){if(!t.onDrag)return;k(e),u.x&&Math.sign(d.x)!==Math.sign(e.deltaX)||(d.x-=e.deltaX),u.y&&Math.sign(d.y)!==Math.sign(e.deltaY)||(d.y-=e.deltaY);const{x:n,y:o}=d;t.onDrag(e,a,{dragOffsetX:n,dragOffsetY:o},((e,t)=>{u={x:e,y:t}})),b(e)}(e)}}return t.withWheelDrag&&e.addEventListener("wheel",C),e.addEventListener("mousedown",v),document.body.addEventListener("touchstart",v,{passive:!t.isNotPassive}),()=>{w(),document.body.removeEventListener("touchstart",v),e.removeEventListener("mousedown",v),e.removeEventListener("wheel",C)}}const Rr={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},Ur={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function Wr(e){return Hr()||document.addEventListener("keydown",$r,!0),Object.keys(e).forEach((t=>{const n=e[t];if(!n)return;const a=Ur[t];a&&a.push(n)})),()=>{!function(e){Object.keys(e).forEach((t=>{const n=e[t],a=Ur[t];if(a){const e=a.findIndex((e=>"function"==typeof e?e===n:n&&"handler"in n&&e.handler===n.handler));-1!==e&&a.splice(e,1)}})),Hr()||document.removeEventListener("keydown",$r,!1)}(e)}}function Hr(){return Object.values(Ur).some((e=>Boolean(e.length)))}function $r(e){const t=Rr[e.key];if(!t)return;const{length:n}=Ur[t];if(!n)return;const a=Ur[t][n-1];if("function"==typeof a)a(e),e.stopPropagation();else{const{handler:t,noStopPropagation:n,shouldPreventDefault:o}=a;n||e.stopPropagation(),o&&e.preventDefault(),t(e)}}let Vr=0;function zr(){Vr+=1}function Kr(){Vr-=1}function qr(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const a=n.findIndex((e=>e.isSameNode(document.activeElement)));let o=0;a>=0&&(o=t.shiftKey?a>0?a-1:n.length-1:a<n.length-1?a+1:0),n[o].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}function jr(e){return/^#[0-9A-F]{6}$/i.test(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map(((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN",""))).join("")}`}var Yr,Gr;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(Yr||(Yr={})),function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"}(Gr||(Gr={}));const Qr=(0,_a.F3)("StatusBar");var Xr;!function(e){e.SHOW="onShow",e.HIDE="onHide",e.COLOR_CHANGE="onColorChange"}(Xr||(Xr={}));const Jr=(0,_a.F3)("NavigationBar",{web:()=>i.e(884).then(i.bind(i,15884)).then((e=>new e.NavigationBarWeb))}),Zr=window.matchMedia("(prefers-color-scheme: dark)");let ei,ti;function ni(e,t){ei=e,ai(),ri({isInModal:t}),(0,k.YS)((()=>{var e;const t=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content",t)}))}function ai(){var t;const n="dark"===ei||"system"===ei&&(e.tKX?"dark"===(null===(t=no())||void 0===t?void 0:t.colorScheme):Zr.matches);document.documentElement.classList.toggle("theme-dark",n)}function oi(){ai(),ri()}function ri(t){e.tKX?(0,k.YS)((()=>{var e,t,n;const a=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");if(!a)return;const o=jr(a);null===(e=no())||void 0===e||e.setHeaderColor(o),null===(t=no())||void 0===t||t.setBackgroundColor(o),null===(n=no())||void 0===n||n.setBottomBarColor(o)})):e.UMQ&&(void 0!==(null==t?void 0:t.forceDarkBackground)&&(ti=t.forceDarkBackground),function(e,t,a,o){const r=a||"dark"===e||t&&"system"===e?Yr.Dark:Yr.Light;Qr.setStyle({style:r,isModalOpen:o}),n.xy&&Jr.setColor({color:"#00000000",darkButtons:"light"===e||!t&&"system"===e})}(ei,Zr.matches,ti,null==t?void 0:t.isInModal))}function ii(){"system"===Ve().settings.theme&&oi()}Zr.addEventListener("change",oi),e.tKX&&ao().then((e=>{e.onEvent("themeChanged",ii)}));const si=new Map,ci=e=>{const t=matchMedia(e),n=new Set,a=()=>{n.forEach((e=>e(t.matches)))};return t.addEventListener?t.addEventListener("change",a,{passive:!0}):t.addListener(a),{mql:t,dispatchers:n,listener:a}};function li(e,t){const[n,a]=ie(function(){if((null==t?void 0:t.initializeWithValue)??1){let t=si.get(e);return t||(t=ci(e),si.set(e,t)),t.mql.matches}}());return ce((()=>(((e,t)=>{let n=si.get(e);n||(n=ci(e),si.set(e,n)),n.dispatchers.add(t),t(n.mql.matches)})(e,a),()=>((e,t)=>{const n=si.get(e);if(!n)return;const{mql:a,dispatchers:o,listener:r}=n;o.delete(t),o.size||(si.delete(e),a.removeEventListener?a.removeEventListener("change",r):a.removeListener(r))})(e,a))),[e]),n}let di;function ui(){di=li(`(max-width: ${e.c2m-.02}px)`);const t=li("(max-height: 43.5rem)");return{isPortrait:Boolean(di),isSmallHeight:t,isLandscape:!di,screenHeight:window.screen.height}}function mi(){return di}const pi=(e,t,n)=>{const a=me();return ce((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)},fi=new Map,hi=new Set(["color","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"]);let gi;const vi=So.getSafeAreaInsets().then((e=>{let{insets:t}=e;return gi=t,gi}));let wi,yi;function bi(e,t){ce((()=>{if(n.bA)return fi.set(e,t),wi===e&&t(),()=>{fi.get(e)===t&&fi.delete(e)}}),[e,t])}function Ei(e){return!!(e&&e instanceof HTMLElement)&&("INPUT"===e.tagName&&hi.has(e.type)||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&e.isContentEditable)}n.bA&&(To.addListener("delegate",(e=>{var t;let{key:n,globalJson:a}=e;wi=n,null===(t=fi.get(n))||void 0===t||t(),ze(JSON.parse(a,ma.bk),{forceOutdated:!0,forceSyncOnIOs:!0})})),To.addListener("move",(()=>{window.dispatchEvent(new Event("viewportmove"))})));const ki=new Map;n.KI&&(To.prepare(),To.addListener("openInMain",(e=>{var t;let{key:n}=e;null===(t=ki.get(n))||void 0===t||t()})));let Ci,Ni=Promise.resolve();const Si=(0,l.sg)((e=>e()),300,!1),Ai=[];let Ti=!1,Ii=0;function Bi(){const e=no().BackButton;Ai.length>0&&!Ti?(e.show(),e.onClick(_i),Ti=!0):!Ai.length&&Ti&&(e.hide(),e.offClick(_i),Ti=!1)}function _i(){if(Ai.length>0){const e=Ai.pop();try{e.callback()}catch(e){(0,t.SJ)("[handleBackButtonClick]",e)}}Si(Bi)}const xi=`${window.location.pathname}${window.location.search}`,Di=Number(new Date);let Li,Oi,Pi=!1,Mi=[],Fi=[];function Ri(){const e=Mi.filter((e=>"go"===e.type)),t=Mi.filter((e=>"go"!==e.type)),n=e.reduce(((e,t)=>e+t.delta),0);Mi=[],n&&(window.history.go(n),t.length)?Fi.push(...t):Ui(t)}function Ui(e){e.forEach((e=>window.history[e.type](e.data,"")))}function Wi(e){Mi.length||(0,k.YS)(Ri),Mi.push(e)}function Hi(){Oi=0,Li=[{index:0,onBack:()=>window.history.back()}],n.Fe||window.history.replaceState({index:0,historyUniqueSessionId:Di},"",xi)}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t=Oi-1;t>0&&Li[t].isClosed;t--)e++;return e&&(Pi=!0,Wi({type:"go",delta:-e})),e}function Vi(){for(let n=Li.length-1;n>0;n--){var e,t;Li[n].isClosed||null===(e=(t=Li[n]).onBack)||void 0===e||e.call(t)}Hi()}function zi(t){let{isActive:a,shouldBeReplaced:o,shouldIgnoreForTelegram:r,onBack:i}=t;const s=Wo(i),c=me(),l=me(),d=me(!1),u=me(!0),m=ue((function(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]||Li[Oi].shouldBeReplaced;c.current=e?Oi:++Oi,Oi=c.current;const t=Li[c.current];var n;t&&!t.isClosed&&(null===(n=t.markReplaced)||void 0===n||n.call(t)),Li[c.current]={index:c.current,onBack:s,shouldBeReplaced:o,markReplaced:()=>{d.current=!0}},Wi({type:e?"replaceState":"pushState",data:{index:c.current,historyUniqueSessionId:Di}})}),[s,o]),p=ue((()=>{c.current&&Li[c.current]&&!d.current&&(Li[c.current].isClosed=!0,d.current=!0,c.current!==Oi||o||(Oi-=$i()))}),[o]);ye((()=>{if(!n.pz)return u.current=!1,()=>{a&&!d.current&&p()}})),Ee((e=>{let[t]=e;n.pz||t!==a&&(u.current&&!a||(a?m():p()))}),[a,p,m]),ce((()=>{if(e.tKX&&!r&&a)return l.current=function(e){const t=(Ii+=1,Ii);return Ai.push({id:t,callback:e}),Si(Bi),t}(s),()=>{void 0!==l.current&&(function(e){const t=Ai.findIndex((t=>t.id===e));-1!==t&&(Ai.splice(t,1),Si(Bi))}(l.current),l.current=void 0)}}),[a,r,i])}e.W75&&(window.TEST_getHistoryState=()=>Li,window.TEST_getHistoryCursor=()=>Oi),Hi(),window.addEventListener("popstate",(e=>{let{state:t}=e;if(Pi)return Pi=!1,void(Fi.length&&(Ui(Fi),Fi=[]));if(!t)return void Vi();const{index:n,historyUniqueSessionId:a}=t;if(a===Di){if(n!==Oi)if(n<Oi){let e=0;for(let t=Oi;t>n-e;t--){var o,r;Li[t].isClosed?e++:null===(o=(r=Li[t]).onBack)||void 0===o||o.call(r)}const t=$i(e);Oi+=n-Oi-t,Oi<0&&(Oi=0)}else n>Oi&&(Pi=!0,Wi({type:"go",delta:-(n-Oi)}))}else Vi()}));const Ki=new Set(["scroll","mouseenter","mouseleave","load","error"]),qi={},ji={},Yi=new Map;function Gi(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function Qi(e,t,n){return!n&&!Ki.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function Xi(e,t){qi[e]--,qi[e]||document.removeEventListener(e,Ji),ji[e].delete(t),Yi.get(t).delete(e)}function Ji(e){const t=ji[e.type];if(t){let n=!1,a=e.target;const o=()=>{n=!0},r=()=>{e.preventDefault()},i=new Proxy(e,{get:(e,t)=>"currentTarget"===t?a:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?r:Reflect.get(e,t)});for(;a&&a!==document.body;){const e=t.get(a);if(e&&(e(i),n))return;a=a.parentNode}}}e.Oig&&document.addEventListener("dblclick",(()=>{const e=Object.keys(qi).length,t=Object.values(qi).reduce(((e,t)=>e+t),0),n=Object.keys(ji).length,a=Object.values(ji).reduce(((e,t)=>e+t.size),0),o=Yi.size,r=Array.from(Yi.values()).reduce(((e,t)=>e+t.size),0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:a,delegatedEventTypesCount:r,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})}));const Zi="http://www.w3.org/2000/svg",es=new Set(["key","ref","teactFastList","teactOrderKey"]),ts=new Set(["dir","role","form"]),ns=["INPUT","TEXTAREA","SELECT"],as={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},os="__indexKey#",rs="__teactSelectionState",is=new WeakMap,ss=new WeakMap,cs=new WeakMap;function ls(t,n,a,o,r,i){var s,c,l;let d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};const{skipComponentUpdate:u,fragment:m}=d;let{nextSibling:p,namespace:f}=d;const h=(null==n?void 0:n.type)===D.Component,g=(null===(s=a)||void 0===s?void 0:s.type)===D.Component,v=a,w=!h&&(null==n?void 0:n.type)===D.Fragment,y=!g&&(null===(c=a)||void 0===c?void 0:c.type)===D.Fragment;if((null===(l=a)||void 0===l?void 0:l.type)===D.Tag&&("svg"===a.tag&&(f=Zi),a.props.xmlns&&(f=a.props.xmlns)),!u&&h&&g&&!ae(n,a)&&(a=function(e,t){return e.componentInstance.props=t.componentInstance.props,ne(e.componentInstance)}(n,a)),!u&&g&&a.componentInstance.mountState===L.Mounted&&us(t,a,o,r,i),n===a)return a;if(e.Oig&&a){const e="target"in a&&a.target;if(e&&(!n||"target"in n&&e!==n.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!n&&a)if(g||y)g&&(r=(a=ds(t,a,o,r,i)).componentInstance.context??r),ms(t,a,r,{nextSibling:p,fragment:m,namespace:f});else if(m||p||v.type!==D.Text||1!==o.children.length||t.firstChild){const e=ps(v,r,f);v.target=e,gs(m||t,e,p),v.type===D.Tag&&bs(v,e)}else t.textContent=v.value,v.target=t.firstChild;else if(n&&!a)fs(t,n,r,void 0);else if(n&&a)if(ae(n,a))if(p||(p=vs(n)),g||y)g&&(r=(a=ds(t,a,o,r,i)).componentInstance.context??r),fs(t,n,r,void 0),ms(t,a,r,{nextSibling:p,fragment:m,namespace:f});else{const e=ps(v,r,f);v.target=e,fs(t,n,r,e,p),v.type===D.Tag&&bs(v,e)}else if(h&&g||w&&y)ws(n,a,r,t,p,d.forceMoveToEnd);else{const e=n,o=e.target;if(v.target=o,e.target=void 0,n.type===D.Tag){const e=a;bs(n,void 0),bs(e,o),(p||d.forceMoveToEnd)&&gs(t,o,p),function(e,t,n,a){Es(n.tagName,t.props);const o=Object.entries(e.props),r=Object.entries(t.props);for(const[e,a]of o){const o=t.props[e];void 0!==a&&(void 0===o||a!==o&&e.startsWith("on"))&&Cs(n,e,a)}for(const[t,o]of r){const r=e.props[t];void 0!==o&&o!==r&&ks(n,t,o,a)}}(n,e,o,f),ws(n,e,r,o,void 0,void 0,f)}}return a}function ds(e,t,n,a,o){const{componentInstance:r}=t;return t.componentInstance.context=a,r.mountState===L.Unmounted&&(t=function(e){return e.id=++F,e.mountState=L.Mounting,ne(e),e.mountState=L.Mounted,e.$element}(r),us(e,t,n,a,o)),t}function us(e,t,n,a,o){const{componentInstance:r}=t;r.onUpdate=()=>{n.children[o]=ls(e,n.children[o],r.$element,n,a,o,{skipComponentUpdate:!0})}}function ms(e,t,n,a){const{children:o}=t;if(t.type===D.Fragment&&0===o.length){const n=t;return n.placeholderTarget=document.createComment("empty-fragment"),void gs(a.fragment||e,n.placeholderTarget,a.nextSibling)}for(let r=0,i=o.length;r<i;r++){const i=o[r],s=ls(e,void 0,i,t,n,r,a);s!==i&&(o[r]=s)}}function ps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"http://www.w3.org/1999/xhtml";if(e.type===D.Empty)return document.createTextNode("");if(e.type===D.Text)return document.createTextNode(e.value);const{tag:a,props:o,children:r}=e,i=document.createElementNS(n,a);Es(a,o);for(const e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&ks(i,e,o[e],n);!function(e,t){ns.includes(e.tagName)&&(t.defaultValue&&ks(e,"value",t.defaultValue),t.defaultChecked&&ks(e,"checked",t.defaultChecked))}(i,o);for(let a=0,o=r.length;a<o;a++){const o=r[a],s=ls(i,void 0,o,e,t,a,{namespace:n});s!==o&&(r[a]=s)}return i}function fs(e,t,n,a,o){const r=t.type===D.Component,i=!r&&t.type===D.Fragment;r||i?(r&&oe(t.componentInstance),function(e,t,n){for(const a of t.children)ls(e,a,void 0,t,n,-1)}(e,t,n),a&&gs(e,a,o)):(a?e.replaceChild(a,t.target):e.removeChild(t.target),hs(t))}function hs(e){if(e.type===D.Component)oe(e.componentInstance);else if(e.type===D.Fragment){const n=e;var t;n.placeholderTarget&&0===n.children.length&&(null===(t=n.placeholderTarget.parentNode)||void 0===t||t.removeChild(n.placeholderTarget),n.placeholderTarget=void 0)}else if(e.type===D.Tag&&(ss.delete(e.target),bs(e,void 0),function(e){const t=Yi.get(e);t&&(t.forEach((t=>Xi(t,e))),Yi.delete(e))}(e.target)),e.target=void 0,e.type!==D.Tag)return;for(const t of e.children)hs(t)}function gs(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function vs(e){if(e.type===D.Component||e.type===D.Fragment){if(0===e.children.length){const t=e;return t.placeholderTarget&&t.placeholderTarget.nextSibling||void 0}return vs(e.children[e.children.length-1])}return e.target.nextSibling||void 0}function ws(t,n,a,o,r){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0;if(e.Oig&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce(((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e)),[]);if(t.length!==(0,c.Am)(t).length)throw console.warn("[Teact] Duplicated keys:",t.filter(((e,t,n)=>n.indexOf(e)!==t)),e),new Error("[Teact] Children keys are not unique")}}(n.children),"props"in n&&n.props.teactFastList)return void function(t,n,a,o){const r=t.children,i=n.children,s=new Set;for(const t of i){const n="props"in t?t.props.key:void 0;if(e.Oig&&R(t)&&(null==n&&console.warn("Missing `key` in `teactFastList`"),t.type===D.Fragment))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");s.add(n)}let c=0;const l={};for(let e=0,t=r.length;e<t;e++){const t=r[e];let d="props"in t?t.props.key:void 0;const u=null!=d;if(!u||s.has(d)){if(!u){const r=i[e],s=r&&"props"in r?r.props.key:void 0;if(!r||s){ls(o,t,void 0,n,a,-1);continue}d=`${os}${e}`}l[d]={$element:t,index:c++,orderKey:"props"in t?t.props.teactOrderKey:void 0}}else ls(o,t,void 0,n,a,-1)}let d,u,m=0;for(let e=0,t=i.length;e<t;e++){const t=i[e],r=l["props"in t?t.props.key:`${os}${e}`];if(!r){void 0===u&&(d=e,u=0),u++;continue}u&&(ys(d,u,o,n,a),u=void 0,d=void 0);const s="props"in t?t.props.teactOrderKey:void 0,c=r.index!==m&&(!s||r.orderKey!==s),p=c&&m>r.index;c&&!p||m++;const f=o.childNodes[p?e+1:e],h=c?f?{nextSibling:f}:{forceMoveToEnd:!0}:void 0,g=ls(o,r.$element,t,n,a,e,h);g!==t&&(i[e]=g)}u&&ys(d,u,o,n,a)}(t,n,a,o);if(t.type===D.Fragment&&n.type===D.Fragment){const e=t,a=n;var l;if(0===e.children.length&&a.children.length>0&&e.placeholderTarget&&(r=e.placeholderTarget.nextSibling||void 0,null===(l=e.placeholderTarget.parentNode)||void 0===l||l.removeChild(e.placeholderTarget),e.placeholderTarget=void 0),e.children.length>0&&0===a.children.length){const t=vs(e.children[e.children.length-1]);a.placeholderTarget=document.createComment("empty-fragment"),gs(o,a.placeholderTarget,t)}}const d=t.children,u=n.children,m=d.length,p=u.length,f=Math.max(m,p),h=p>m?document.createDocumentFragment():void 0,g=t.children[m-1],v=h&&(r||(g?vs(g):void 0));for(let e=0;e<f;e++){const t=ls(o,d[e],u[e],n,a,e,e>=m?{fragment:h,namespace:s}:{nextSibling:r,forceMoveToEnd:i,namespace:s});t&&t!==u[e]&&(u[e]=t)}h&&gs(o,h,v)}function ys(e,t,n,a,o){const r=n.childNodes[e];if(1===t){const t=a.children[e],i=ls(n,void 0,t,a,o,e,{nextSibling:r});return void(i!==t&&(a.children[e]=i))}const i=document.createDocumentFragment();for(let r=e;r<e+t;r++){const e=a.children[r],t=ls(n,void 0,e,a,o,r,{fragment:i});t!==e&&(a.children[r]=t)}gs(n,i,r)}function bs(e,t){const{ref:n}=e.props;var a;"object"==typeof n?(n.current=t,null===(a=n.onChange)||void 0===a||a.call(n)):"function"==typeof n&&n(t)}function Es(e,t){const n=void 0!==t.value,a=void 0!==t.checked;if(!n&&!a||!ns.includes(e.toUpperCase()))return;const{value:o,checked:r,onInput:i,onChange:s,onBlur:c}=t;t.onChange=void 0,t.onInput=e=>{if(null==i||i(e),null==s||s(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,a=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:a};e.currentTarget.dataset[rs]=JSON.stringify(o)}}void 0!==r&&(e.currentTarget.checked=r)},t.onBlur=e=>{delete e.currentTarget.dataset[rs],null==c||c(e)}}function ks(e,t,n,a){if("className"===t)Ns(e,n,a);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset[rs];if(e){const{selectionStart:n,selectionEnd:a,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof a&&t.setSelectionRange(n,a)}}}else"style"===t?Ss(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Gi(t,e);Qi(o,e,a)?function(e,t,n){qi[e]||(qi[e]=0,document.addEventListener(e,Ji)),function(e){return ji[e]||(ji[e]=new Map),ji[e]}(e).set(t,n),function(e){const t=Yi.get(e);if(t)return t;const n=new Set;return Yi.set(e,n),n}(t).add(e),qi[e]++}(o,e,n):e.addEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):a===Zi||t.startsWith("data-")||t.startsWith("aria-")||ts.has(t)?e.setAttribute(t,n):es.has(t)||(e[as[t]||t]=n)}function Cs(e,t,n){"className"===t?Ns(e,""):"value"===t?e.value="":"style"===t?Ss(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Gi(t,e);Qi(o,e,a)?Xi(o,e):e.removeEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):es.has(t)||e.removeAttribute(t)}function Ns(e,t,n){if(n===Zi)return void e.setAttribute("class",t);const a=e,o=ss.get(e);if(!o)return void(a.className=t);const r=Array.from(o);t&&r.push(t),a.className=r.join(" ")}function Ss(e,t){e.style.cssText=t,cs.get(e)&&_s(e)}function As(e,t){e.classList.add(t);const n=ss.get(e);n?n.add(t):ss.set(e,new Set([t]))}function Ts(e,t){e.classList.remove(t);const n=ss.get(e);n&&(n.delete(t),n.size||ss.delete(e))}function Is(e,t,n){var a;!0===n?As(e,t):!1===n||null!==(a=ss.get(e))&&void 0!==a&&a.has(t)?Ts(e,t):As(e,t)}function Bs(e,t){cs.set(e,t),_s(e)}function _s(e){const t=Object.entries(cs.get(e)).reduce(((t,n)=>{let[a,o]=n;return a.startsWith("--")?e.style.setProperty(a,o):t[a]=o,t}),{});Object.assign(e.style,t)}const xs=function(e,t){is.has(t)||is.set(t,{children:[]});const n=ee(),a=is.get(t),o=ls(t,a.children[0],e,a,{},0);null==n||n(),a.children=o?[o]:[]};function Ds(e){const t=me();return t.current??=E(e),t.current}function Ls(e,t){const n=me(!0);n.current&&(n.current=!1,null==t||t.forEach((t=>{y(t)&&t.subscribe(e)}))),ye((()=>()=>{!function(e){var t;null===(t=b.get(e))||void 0===t||t.forEach((e=>{e()})),b.delete(e)}(e)}))}const Os=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=t?e:()=>e;t??=[e];const[o,r]=Ds(),i=Uo(a);function s(){const e=i.current;n?e(r):r(e())}return Ee(s,t),Ls(s,t),o},Ps=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=t?e:()=>e();t??=[e];const o=me(),r=ve(),i=Uo(a);function s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=i.current;if(n)t((e=>{o.current!==e&&(o.current=e,r())}));else{const n=t();o.current!==n&&(o.current=n,e||r())}}return Ee((()=>{s(!0)}),t),Ls(s,t),o.current},Ms=(e,t)=>{const n=me();return Ee((()=>{const a=n.current;return n.current=t,e(a||[])}),t)},Fs=350;function Rs(e){const{isOpen:t,noMountTransition:n=!1,noOpenTransition:a=!1,noCloseTransition:o=!1,closeDuration:r=Fs,className:i="fast",prefix:s="",shouldForceOpen:c,onCloseAnimationEnd:l}=e,d=me(),u=e.ref||d,m=me(),[p,f]=pe(),h=Uo({closeDuration:r,noMountTransition:n,noOpenTransition:a,noCloseTransition:o}),g=Wo(l);Ms((e=>{let[n]=e;const a=h.current;c?f("open"):t?(m.current&&(clearTimeout(m.current),m.current=void 0),a.noOpenTransition||void 0===n&&a.noMountTransition?f("open"):(f("scheduled-open"),(0,k.YS)((()=>{f("open")})))):void 0===n||a.noCloseTransition?f("closed"):(f("closing"),m.current=window.setTimeout((()=>{f("closed"),g()}),a.closeDuration))}),[t,c]);const v=Wo((()=>{const e=u.current;if(!e)return;!1!==i&&(As(e,"opacity-transition"),As(e,i));const t=p(),n="closed"!==t,a="open"===t,o="closing"===t;Is(e,`${s}shown`,n),Is(e,`${s}not-shown`,!n),Is(e,`${s}open`,a),Is(e,`${s}not-open`,!a),Is(e,`${s}closing`,o)}));Ee((()=>{u.onChange=()=>{u.onChange=void 0,v()}}),[v,u]),le(v,[v,p]);const w="withShouldRender"in e&&e.withShouldRender,y=Ps((()=>w&&"closed"!==p()),[w,p]),b=Os((()=>"closing"===p()),[p]);return w?{ref:u,shouldRender:y,getIsClosing:b}:{ref:u,getIsClosing:b}}function Us(e){let{className:t,isActive:n,element:a=document.documentElement}=e;le((()=>{if(n)return As(a,t),()=>{Ts(a,t)}}),[t,n,a])}const Ws="TUSiLENF",Hs=fe((function(e){let{isActive:t,className:n,isDoubled:a}=e;const{shouldRender:o,ref:r}=Rs({isOpen:t,withShouldRender:!0});return o?ge.createElement("div",{ref:r,className:Tr("esdydUs1",a&&"UJzP4d9r",n)},ge.createElement("span",{className:Ws}),ge.createElement("span",{className:Ws}),ge.createElement("span",{className:Ws})):null})),$s={button:"GpDwnAkE",loadingInit:"tZ9ppkji",clicked:"A1qGzs0x",isSimple:"Cw_ElX3O",isText:"d3A7BZDx",primary:"Pb9B3sBE",secondary:"k1jQrbAk",transparent:"nxcFq7cM",disabled:"zSwp1moR",destructive:"tLZabe0e",sizeSmall:"ORqfj0CU",round:"PJ7EB5_T",loadingStart:"pv1HwapI",loadingDots:"_2QYUoJe"},Vs=fe((function(e){let{ref:t,children:n,id:a,className:o,style:r,ariaLabel:i,forFormId:s,kind:c,isSubmit:l,isPrimary:d,isSecondary:u,isSmall:m,isSimple:p,isText:f,isLoading:h,isDisabled:g,isRound:v,isDestructive:w,shouldStopPropagation:y,onClick:b,onMouseDown:E,onContextMenu:k}=e;const[C,N]=ie(!1),S=Wo((e=>{!g&&b&&(y&&e.stopPropagation(),b()),N(!0),setTimeout((()=>{N(!1)}),400)})),A=Tr(void 0!==h&&$s.loadingInit,h&&$s.loadingStart);return ge.createElement("button",{id:a,ref:t,type:l||s?"submit":"button",className:Tr($s.button,d&&$s.primary,u&&$s.secondary,m&&$s.sizeSmall,p&&$s.isSimple,f&&$s.isText,(g||h)&&$s.disabled,A,v&&$s.round,w&&$s.destructive,C&&$s.clicked,o,c&&$s[c]),style:r,"aria-label":i,disabled:g||h,form:s,onClick:S,onMouseDown:E,onContextMenu:k},n,ge.createElement(Hs,{isActive:h,className:$s.loadingDots}))})),zs=function(e){let{containerId:t,className:n,style:a,children:o}=e;const r=me();return r.current||(r.current=document.createElement("div")),le((()=>{const e=document.querySelector(t||"#portals");if(!e)return;const o=r.current;return n&&(o.className=n),a&&(o.style.cssText=a),e.appendChild(o),()=>{xs(void 0,o),e.removeChild(o)}}),[n,a,t]),xs(o,r.current)},Ks={modal:"bei20BXo",inAppLock:"rhy5UM19",error:"ycQPrkNy",dialog:"lCrWZOJa",backdrop:"BRHUYooL",slideUpAnimation:"ciD50Ivv",container:"pI0zvyZ_",forceBottomSheet:"zXbZnJvJ",content:"ikANOLRm",noBackdrop:"JdyYzya2",compact:"OIC6BQI4",header:"LB42p81C",header_wideContent:"_ijqgHQC",headerWideContent:"_ijqgHQC",header_back:"F2CCACcS",headerBack:"F2CCACcS",header_backIcon:"IubryJoO",headerBackIcon:"IubryJoO",menuButton:"nz22xGPo",menuIcon:"NiajLgHY",closeButton:"Oj6lWSUo",closeIcon:"VPuUZtvp",title:"ZDSNp0nr",singleTitle:"Sv8Bhg5M",contentCompact:"ulAHEr0t",text:"FumpDc7T",text_centered:"PRVdJNuh",textCentered:"PRVdJNuh",text_noExtraMargin:"JNEqsMcb",textNoExtraMargin:"JNEqsMcb",buttons:"PWLeFX8Z",footerButtons:"fXtMQ4nZ",footerButtonFullWidth:"KMr7BHAz",buttonsInsideContentWithScroll:"SCBITBKB",buttonsNoExtraSpace:"vyEjC2QK",button:"pvjzjt3q",buttonHalfWidth:"EhlEYVbZ",buttonFullWidth:"zRgM4gqF",shortButton:"QFWfMoly",fluidButton:"RTgQIBFc",transition:"ELmioinr",transitionSlide:"OXFBF6TX",transitionContentWrapper:"N1r_Lya9",transitionContent:"W4ZdBtyi",transitionContent_simple:"qGdeWGzL",transitionContentSimple:"qGdeWGzL"},qs=350,js=n.Ni?200:500,[Ys,Gs]=E(Date.now()),Qs=new Set,Xs=(Js=function(t){let{dialogRef:a,title:o,className:r,dialogClassName:i,titleClassName:s,contentClassName:c,isOpen:d,isTemporarilyClosed:u,isCompact:m,nativeBottomSheetKey:p,forceFullNative:f,forceBottomSheet:h,isInAppLock:g,noResetFullNativeOnBlur:v,noBackdrop:w,noBackdropClose:y,header:b,hasCloseButton:E,children:k,onClose:C,onCloseAnimationEnd:N,onEnter:S}=t;const A=d&&!u,T=Wo((()=>{if(!u||!d)return C()})),I=Ar(),B=me(),x=me(),D=me();a||=x;const{isPortrait:L}=ui();!function(t,a){Ee((()=>{if(!e.UMQ||n.bA||a)return;const o=nc();o&&t&&o&&o.hide().then((async()=>{n.KI&&await To.enable()}))}),[a,t])}(A,m);const O=(L?js:qs)+e.xB5,P=!m&&L;zi({isActive:A,onBack:T,shouldIgnoreForTelegram:m}),ce((()=>{if(e.tKX&&A&&!m)return so(),co}),[m,A]),pi((e=>{let[t]=e;n.bA&&m&&(t||A)&&!yi&&To.toggleSelfFullSize({isFullSize:!!A})}),[A,m]),ce((()=>{if(!n.bA&&A)return Ys.subscribe(T)}),[A,T]),ce((()=>A?Wr({onEsc:{handler:T,shouldPreventDefault:e.hL1},...S&&{onEnter:S}}):void 0),[A,T,S]),ce((()=>A&&B.current?qr(B.current):void 0),[A]),Us({className:"is-modal-open",isActive:!m&&A}),le((()=>A?_(O):void 0),[O,A]),ce((()=>{if(p)return A?Qs.add(p):Qs.delete(p),()=>{Qs.delete(p)}}),[A,p]);const[M,F]=ie(!1);ce((()=>{const e=nc();if(!A)return F(!1),void requestAnimationFrame((()=>{null==e||e.show()}));null==e||e.hide().then((()=>{F(!0)}))}),[A]);const R=function(e,t,a,o){const r=n.KI&&e,i=a&&t;return pi((t=>{let[n]=t;if(r)if(i){var a;null===(a=Ci)||void 0===a||a();const t=()=>{Re(),o()};Ci=t,Ni=Promise.race([Ni,(0,l.v7)(1e3)]).then((()=>To.delegate({key:e,globalJson:JSON.stringify(Ve())}))).then((()=>{Ci===t&&(Ci(),Ci=void 0)})).then((()=>(0,l.v7)(100)))}else n&&To.release({key:e})}),[i,r,e,o]),r&&t}(p,L,A&&(!nc()||M),T);(function(e,t,a,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];pi((r=>{let[i]=r;if(n.bA&&e&&e===wi)if(t){const t=o.current;To.openSelf({key:e,height:String(t.offsetHeight),backgroundColor:jr(getComputedStyle(t).backgroundColor)}).then((()=>{Re(),a()}))}else i&&(To.closeSelf({key:e}),ri({forceDarkBackground:!1}))}),[t,o,e,a]);const s=n.bA&&e&&t,{screenHeight:c}=ui(),[l,d]=ie(gi);vi.then(d);const u=c-((null==l?void 0:l.top)||0);le((()=>{s&&(o.current.style[r?"maxHeight":"height"]="",o.current.style[r?"height":"maxHeight"]=`${u}px`)}),[o,r,s,u]),pi((e=>{let[t]=e;s&&(yi=r,void 0!==r&&void 0===t||To.toggleSelfFullSize({isFullSize:r}))}),[r,s]),le((()=>{if(!s)return;const e=o.current;let t;function n(n){if(Ei(n.target)){if(t)return clearTimeout(t),void(t=void 0);var a;(a=e).style.opacity="0",setTimeout((()=>{a.style.opacity="1"})),document.documentElement.scrollTop=0,To.toggleSelfFullSize({isFullSize:!0})}}function a(e){var n;!Ei(e.target)||i||r||(n=e.target)&&n instanceof HTMLElement&&(n.matches(".is-compact-modal")||n.closest(".is-compact-modal"))||(t=window.setTimeout((()=>{t=void 0,To.toggleSelfFullSize({isFullSize:!1})}),50))}return document.addEventListener("focusin",n),document.addEventListener("focusout",a),()=>{document.removeEventListener("focusout",a),document.removeEventListener("focusin",n)}}),[o,r,s,i])})(p,A&&(!nc()||M),T,a,f,v),ce((()=>{if(n.TF&&A&&L&&P&&!n.bA&&!R)return Fr(B.current,{excludedClosestSelector:".capture-scroll",onSwipe:(e,t)=>!(t!==Dr.Down||!function(e,t){if(Ra>Wa.height||Vr>0)return!1;const n=Date.now();if(e.current&&n-e.current<500)return!1;e.current=n;const a=null==t?void 0:t.closest(".custom-scroll");return!a||0===a.scrollTop}(D,e.target)||(T(),0))})}),[A,L,P,R,T]);const{shouldRender:U}=Rs({ref:B,isOpen:A&&!R,onCloseAnimationEnd:N,className:!1,closeDuration:O,withShouldRender:!0});if(!U)return;const W=Tr(Ks.modal,r,P&&Ks.slideUpAnimation,m&&Ks.compact,m&&"is-compact-modal",h&&Ks.forceBottomSheet,g&&Ks.inAppLock),H=Tr(Ks.backdrop,w&&Ks.noBackdrop),$=Tr(Ks.content,m&&Ks.contentCompact,"custom-scroll",c);return ge.createElement(zs,null,ge.createElement("div",{ref:B,className:W,tabIndex:-1,role:"dialog"},ge.createElement("div",{className:Ks.container},ge.createElement("div",{className:H,onClick:y?void 0:T}),ge.createElement("div",{className:Tr(Ks.dialog,i),ref:a},b||(o?ge.createElement("div",{className:Tr(Ks.header,Ks.header_wideContent,!E&&Ks.header_noClose)},ge.createElement("div",{className:Tr(Ks.title,Ks.singleTitle,s)},o),E&&ge.createElement(Vs,{isRound:!0,className:Ks.closeButton,ariaLabel:I("Close"),onClick:T},ge.createElement("i",{className:Tr(Ks.closeIcon,"icon-close"),"aria-hidden":!0}))):void 0),ge.createElement("div",{className:$},k)))))},function(e){const t=me(e);return e.isOpen?t.current=e:t.current={...t.current,isOpen:!1},Js(t.current)});var Js;const Zs=je(((e,t)=>{let{isInAppLock:n}=t;return{isTemporarilyClosed:!(n||!e.isAppLockActive)}}))(Xs);let ec;const tc=fe(je((e=>{const{currentBrowserOptions:t,settings:n}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title,subtitle:null==t?void 0:t.subtitle,theme:n.theme,animationLevel:n.animationLevel}}))((function(a){let{title:o,subtitle:r,url:i,theme:s,animationLevel:d}=a;const{closeBrowser:u}=Ke(),m=Ar(),{setupDappBridge:p,cleanupDappBridge:f}=function(t){const n=me(),a=Wo((a=>{n.current=(0,Do.p)(Ro(t),e.hUJ,new Ho(a))}));return ce((()=>{if(t)return()=>{var e;null===(e=n.current)||void 0===e||e.call(n)}}),[t]),{setupDappBridge:a,cleanupDappBridge:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.call(n)}}}(i),h=de((()=>`\n(${xo})(\n  '${e.HOw}',\n  '${e.hUJ}',\n  'cordova_iab' in window ? window.cordova_iab : window.webkit.messageHandlers.cordova_iab,\n  {\n    deviceInfo: ${JSON.stringify(function(){const t=["SendTransaction",{name:"SendTransaction",maxMessages:It.Bm}];return t.push({name:"SignData",types:["text","binary","cell"]}),{platform:_o(),appName:e.C39,appVersion:"4.0.7",maxProtocolVersion:e.gY_,features:t}}())},\n    protocolVersion: ${e.gY_},\n    isWalletBrowser: true,\n  }\n);\n  `),[]),g=Wo((e=>{(0,t.SJ)("inAppBrowser error",e)})),v=Wo((async()=>{n.KI&&await To.enable(),ec.removeEventListener("loaderror",g),ec.removeEventListener("exit",v),ec=void 0,u(),f()})),w=Wo((async()=>{n.KI&&!(await To.isShown()).value&&await To.disable();const t=!o&&i?qo(i):o,a=r===t?void 0:r,u=`,${(0,c.oE)([n.pz||t?`title=${t||""}`:void 0,n.pz||a?`subtitle=${a||""}`:void 0,i?`shareurl=${encodeURIComponent(i)}`:void 0,`closebuttoncaption=${n.pz?m("Close"):"x"}`,`backbuttoncaption=${m("Back")}`,`reloadcaption=${m("Reload Page")}`,`openinbrowsercaption=${m(n.pz?"Open in Safari":"Open in Browser")}`,`copyurlcaption=${m("CopyURL")}`,`sharecaption=${m("Share")}`,`theme=${s}`,"animated="+(d??e.i11>0?"yes":"no")]).join(",")}`;ec=cordova.InAppBrowser.open(i,"_blank",Vc+u,h);const f=ec.hide;ec.hide=()=>new Promise((e=>{null==f||f(),ec&&n.ZH?Bo(ec,"hidecompletion",(()=>e())):e()}));const w=ec.show;ec.show=()=>{Qs.size>0||null==w||w()};const y=ec.close;ec.close=()=>{if(!ec)return Promise.resolve();y();const e=new Promise((e=>{Bo(ec,"exit",(async()=>{await(0,l.fm)((()=>!ec),15,20),e()})),setTimeout(e,900)}));return ec.show=()=>{},ec.hide=()=>e,e},p(ec),ec.addEventListener("loaderror",g),ec.addEventListener("exit",v),ec.show()}));ce((()=>{if(i)return w(),()=>{var e;return null===(e=ec)||void 0===e?void 0:e.close()}}),[i])})));function nc(){return ec}function ac(){var e;return Promise.all([null===(e=nc())||void 0===e?void 0:e.close(),Ke().closeAnyModal(),Ke().closeMediaViewer()])}function oc(e,t){return e&&t[e]||e}const[,rc]=e.Xr6.split("*");async function ic(t,n){if(sc(t)&&(t=`${t}#theme=${Ve().settings.theme}`),null!=n&&n.isExternal||!t.startsWith("http")||!(e.UMQ||sc(t)||function(t){return e.Jxt.some((e=>t.startsWith(e.replace(/\*$/,""))))}(t))||Jo(t)){const n=e.UMQ&&await async function(e){try{return(await Ao.openUrl({url:e})).completed}catch(e){return!1}}(t);n||window.open(t,"_blank","noopener")}else await ac(),Ke().openBrowser({url:t,title:null==n?void 0:n.title,subtitle:null==n?void 0:n.subtitle})}function sc(e){const{host:t}=new URL(e);return t.endsWith(rc)||t.startsWith("localhost:432")}function cc(e){e.preventDefault(),ic(e.currentTarget.href,{isExternal:e.shiftKey||e.ctrlKey||e.metaKey})}let lc;const dc=new Promise((e=>{lc=e})),uc="ton://",mc="tc://",pc="mytonwallet-tc://",fc="mtw://",hc=["https://my.tt","https://go.mytonwallet.org"],gc="https://connect.mytonwallet.org",vc="https://checkin.mytonwallet.org";var wc=function(e){return e.CheckinWithR="r",e.Swap="swap",e.BuyWithCrypto="buy-with-crypto",e.BuyWithCard="buy-with-card",e.Stake="stake",e.Giveaway="giveaway",e.Transfer="transfer",e.Explore="explore",e}(wc||{});let yc;async function bc(e,t){let{isFromInAppBrowser:n,...a}=t;kc(e)||Sc(e)||Ac(e)?await Ec(e,n):await ic(e,a)}function Ec(n){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ve().currentAccountId||(yc=n),Sc(n)?async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Sc(e))return!1;const{openLoadingOverlay:n,closeLoadingOverlay:o}=Ke();n();const r=await(0,a.p)("startSseConnection",{url:e,isFromInAppBrowser:t});return o(),r&&ic(r,{isExternal:!t}),!0}(n,o):Ac(n)?async function(n){try{var a;n=Ic(n);const{pathname:s,searchParams:c}=new URL(n),l=s.split("/").find(Boolean),d=Ke(),u=Ve(),{isTestnet:m}=u.settings,p=null===(a=rt(u))||void 0===a?void 0:a.ledger;switch((0,t.MD)("Processing deeplink",n),l){case wc.CheckinWithR:{var o;const e=null===(o=s.match(/r\/(.*)$/))||void 0===o?void 0:o[1];return ic(`${vc}${e?`?r=${e}`:""}`),!0}case wc.Giveaway:{var r;const t=null===(r=s.match(/giveaway\/([^/]+)/))||void 0===r?void 0:r[1];return ic(`${e.qsd}${t?`?giveawayId=${t}`:""}`),!0}case wc.Swap:return m?d.showError({error:"Swap is not supported in Testnet."}):p?d.showError({error:"Swap is not yet supported by Ledger."}):d.startSwap({tokenInSlug:c.get("in")||e.Tu9.slug,tokenOutSlug:c.get("out")||e.rKC,amountIn:Dc(c.get("amount"))||"10"}),!0;case wc.BuyWithCrypto:return m?d.showError({error:"Swap is not supported in Testnet."}):p?d.showError({error:"Swap is not yet supported by Ledger."}):d.startSwap({tokenInSlug:c.get("in")||e.Czf,tokenOutSlug:c.get("out")||e.Tu9.slug,amountIn:Dc(c.get("amount"))||"100"}),!0;case wc.BuyWithCard:return m?d.showError({error:"Buying with card is not supported in Testnet."}):d.openOnRampWidgetModal({chain:"ton"}),!0;case wc.Stake:return m?d.showError({error:"Staking is not supported in Testnet."}):d.startStaking(),!0;case wc.Transfer:return await Cc(Bc(n));case wc.Explore:{d.closeSettings(),d.openExplore(),d.setActiveContentTab({tab:Kn.Explore});const e=s.split("/").filter(Boolean)[1];if(e){var i;const t=null===(i=Ve().exploreData)||void 0===i?void 0:i.sites.find((t=>{let{url:n}=t;return(Jo(n)?new URL(n).pathname.split("/").filter(Boolean)[0]:new URL(n).hostname)===e}));t&&ic(t.url)}return!0}}}catch(e){(0,t.SJ)("processSelfDeeplink",e)}return!1}(n):Cc(n)}function kc(e){return e.startsWith(uc)}async function Cc(e){await dc;const t=Ke(),n=Ve();if(!n.currentAccountId)return!1;const a=Nc(e,n);return!!a&&("error"in a?(t.showError({error:a.error}),!0):(t.startTransfer({isPortrait:mi(),...a}),di||t.setLandscapeActionsActiveTabIndex({index:zn.Transfer}),!0))}function Nc(t,n){const a=function(e){if("string"==typeof e&&kc(e)&&e.includes("/transfer/"))try{const t=e.replace(uc,"https://"),n=new URL(t),a=n.pathname.replace(/\//g,""),o=Oc(n,"amount"),r=Oc(n,"text"),i=Oc(n,"bin"),s=Oc(n,"jetton"),c=Oc(n,"nft"),l=Oc(n,"init")||Oc(n,"stateInit"),d=Oc(n,"exp"),u=new Set(["amount","text","bin","jetton","nft","init","stateInit","exp"]);return{hasUnsupportedParams:Array.from(n.searchParams.keys()).some((e=>!u.has(e))),toAddress:a,amount:o?BigInt(o):void 0,comment:r,jettonAddress:s,nftAddress:c,binPayload:i?Lc(i):void 0,stateInit:l?Lc(l):void 0,exp:d?Number(d):void 0}}catch(e){return}}(t);if(!a)return;if(a.hasUnsupportedParams)return{error:"$unsupported_deeplink_parameter"};const{toAddress:o,amount:r,comment:i,binPayload:s,jettonAddress:l,nftAddress:d,stateInit:u,exp:m}=a,p={toAddress:va(o,"ton")?o:void 0,tokenSlug:e.Tu9.slug,amount:r,comment:i,binPayload:s,stateInit:u};if(i&&s&&(p.error="$transfer_text_and_bin_exclusive"),l){const e=l?function(e,t){return Object.values(e.tokenInfo.bySlug).find((e=>e.tokenAddress===t))}(n,l):void 0;if(e){const t=function(e,t){const n=Ut(e);return null==n?void 0:n.find((e=>e.slug===t))}(n,e.slug);t?p.tokenSlug=e.slug:p.error="$dont_have_required_token"}else p.error="$unknown_token_address"}if(d){const e=function(e,t){return kt(e,e.currentAccountId,t)}(n,d);e?p.nfts=[e]:p.error="$dont_have_required_nft"}return m&&Math.floor(Date.now()/1e3)>m&&(p.error="$transfer_link_expired"),(0,c.Oy)(p)}function Sc(e){return e.startsWith(mc)||e.startsWith(pc)||_c(e).startsWith(_c(gc))}function Ac(e){return(e=xc(e)).startsWith(fc)||hc.some((t=>e.startsWith(t)))}function Tc(e,n){let a=e;if(Ac(e))try{e=Ic(e);const{pathname:t}=new URL(e);t.split("/").find(Boolean)===wc.Transfer&&(a=Bc(e))}catch(e){(0,t.SJ)("parseDeeplinkTransferParams",e)}return Nc(a,n)}function Ic(e){return e.startsWith(fc)?e.replace(fc,`${hc[0]}/`):e}function Bc(e){e=xc(e);for(const t of hc)if(e.startsWith(t))return e.replace(`${t}/`,uc);return e}function _c(e){return e.replace(/^https?:\/\//,"")}function xc(e){return e.replace(/^http:\/\//,"https://")}function Dc(e){return String(Number(e)||"")}function Lc(e){return e.replace(/ /g,"+")}function Oc(e,t){return e.searchParams.get(t)??void 0}var Pc=i(94465);const Mc=(0,_a.F3)("PushNotifications",{});function Fc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const a={};let o=0;for(const r of t){if(o>=n)break;const t=it(e,r),i=null==t?void 0:t.addressByChain.ton;i&&(a[r]={title:t.title,address:i,chain:"ton"},o+=1)}return a}let Rc;function Uc(){return Rc}let Wc=0;function Hc(e){const{showAnyAccountTx:t,showAnyAccountTokenActivity:n,openAnyAccountStakingInfo:a,switchAccountAndOpenUrl:o,openDomainRenewalModal:r}=Ke(),i=Ve(),s=e.notification.data,{action:l,address:d}=s,u=void 0===d?void 0:function(e,t,n){const a=tt(e);if(!a)return;const o=Object.entries(a).find((e=>{let[t,a]=e;return a.addressByChain.ton===n?t:void 0}));return null==o?void 0:o[0]}(i,0,d),m="mainnet";if("openUrl"!==l){if(u)if("nativeTx"===l||"swap"===l){const{txId:e}=s;t({accountId:u,txId:e,network:m})}else if("jettonTx"===l){const{slug:e}=s;n({accountId:u,slug:e,network:m})}else if("staking"===l){const{stakingId:e}=s;a({accountId:u,network:m,stakingId:e})}else if("expiringDns"===l){const{domainAddress:e}=s;r({accountId:u,network:m,addresses:[e]})}}else o({accountId:u,network:m,...(0,c.Up)(s,["url","isExternal","title","subtitle"])})}function $c(e){const t=e.value;Ke().registerNotifications({userToken:t,platform:Uc()}),window.addEventListener("focus",(async()=>{const e=Ve(),n=Object.keys(e.pushNotifications.enabledAccounts||[]);n.length&&Wc<=Date.now()&&(await(0,a.p)("subscribeNotifications",{userToken:t,platform:Uc(),addresses:Object.values(Fc(e,n))}),Wc=Date.now()+36e5)}),{capture:!0})}const Vc=["location="+(n.pz?"no":"yes"),"lefttoright="+(n.pz?"no":"yes"),"usewkwebview=yes","clearcache=no","clearsessioncache=no","hidden=yes","toolbarposition=top","hidenavigationbuttons=yes","hideurlbar=no","backbuttoncaption=Back","allowInlineMediaPlayback=yes"].join(",");let zc=!1,Kc=!1,qc=!1,jc=0,Yc=0,Gc=0;function Qc(e){for(const[t,n]of Object.entries(e.insets))document.documentElement.style.setProperty(`--safe-area-${t}`,`${"android"===Uc()&&"top"===t?n+8:n}px`)}function Xc(){return Yc}function Jc(){return e.UMQ&&zc||e.tKX&&Xa}function Zc(){return e.UMQ&&Kc||e.tKX&&Ja}function el(){return e.UMQ&&qc||e.tKX&&Za}function tl(){return e.UMQ||(0,n.v3)()}class nl extends _a.E_{async write(e){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(void 0!==e.string)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else{if(!e.image)throw new Error("Nothing to write");if("undefined"==typeof ClipboardItem)throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const t=await(await fetch(e.image)).blob(),n=new ClipboardItem({[t.type]:t});await navigator.clipboard.write([n])}catch(e){throw new Error("Failed to write image")}}}async read(){if("undefined"==typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if("undefined"==typeof ClipboardItem)return this.readText();try{const e=await navigator.clipboard.read(),t=e[0].types[0],n=await e[0].getType(t);return{value:await this._getBlobData(n,t),type:t}}catch(e){return this.readText()}}async readText(){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if("undefined"==typeof navigator||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,t){return new Promise(((n,a)=>{const o=new FileReader;t.includes("image")?o.readAsDataURL(e):o.readAsText(e),o.onloadend=()=>{const e=o.result;n(e)},o.onerror=e=>{a(e)}}))}}const al=(0,_a.F3)("Clipboard",{web:()=>new nl});var ol=i(23693);const rl=(0,_a.F3)("Haptics",{web:()=>i.e(789).then(i.bind(i,83789)).then((e=>new e.HapticsWeb))});async function il(){var t;e.tKX?null===(t=no())||void 0===t||t.HapticFeedback.impactOccurred("soft"):e.UMQ&&await rl.impact({style:ol.k.Light})}async function sl(){var t;e.tKX?null===(t=no())||void 0===t||t.HapticFeedback.notificationOccurred("error"):e.UMQ&&(await rl.impact({style:ol.k.Medium}),await(0,l.v7)(100),await rl.impact({style:ol.k.Medium}),await(0,l.v7)(75),await rl.impact({style:ol.k.Light}))}async function cl(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n;(e.UMQ||e.tKX)&&(e.tKX?null===(n=no())||void 0===n||n.HapticFeedback.notificationOccurred("success"):await rl.impact({style:ol.k.Light}),t&&await(0,l.v7)(1300))}const ll=document.createElement("textarea");ll.setAttribute("readonly",""),ll.tabIndex=-1,ll.className="visually-hidden";const dl=t=>(il(),e.UMQ?al.write({string:t}):navigator.clipboard.writeText(t));async function ul(){if(e.tKX)return new Promise((e=>{var t;null===(t=no())||void 0===t||t.readTextFromClipboard((t=>{il(),e({text:t,type:"text/plain"})}))}));if(e.UMQ){const{value:e,type:t}=await al.read();return il(),{text:e,type:t}}return{text:await navigator.clipboard.readText(),type:"text/plain"}}function ml(t){return 1===t.length&&t[0].length===e.PcM}const pl=Symbol("EQUAL"),fl={__delete:!0},hl={__deleteAllChildren:!0};function gl(e,t){if(e===t)return pl;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(a=t,(n=e).length===a.length&&n.every(((e,t)=>gl(e,a[t])===pl))))return pl;var n,a;if(!(0,c.Vh)(e)||!(0,c.Vh)(t))return t;const o=e,r=t,i=Object.keys(o),s=Object.keys(r);if(!s.length)return i.length?hl:pl;const l=(0,c.Am)(i.concat(s)).reduce(((e,t)=>{const n=o[t],a=r[t];if(!r.hasOwnProperty(t))return e[t]=fl,e;if(!o.hasOwnProperty(t))return e[t]=a,e;const i=gl(n,a);return i!==pl&&(e[t]=i),e}),{});return 0===Object.keys(l).length?pl:l}function vl(e,t){return e===t?t:(0,c.Vh)(t)?(0,c.Vh)(e)?t.__deleteAllChildren?{}:(0,c.Am)(Object.keys(e).concat(Object.keys(t))).reduce(((n,a)=>{const o=e[a];if(t.hasOwnProperty(a)){const e=t[a];null!=e&&e.__delete||(n[a]=vl(o,e))}else n[a]=o;return n}),{}):wl(t):t}function wl(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce(((e,t)=>{let[n,a]=t;return null!=a&&a.__delete||(e[n]=(0,c.Vh)(a)?wl(a):a),e}),{})}const[yl,bl]=E(!document.hasFocus()),El=yl;function kl(){bl(!0)}function Cl(){bl(!1)}function Nl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Wo(e),o=Wo(t);ce((()=>{if(!n)return El()&&a(),El.subscribe((()=>{El()?a():o()}))}),[n,a,o])}function Sl(){return El()}e.tKX?ao().then((e=>{e.onEvent("activated",Cl),e.onEvent("deactivated",kl),bl(!(null!=e&&e.isActive))})):(window.addEventListener("blur",kl),window.addEventListener("focus",Cl));const Al=n.bs?new BroadcastChannel(e.eoU):void 0;let Tl=Ve();function Il(){let{noPubGlobal:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Al&&(e||We(Bl),Al.addEventListener("message",xl))}function Bl(e){if(e===Tl)return;if(Sl()||!1===Tl.isInited)return void(Tl=e);const t=gl(_l(Tl),_l(e));"symbol"!=typeof t&&Al.postMessage({type:"globalDiffUpdate",diff:t}),Tl=e}function _l(e){return(0,c.cJ)(e,["DEBUG_randomId"])}function xl(e){let{data:a}=e;switch(a.type){case"globalDiffUpdate":if(n.bA)return;Tl=vl(Ve(),a.diff),ze(Tl);break;case"callActionInMain":{if(!n.KI)return;const{name:e,options:t}=a;Ke()[e](t);break}case"callActionInNative":{if(!n.bA)return;const{name:e,options:t}=a;Ke()[e](t);break}case"getLogsFromNative":if(!n.bA)return;Al.postMessage({type:"logsFromNative",logs:(0,t.ao)()})}}function Dl(e,t){Al.postMessage({type:"callActionInMain",name:e,options:t})}function Ll(e,t){Al.postMessage({type:"callActionInNative",name:e,options:t})}const Ol={appState:An.Auth,auth:{state:Tn.none},biometrics:{state:In.None},hardware:{hardwareState:Un.Connect},currentTransfer:{state:Bn.None,tokenSlug:e.ScF},currentDomainRenewal:{state:Dn.None},currentDomainLinking:{state:Ln.None},currentSwap:{state:On.None,slippage:e.k9U},currentDappTransfer:{state:Bn.None},currentDappSignData:{state:xn.None},currentStaking:{state:Wn.None},stakingDefault:e.USn,tokenInfo:{bySlug:e.lfO},swapTokenInfo:{bySlug:e.tCm},tokenPriceHistory:{bySlug:{}},settings:{state:$n.Initial,theme:e.YnH,animationLevel:e.i11,areTinyTransfersHidden:!e.K_I,canPlaySounds:!0,langCode:n.$q,byAccountId:{},areTokensWithNoCostHidden:!e.K_I,isSortByValueEnabled:!0,isAppLockEnabled:!0,autolockValue:e.fPM},byAccountId:{},dialogs:[],notifications:[],stateVersion:44,restrictions:{isLimitedRegion:!1,isSwapDisabled:n.ZH||e.TI6,isOnRampDisabled:n.ZH||e.TI6,isNftBuyingDisabled:n.ZH},mediaViewer:{},pushNotifications:{enabledAccounts:{}}};function Pl(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const a=Array.isArray(e);if(a!==Array.isArray(t))return!1;if(a){const n=e,a=t;return n.length===a.length&&n.every(((e,t)=>Pl(e,a[t])))}const o=e,r=t,i=Object.keys(o),s=Object.keys(r);return!!i.every((e=>r.hasOwnProperty(e)))&&!!s.every((e=>o.hasOwnProperty(e)))&&i.every((e=>Pl(o[e],r[e])))}function Ml(e,t){return Pl((0,c.Up)(e,Object.keys(t)),t)}function Fl(e,t){return{...e,auth:{...e.auth,...t}}}function Rl(e,t){return{...e,accounts:{...e.accounts||{byId:{}},...t}}}function Ul(e){return{...e,isPinAccepted:!0}}function Wl(e){return e.isPinAccepted?{...e,isPinAccepted:void 0}:e}function Hl(t){var n;let{global:a,accountId:o,type:r,addressByChain:i,partial:s,titlePostfix:c,network:l,isMnemonicImported:d}=t;const u={...s,type:r,addressByChain:i,...d&&{importedAt:Date.now()}};let m=!0;if(u.title){if(c){var p;const t=null===(p=u.title)||void 0===p?void 0:p.replace(new RegExp(`\\b(${e.eZ2.join("|")})\\b`,"g"),"");u.title=`${t.trim()} ${c}`}}else{l=l||ot(a);const t=at(a)||{},n=Object.keys(t).length,o="mainnet"===l,i=Object.values(t).filter((e=>"view"===e.type)).length,s="view"===r?"View Wallet":o?"Wallet":"Testnet Wallet",d=c?` ${c}`:"",p="view"===r?i+1:n-i+1;u.title=`${s} ${p}${d}`,0===n&&(u.title=o?e.C39:`Testnet ${e.C39}`,m=!1)}if(e.TI6||(a={...a,shouldForceAccountEdit:m}),it(a,o))throw new Error(`Account ${o} already exists`);return{...a,accounts:{...a.accounts,byId:{...null===(n=a.accounts)||void 0===n?void 0:n.byId,[o]:u}}}}function $l(e,t,n){var a;const o=it(e,t);if(!o)throw new Error(`Account ${t} doesn't exist`);return{...e,accounts:{...e.accounts,byId:{...null===(a=e.accounts)||void 0===a?void 0:a.byId,[t]:{...o,...n}}}}}function Vl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{firstNetworkAccount:n,secondNetworkAccount:a}=e.auth;return e=Hl({global:e,type:"mnemonic",...n,isMnemonicImported:t}),a&&(e=Hl({global:e,type:"mnemonic",...a,isMnemonicImported:t})),e}function zl(e,t){return Kl(e,e.currentAccountId,t)}function Kl(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Xl(e,t))return e;const o=lt(e,t);return a&&o&&Ml(o,n)?e:{...e,byAccountId:{...e.byAccountId,[t]:{...o,...n}}}}function ql(e,t){return{...e,settings:{...e.settings,...t}}}function jl(e,t,n){return Xl(e,t)?{...e,settings:{...e.settings,byAccountId:{...e.settings.byAccountId,[t]:{...e.settings.byAccountId[t],...n}}}}:e}function Yl(e,t){return jl(e,e.currentAccountId,t)}function Gl(e,t){return{...e,biometrics:{...e.biometrics,...t}}}function Ql(e,t){if(!t)throw Error("Empty accountId!");return{...e,currentAccountId:t}}function Xl(e,t){return!!st(e,t)}function Jl(e){return!e.currentSwap.isEstimating&&(e.currentSwap.state===On.Blockchain||e.currentSwap.state===On.Password)}function Zl(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===Pn.In?"amountIn":"amountOut";return n.tokenInSlug===a.tokenInSlug&&n.tokenOutSlug===a.tokenOutSlug&&n.slippage===a.slippage&&n.inputSource===a.inputSource&&n.isMaxAmount===a.isMaxAmount&&(a.isMaxAmount||n[o]===a[o])}function ed(e){let{currentSwap:t}=e;const n=t.inputSource===Pn.In?"amountIn":"amountOut";return t.tokenInSlug&&t.tokenOutSlug&&Number(t[n]??"0")>0}function td(e){return{...e.currentSwap.inputSource===Pn.In?{amountOut:void 0}:{amountIn:void 0},amountOutMin:"0",priceImpact:0,errorType:void 0,limits:void 0,dieselStatus:void 0,estimates:void 0,bestRateDexLabel:void 0,networkFee:void 0,realNetworkFee:void 0,swapFee:void 0,swapFeePercent:void 0,ourFee:void 0,ourFeePercent:void 0,dieselFee:void 0}}function nd(e,t){return{...e,currentSwap:{...e.currentSwap,...t}}}function ad(e,t,n){let a=nd(e,t);var o,r;return n||(o=e,ed(r=a)&&o.currentSwap.tokenInSlug===r.currentSwap.tokenInSlug&&o.currentSwap.tokenOutSlug===r.currentSwap.tokenOutSlug||(a=nd(a,td(a))),function(e,t){return ed(t)&&!Zl(e,t)}(e,a)&&(a=nd(a,{isEstimating:!0}))),function(e,t){let{currentSwap:n}=e,{currentSwap:a}=t;const o=n.inputSource===Pn.In?"amountIn":"amountOut";return n.tokenInSlug!==a.tokenInSlug||n.tokenOutSlug!==a.tokenOutSlug||n.inputSource!==a.inputSource||!(n.isMaxAmount&&a.isMaxAmount||n[o]===a[o])}(e,a)&&(a=nd(a,{isDexLabelChanged:void 0})),nd(a,t)}function od(t){return{...t,currentSwap:{state:On.None,slippage:e.k9U}}}function rd(e,t){return cd(e,id(e,{toAddressName:t.addressName,...(0,c.Up)(t,["fee","realFee","isScam","isMemoRequired","diesel"])}))}function id(e,t){return{...e,currentTransfer:{...e.currentTransfer,...t}}}function sd(e){return{...e,currentTransfer:Ol.currentTransfer}}function cd(e,t){const n=wa(e);return n&&e.currentTransfer.amount===n?id(t,{amount:wa(t)}):t}function ld(e,t){return{...e,currentTransfer:{...e.currentTransfer,isLoading:t}}}function dd(e,t){return(e=id(e,{toAddress:t})).currentTransfer.amount||(e=id(e,{tokenSlug:ya(e)})),e}function ud(e,t){return{...e,currentSignature:{...e.currentSignature,...t}}}function md(e,t){return{...e,currentStaking:{...e.currentStaking,...t}}}function pd(e,t,n){var a;let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=null===(a=lt(e,t))||void 0===a?void 0:a.staking;return o&&r&&Ml(r,n)?e:Kl(e,t,{staking:{...r,...n}})}function fd(e,t){return{...e,dappConnectRequest:{...e.dappConnectRequest,...t}}}function hd(e){return{...e,dappConnectRequest:void 0}}function gd(e,t){return{...e,currentDappTransfer:{...e.currentDappTransfer,...t}}}function vd(e){return{...e,currentDappTransfer:{state:Bn.None}}}function wd(e,t){return{...e,currentDappSignData:{...e.currentDappSignData,...t}}}function yd(e){return{...e,currentDappSignData:{state:xn.None}}}function bd(e,t,n,a){if(0===n.length)return e;const{activities:o}=lt(e,t)||{};let{byId:r,idsBySlug:i,idsMain:s,newestActivitiesBySlug:l,localActivityIds:d,pendingActivityIds:u}=o||{};r={...r,...(0,c.dU)(n,"id")},s=Cd(s??[],(0,c.JY)(n,"id"),r);const m=function(e){return e.reduce(((e,t)=>{for(const n of cn(t))e[n]??=[],e[n].push(t.id);return e}),{})}(n);var p;return i=Sd(i,m,r),l=Nd({byId:r,idsBySlug:i,newestActivitiesBySlug:l},Object.keys(m)),d=(0,c.Am)([...d??[],...(0,c.JY)(n,"id").filter(rn)]),a&&(u={...u,[a]:(0,c.Am)([...(null===(p=u)||void 0===p?void 0:p[a])??[],...(0,c.JY)(n.filter((e=>vn(e)&&!rn(e.id))),"id")])}),Kl(e,t,{activities:{...o,idsMain:s,byId:r,idsBySlug:i,newestActivitiesBySlug:l,localActivityIds:d,pendingActivityIds:u}})}function Ed(e,t,n,a,o){const{activities:r}=lt(e,t)||{};let{byId:i,idsBySlug:s,idsMain:l,newestActivitiesBySlug:d,isMainHistoryEndReached:u,isHistoryEndReachedBySlug:m}=r||{};return i={...i,...(0,c.dU)(a,"id")},n?(s=Sd(s,{[n]:(0,c.JY)(a,"id")},i),d=Nd({byId:i,idsBySlug:s,newestActivitiesBySlug:d},[n]),o&&(m={...m,[n]:!0})):(l=Cd(l??[],(0,c.JY)(a,"id"),i),o&&(u=!0)),Kl(e,t,{activities:{...r,idsMain:l,byId:i,idsBySlug:s,newestActivitiesBySlug:d,isMainHistoryEndReached:u,isHistoryEndReachedBySlug:m}})}function kd(e,t,n){var a,o;const{activities:r}=lt(e,t)||{};if(!r)return e;const i=new Set(n);if(0===i.size)return e;let{byId:s,idsBySlug:l,idsMain:d,newestActivitiesBySlug:u,localActivityIds:m,pendingActivityIds:p}=r;const f=function(e,t){const n=new Set;for(const a of e){const e=t[a];if(e)for(const t of cn(e))n.add(t)}return n}(i,s);l={...l};for(const e of f)e in l&&(l[e]=l[e].filter((e=>!i.has(e))),l[e].length||delete l[e]);u=Nd({byId:s,idsBySlug:l,newestActivitiesBySlug:u},f),d=null===(a=d)||void 0===a?void 0:a.filter((e=>!i.has(e))),s={...s};for(const e of i)delete s[e];return m=null===(o=m)||void 0===o?void 0:o.filter((e=>!i.has(e))),p=p&&(0,c.LG)(p,(e=>e.filter((e=>!i.has(e))))),Kl(e,t,{activities:{...r,byId:s,idsBySlug:l,idsMain:d,newestActivitiesBySlug:u,localActivityIds:m,pendingActivityIds:p}})}function Cd(e,t,n){return e.length?t.length?(0,c.Am)([...e,...t]).sort(((e,t)=>jt(n[e],n[t]))):e:t}function Nd(e,t){let{byId:n,idsBySlug:a,newestActivitiesBySlug:o}=e;o={...o};for(const e of t){const t=((null==a?void 0:a[e])??[]).find((e=>ln(n[e])));t?o[e]=n[t]:delete o[e]}return o}function Sd(e,t,n){return{...e,...(0,c.LG)(t,((t,a)=>Cd(t,(null==e?void 0:e[a])??[],n)))}}function Ad(e,t,n,a){const o=n.address,r=lt(e,t).nfts,i=((null==r?void 0:r.orderedAddresses)??[]).filter((e=>e!==o));return Kl(e,t,{nfts:{...r,byAddress:{...null==r?void 0:r.byAddress,[o]:n},orderedAddresses:a?i.concat(o):[o,...i]}})}function Td(e,t,n,a){var o;const r=lt(e,t).nfts,i=null==r||null===(o=r.byAddress)||void 0===o?void 0:o[n];return r&&i?Kl(e,t,{nfts:{...r,byAddress:{...r.byAddress,[n]:{...i,...a}}}}):e}function Id(e,t){return Object.entries(e.settings.byAccountId).forEach((n=>{var a;let[o,r]=n;(null===(a=r.cardBackgroundNft)||void 0===a?void 0:a.address)===t.address&&(e=jl(e,o,{...r,cardBackgroundNft:t}))})),e}function Bd(e,t,n){var a;return Kl(e,t,{vesting:{...(null===(a=lt(e,t))||void 0===a?void 0:a.vesting)||{info:[]},...n}})}function _d(e,t){return{...e,currentMintCard:{...e.currentMintCard,...t}}}function xd(e,t){return{...e,currentDomainRenewal:{...e.currentDomainRenewal,...t}}}function Dd(e,t){return{...e,currentDomainLinking:{...e.currentDomainLinking,...t}}}function Ld(e,t){return{...e,hardware:{...e.hardware,...t}}}function Od(e){return{...e,hardware:Ol.hardware}}async function Pd(e,t,n){if(t===e.currentAccountId)return;const o=Ke(),r=kn(e,t);await(0,a.p)("activateAccount",t,r),e=Ve(),ze(function(e,t){let n=Ql(e,t);return n=sd(n),od(n)}(e,t)),en(),n&&o.changeNetwork({network:n})}function Md(t){return Array(t).fill(0).map(((e,t)=>({i:t,rnd:Math.random()}))).sort(((e,t)=>e.rnd-t.rnd)).map((e=>e.i)).slice(0,Math.min(e.ow1,t)).sort(((e,t)=>e-t))}function Fd(){const e=(0,c.mg)(Ve());return e.tokenInfo={},e.swapTokenInfo={},Object.entries(e.byAccountId).forEach((e=>{let[,t]=e;t.activities={}})),e}function Rd(t,n){return!!un(t)||!(!n||t.nft||t.type)&&(0,Pt.CF)(t.amount,n.decimals).abs().mul(n.priceUsd??0).lt(e.Wvq)}function Ud(t){return t.slug===e.Tu9.slug?t.symbol:t.tokenAddress??t.slug}function Wd(e,t){return e[t]??Object.values(e).find((e=>{let{tokenAddress:n}=e;return n===t}))}function Hd(t){return t in e.zll}function $d(e){let{from:t,to:n,toAddress:a,addressByChain:o}=e;const r=Boolean(null==o?void 0:o.tron);return"ton"===(null==t?void 0:t.chain)&&"ton"===(null==n?void 0:n.chain)||r&&t&&n&&o&&Hd(t.chain)&&o[n.chain]===a}function Vd(e,t){return{...e,tokenInfo:{...e.tokenInfo,bySlug:{...e.tokenInfo.bySlug,...t}}}}qe("resetAuth",(e=>{e.currentAccountId&&(e=ql(e={...e,appState:An.Main},{isTestnet:"testnet"===(0,Ye.cK)(e.currentAccountId).network})),e={...e,auth:(0,c.mg)(Ol.auth)},ze(e)})),qe("startCreatingWallet",(async(t,o)=>{const r=Ge(tt(t)??{}),i=bt(t),s=i?Tn.createBackup:r?Tn.createWallet:tl()?Tn.createPin:n.uh?Tn.createBiometrics:Tn.createPassword;if(t=Ve(),i&&!t.auth.password)return void ze(Fl(t,{state:Tn.checkPassword,error:void 0}));const c=[(0,a.p)("generateMnemonic",e.iAh&&!t.auth.forceAddingTonOnlyAccount),...i?[]:[(0,l.v7)(3300)]];ze(Fl(t,{state:s,method:"createAccount",error:void 0}));const[d]=await Promise.all(c);if(t=Fl(Ve(),{mnemonic:d,mnemonicCheckIndexes:Md((null==d?void 0:d.length)??e.xA_)}),i)return ze(t),void o.afterCreatePassword({password:t.auth.password});ze(Fl(t,{state:tl()?Tn.createPin:n.uh?Tn.createBiometrics:Tn.createPassword})),r&&(o.requestConfetti(),cl())})),qe("startCreatingBiometrics",(e=>{e=Fl(e,{state:"createAccount"!==e.auth.method?Tn.importWalletConfirmBiometrics:Tn.confirmBiometrics,biometricsStep:1}),ze(e)})),qe("cancelCreateBiometrics",(e=>{e=Fl(e,{state:Tn.createBiometrics,biometricsStep:void 0}),ze(e)})),qe("createPin",((e,t,n)=>{let{pin:a,isImporting:o}=n;e=Fl(e,{state:o?Tn.importWalletConfirmPin:Tn.confirmPin,password:a}),ze(e)})),qe("confirmPin",((e,t,n)=>{let{isImporting:a}=n;Jc()?(e=Fl(e,{state:a?Tn.importWalletCreateNativeBiometrics:Tn.createNativeBiometrics}),ze(e)):t.skipCreateNativeBiometrics()})),qe("cancelConfirmPin",((e,t,n)=>{let{isImporting:a}=n;e=Fl(e,{state:a?Tn.importWalletCreatePin:Tn.createPin}),ze(e)})),qe("cancelDisclaimer",(e=>{ze(Fl(e,{state:tl()?Tn.createPin:n.uh?Tn.createBiometrics:Tn.createPassword}))})),qe("afterCreatePassword",((e,t,n)=>{let{password:a,isPasswordNumeric:o}=n;ze(Fl(e,{isLoading:!0}));const{method:r}=Ve().auth,i="createAccount"!==r;"importHardwareWallet"===r?t.createHardwareAccounts():t.createAccount({password:a,isImporting:i,isPasswordNumeric:o})})),qe("afterCreateBiometrics",(async(e,t)=>{const a=!n.cp;e=Fl(e,{isLoading:!0,error:void 0,biometricsStep:a?1:void 0}),ze(e);try{const n=a?await vo.createCredential():void 0;e=Fl(e=Ve(),{biometricsStep:a?2:void 0}),ze(e);const o=await yo({credential:n});if(e=Fl(e=Ve(),{isLoading:!1,biometricsStep:void 0}),!o)return e=Fl(e,{error:"Biometric setup failed."}),void ze(e);e=ql(e,{authConfig:o.config}),ze(e),t.afterCreatePassword({password:o.password})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=Fl(e=Ve(),{isLoading:!1,error:n,biometricsStep:void 0}),ze(e)}})),qe("skipCreateBiometrics",(e=>{e=Fl(e,{state:Tn.createPassword}),ze(e)})),qe("afterCreateNativeBiometrics",(async(e,t)=>{e=Fl(e,{isLoading:!0,error:void 0}),ze(e);try{const{password:n}=e.auth,a=await bo(n);e=ql(e=Fl(e=Ve(),{isLoading:!1}),{authConfig:a.config}),ze(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=Fl(e=Ve(),{isLoading:!1,error:n}),ze(e)}})),qe("skipCreateNativeBiometrics",((e,t)=>{const{password:n}=e.auth;e=ql(e=Fl(e,{isLoading:!1,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:!0}),ze(e),t.afterCreatePassword({password:n,isPasswordNumeric:!0})})),qe("createAccount",(async(e,t,n)=>{let{password:o,isImporting:r,isPasswordNumeric:i,version:s}=n;ze(Fl(e,{isLoading:!0}));const c=ot(Ve()),l=await(0,a.p)(r?"importMnemonic":"createWallet",c,e.auth.mnemonic,o,s);if(e=Ve(),!l||"error"in l)return ze(Fl(e,{isLoading:void 0})),void t.showError({error:null==l?void 0:l.error});const{accountId:d,addressByChain:u,secondNetworkAccount:m}=l;if(r||(e={...e,appState:An.Auth,isAddAccountModalOpen:void 0}),e=Wl(e=Fl(e,{isLoading:void 0,password:void 0,firstNetworkAccount:{addressByChain:u,accountId:d},secondNetworkAccount:m,...i&&{isPasswordNumeric:!0}})),r){if(Object.keys(tt(e)||{}).length>0)return ze(e),void t.afterConfirmDisclaimer();e=Fl(e,{state:Tn.disclaimer})}else e=Fl(e,{state:Ge(tt(e)??{})?Tn.disclaimerAndBackup:Tn.createBackup});ze(e)})),qe("createHardwareAccounts",(async(e,t)=>{const a=Ge(tt(e)??{});ze(Fl(e,{isLoading:!0}));const{hardwareSelectedIndices:o=[]}=Ve().auth,r=ot(Ve()),s=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),c=await Promise.all(o.map((e=>s.importLedgerWallet(r,e))));!n.bA||a?t.addHardwareAccounts({wallets:c}):Dl("addHardwareAccounts",{wallets:c})})),qe("addHardwareAccounts",((e,t,n)=>{var o;let{wallets:r}=n;const i=!e.currentAccountId,s=null===(o=r[0])||void 0===o?void 0:o.accountId;s&&(0,a.p)("activateAccount",s);const c=r.reduce(((e,t)=>{if(!t)return e;const{accountId:n,address:a,walletInfo:o}=t,r={ton:a};return Hl({global:e=Ql(e,n),accountId:n,addressByChain:r,type:"hardware",partial:{...o&&{ledger:{driver:o.driver,index:o.index}}}})}),Ve());s&&(e=Ql(c,s)),e=Fl(e,{isLoading:!1}),e={...e,shouldForceAccountEdit:!0},ze(e),Ve().areSettingsOpen&&t.closeSettings(),r.forEach((e=>{null!=e&&e.accountId&&t.tryAddNotificationAccount({accountId:null==e?void 0:e.accountId})})),t.afterSignIn(),i&&(t.resetApiSettings(),t.requestConfetti(),cl())})),qe("afterCheckMnemonic",((e,t)=>{e=Ql(e=Vl(e),e.auth.firstNetworkAccount.accountId),ze(e),t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),ht(e)&&t.resetApiSettings()})),qe("restartCheckMnemonicIndexes",((e,t,n)=>{let{worldsCount:a}=n;ze(Fl(e,{mnemonicCheckIndexes:Md(a)}))})),qe("skipCheckMnemonic",((e,t)=>{n.bA?Dl("skipCheckMnemonic"):(e=zl(e=Ql(e=Vl(e),e.auth.firstNetworkAccount.accountId),{isBackupRequired:!0}),ze(e),t.tryAddNotificationAccount({accountId:e.auth.firstNetworkAccount.accountId}),t.afterSignIn(),ht(e)&&t.resetApiSettings())})),qe("startImportingWallet",(e=>{const t=bt(e)&&!e.auth.password?Tn.importWalletCheckPassword:Tn.importWallet;ze(Fl(e,{state:t,error:void 0,method:"importMnemonic"}))})),qe("openAbout",(e=>{ze(Fl(e,{state:Tn.about,error:void 0}))})),qe("closeAbout",(e=>{ze(Fl(e,{state:Tn.none,error:void 0}))})),qe("afterImportMnemonic",(async(e,t,o)=>{let{mnemonic:r}=o;if(r=(0,c.oE)(r),!ml(r)&&!await(0,a.p)("validateMnemonic",r))return void ze(Fl(Ve(),{error:Da.Nu.InvalidMnemonic}));const i=bt(e=Ve()),s=Object.keys(tt(e)||{}).length>0,l=tl()?Tn.importWalletCreatePin:n.uh?Tn.importWalletCreateBiometrics:Tn.importWalletCreatePassword;e=Fl(e,{mnemonic:r,error:void 0,...!i&&{state:l}}),ze(e),i?t.confirmDisclaimer():(s||t.requestConfetti(),cl())})),qe("confirmDisclaimer",((e,t)=>{if(bt(e))return ze(e),void t.afterCreatePassword({password:e.auth.password});t.afterConfirmDisclaimer()})),qe("afterConfirmDisclaimer",((e,t)=>{const{firstNetworkAccount:n}=e.auth;e=Fl(e=Ql(e=Vl(e,!0),n.accountId),{state:Tn.ready}),ze(e),t.tryAddNotificationAccount({accountId:n.accountId}),t.afterSignIn(),ht(e)&&t.resetApiSettings()})),qe("cleanAuthError",(e=>{ze(Fl(e,{error:void 0}))})),qe("startChangingNetwork",((e,t,a)=>{let{network:o}=a;n.bA&&Dl("startChangingNetwork",{network:o});const r=Object.keys(nt(o,e.accounts.byId));if(r.length){const e=r[0];t.switchAccount({accountId:e,newNetwork:o})}else ze({...e,areSettingsOpen:!1,appState:An.Auth}),t.changeNetwork({network:o})})),qe("switchAccount",(async(e,t,a)=>{if(n.bA)return void Dl("switchAccount",a);const{accountId:o,newNetwork:r}=a;await Pd(e,o,r)})),qe("afterSelectHardwareWallets",((e,t,n)=>{let{hardwareSelectedIndices:a}=n;ze(Fl(e,{method:"importHardwareWallet",hardwareSelectedIndices:a,error:void 0})),t.afterCreatePassword({password:""})})),qe("enableBiometrics",(async(e,t,o)=>{let{password:r}=o;if(!await(0,a.p)("verifyPassword",r))return e=Gl(e=Ve(),{error:"Wrong password, please try again."}),void ze(e);e=Fl(e=Gl(e=Ve(),{error:void 0,state:In.TurnOnRegistration}),{isLoading:!0}),ze(e);try{const o=n.cp?void 0:await vo.createCredential();e=Gl(e=Ve(),{state:In.TurnOnVerification}),ze(e);const i=await yo({credential:o});if(e=Ve(),!i)return e=Gl(e,{error:"Biometric setup failed.",state:In.TurnOnPasswordConfirmation}),void ze(e);e=Gl(e,{state:In.TurnOnComplete}),ze(e),await(0,a.p)("changePassword",r,i.password),e=ql(e=Ve(),{authConfig:i.config}),ze(e),t.setInMemoryPassword({password:void 0,force:!0})}catch(t){const n=null!=t&&t.message.includes("privacy-considerations-client")?"Biometric setup failed.":(null==t?void 0:t.message)||"Biometric setup failed.";e=Gl(e=Ve(),{error:n,state:In.TurnOnPasswordConfirmation}),ze(e)}finally{e=Fl(e=Ve(),{isLoading:void 0}),ze(e)}})),qe("disableBiometrics",(async(e,t,n)=>{let{password:o,isPasswordNumeric:r}=n;const{password:i}=e.biometrics;if(!o||!i)return e=Gl(e,{error:"Biometric confirmation failed."}),void ze(e);e=Fl(e=Ve(),{isLoading:!0}),ze(e);try{await(0,a.p)("changePassword",i,o)}catch(t){return e=Gl(e=Ve(),{error:(null==t?void 0:t.message)||"Failed to disable biometrics."}),void ze(e)}finally{e=Fl(e=Ve(),{isLoading:void 0}),ze(e)}e=ql(e=Gl(e=Ve(),{state:In.TurnOffComplete,error:void 0}),{authConfig:{kind:"password"},isPasswordNumeric:r}),ze(e)})),qe("closeBiometricSettings",(e=>{e={...e,biometrics:(0,c.mg)(Ol.biometrics)},ze(e)})),qe("openBiometricsTurnOn",(e=>{e=Gl(e,{state:In.TurnOnPasswordConfirmation}),ze(e)})),qe("openBiometricsTurnOffWarning",(e=>{e=Gl(e,{state:In.TurnOffWarning}),ze(e)})),qe("openBiometricsTurnOff",(async e=>{e=Gl(e,{state:In.TurnOffBiometricConfirmation}),ze(e);const t=await ko(e.settings.authConfig);e=Gl(e=Ve(),t?{state:In.TurnOffCreatePassword,password:t}:{error:"Biometric confirmation failed."}),ze(e)})),qe("disableNativeBiometrics",(e=>{e=ql(e,{authConfig:{kind:"password"},isPasswordNumeric:!0}),ze(e)})),qe("enableNativeBiometrics",(async(t,n,o)=>{let{password:r}=o;if(!await(0,a.p)("verifyPassword",r))return t=Ve(),t=Wl(t={...t,nativeBiometricsError:"Incorrect code, please try again."}),void ze(t);t=Ul(t=Ve()),t={...t,nativeBiometricsError:void 0},ze(t);try{let a;if(a=e.tKX?(await mo()).success:await xa.verifyIdentity({title:e.C39,subtitle:"",maxAttempts:1}).then((()=>!0)).catch((()=>!1)),!a)return t=Ve(),t=Wl(t={...t,nativeBiometricsError:"Failed to enable biometrics."}),ze(t),void sl();const o=await bo(r);await(0,l.v7)(750),t=ql(t=Ve(),{authConfig:o.config}),t={...t,nativeBiometricsError:void 0},ze(t),n.setInMemoryPassword({password:void 0,force:!0}),cl()}catch(e){t=Ve(),t=Wl(t={...t,nativeBiometricsError:(null==e?void 0:e.message)||"Failed to enable biometrics."}),ze(t),sl()}})),qe("clearNativeBiometricsError",(e=>({...e,nativeBiometricsError:void 0}))),qe("openAuthBackupWalletModal",(e=>{n.bA?Dl("openAuthBackupWalletModal"):(e=Fl(e,{state:Tn.safetyRules}),ze(e))})),qe("openMnemonicPage",(e=>{n.bA?Dl("openMnemonicPage"):(e=Fl(e,{state:Tn.mnemonicPage}),ze(e))})),qe("openCreateBackUpPage",(e=>{n.bA?Dl("openCreateBackUpPage"):(e=Fl(e,{state:Ge(tt(e)??{})?Tn.disclaimerAndBackup:Tn.createBackup}),ze(e))})),qe("openCheckWordsPage",(e=>{n.bA?Dl("openCheckWordsPage"):(e=Fl(e,{state:Tn.checkWords}),ze(e))})),qe("closeCheckWordsPage",((e,t,a)=>{const{isBackupCreated:o}=a||{};n.bA&&Dl("closeCheckWordsPage",a),!n.bA&&o&&t.afterCheckMnemonic()})),qe("copyStorageData",(async(e,t)=>{const n=await(0,a.p)("fetchAccountConfigForDebugPurposesOnly");if(n){const e=JSON.stringify({...JSON.parse(n),global:Fd()});await dl(e),t.showNotification({message:Nr("Copied")})}else t.showError({error:Da.QD.Unexpected})})),qe("importAccountByVersion",(async(e,t,o)=>{let{version:r}=o;if(n.bA)return void Dl("importAccountByVersion",{version:r});const i=e.currentAccountId,s=await(0,a.p)("importNewWalletVersion",i,r);if(e=Ve(),!s.isNew)return void t.switchAccount({accountId:s.accountId});const{title:c,type:l}=it(e,i),d={ton:s.address};e=Ql(e,s.accountId);const u=s.ledger?{ledger:s.ledger}:void 0;e=Hl({global:e,accountId:s.accountId,type:l,addressByChain:d,partial:{...u,title:c},titlePostfix:r}),ze(e),await(0,a.p)("activateAccount",s.accountId),t.tryAddNotificationAccount({accountId:s.accountId})})),qe("setIsAuthLoading",((e,t,n)=>{let{isLoading:a}=n;e=Fl(e,{isLoading:a}),ze(e)})),qe("importViewAccount",(async(e,t,o)=>{let{addressByChain:r}=o;if(n.bA)return void Dl("importViewAccount",{addressByChain:r});const i=Ge(tt(e)??{}),s=ot(Ve());i?e=Fl(e,{isLoading:!0}):(e=Rl(e,{isLoading:!0}),n.KI&&Ll("setIsAccountLoading",{isLoading:!0})),ze(e);const c=await(0,a.p)("importViewAccount",s,r);e=Ve(),i?e=Fl(e,{isLoading:void 0}):(e=Rl(e,{isLoading:void 0}),n.KI&&Ll("setIsAccountLoading",{isLoading:void 0})),ze(e),c&&!("error"in c)?(e=Ql(e=Hl({global:e=Ve(),accountId:c.accountId,addressByChain:c.resolvedAddresses,type:"view",partial:{title:c.title}}),c.accountId),ze(e),Ve().areSettingsOpen&&t.closeSettings(),t.tryAddNotificationAccount({accountId:c.accountId}),t.afterSignIn(),i?(t.resetApiSettings(),t.requestConfetti()):t.closeAddAccountModal(),cl()):t.showError({error:null==c?void 0:c.error})})),qe("startImportViewAccount",(e=>{ze(Fl(e,{state:Tn.importViewAccount,error:void 0}))})),qe("closeImportViewAccount",(e=>{ze(Fl(e,{state:Tn.none,error:void 0}))})),qe("openAuthImportWalletModal",(e=>{e=Fl(e,{isImportModalOpen:!0}),ze(e)})),qe("closeAuthImportWalletModal",(e=>{n.bA&&Dl("closeAuthImportWalletModal"),e=Fl(e,{isImportModalOpen:void 0}),ze(e)}));const zd={},Kd={};async function qd(e,t){await function(e){return Kd[e]||=(0,l.fm)((()=>{var t;const n=Ve();return!it(n,e)||void 0!==(null===(t=lt(n,e))||void 0===t||null===(t=t.activities)||void 0===t?void 0:t.idsMain)}),1e3,60),Kd[e]}(e);let n=Ve();if(Sn(n,e,t))return;const o=[];let r=function(e,t,n){var a;const o=null===(a=lt(e,t))||void 0===a?void 0:a.activities;if(!o)return;const{byId:r,idsMain:i,idsBySlug:s}=o,l=(n?null==s?void 0:s[n]:i)||[],d=(0,c.Uk)(l,(e=>ln(r[e])));return d?r[d].timestamp:void 0}(n,e,t),i=!0,s=!1;for(;i;){const c=await(0,a.p)("fetchPastActivities",e,50,t,r);if(!c)return;if(n=Ve(),!c.length){s=!0;break}const{areTinyTransfersHidden:l}=n.settings,d=c.filter((e=>!("transaction"===e.kind&&(Zt(e)||l&&Rd(e)))));o.push(...c),i=d.length<50&&o.length<50,r=c[c.length-1].timestamp}o.sort(jt),n=Ed(n,e,t,o,s),ze(n)}function jd(t){return{gas:It.sl[t]+e.dqR,real:It.fv[t]}}function Yd(e){switch(e){case"nominators":return{stake:jd("stakeNominators"),unstake:jd("unstakeNominators")};case"liquid":return{stake:jd("stakeLiquid"),unstake:jd("unstakeLiquid")};case"jetton":return{stake:jd("stakeJettons"),unstake:jd("unstakeJettons"),claim:jd("claimJettons")};case"ethena":return{stake:jd("stakeEthena"),unstake:jd("unstakeEthena"),claim:jd("unstakeEthenaLocked")}}return{stake:{gas:0n,real:0n},unstake:{gas:0n,real:0n},claim:{gas:0n,real:0n}}}function Gd(e){switch(null==e?void 0:e.type){case"nominators":case"liquid":return e.end;case"ethena":return e.unlockTime;default:return}}function Qd(e){return"ethena"===e?"How does it work?":"Why this is safe"}function Xd(e){return e.unstakeRequestAmount?"ethena"===e.type&&e.unlockTime&&e.unlockTime<=Date.now()?"readyToClaim":"unstakeRequested":Jd(e)?"active":"inactive"}function Jd(t){return Boolean(t.balance||t.unstakeRequestAmount||"unclaimedRewards"in t&&t.unclaimedRewards>e.dL4)}function Zd(e,t){switch(e.type){case"nominators":case"ethena":return!0;case"liquid":return void 0!==t&&t>e.instantAvailable;case"jetton":return!1}}function eu(e){switch(e.type){case"jetton":return e.balance+e.unclaimedRewards;case"ethena":return e.balance+e.unstakeRequestAmount}return e.balance}qe("fetchPastActivities",((e,t,n)=>{let{slug:a,shouldLoadWithBudget:o}=n;const r=e.currentAccountId,i=`${r} ${a??"__main__"}`;zd[i]||=(0,l.nF)(qd.bind(void 0,r,a),200,!0),zd[i](),o&&zd[i]()})),qe("setIsBackupRequired",((e,t,n)=>{let{isMnemonicChecked:a}=n;const{isBackupRequired:o}=ct(e)??{};ze(zl(e,{isBackupRequired:a?void 0:o}))})),qe("submitSignature",(async(e,t,n)=>{const{password:o}=n,{promiseId:r}=e.currentSignature;await(0,a.p)("verifyPassword",o)?(await(0,a.p)("confirmDappRequest",r,o),ze(ud(Ve(),{isSigned:!0}))):ze(ud(Ve(),{error:"Wrong password, please try again."}))})),qe("clearSignatureError",(e=>{ze(ud(e,{error:void 0}))})),qe("cancelSignature",(e=>{const{promiseId:t}=e.currentSignature||{};t&&(0,a.p)("cancelDappRequest",t,"Canceled by the user"),ze({...e,currentSignature:void 0})})),qe("addToken",((e,t,n)=>{var a,o,r;let{token:i}=n;null!==(a=e.tokenInfo)&&void 0!==a&&null!==(a=a.bySlug)&&void 0!==a&&a[i.slug]||(e=Vd(e,{[i.slug]:{name:i.name,symbol:i.symbol,slug:i.slug,decimals:i.decimals,chain:i.chain,image:i.image,keywords:i.keywords,price:i.price??0,priceUsd:i.priceUsd??0,percentChange24h:i.change24h??0}}));const{balances:s}=ct(e)??{};null!=s&&s.bySlug[i.slug]||(e=zl(e,{balances:{...s,bySlug:{...null==s?void 0:s.bySlug,[i.slug]:0n}}}));const l=ut(e),d=ut(e=Yl(e,{importedSlugs:[...(null==l?void 0:l.importedSlugs)??[],i.slug]}))??{};return Yl(e,{...d,orderedSlugs:[...d.orderedSlugs??[],i.slug],alwaysShownSlugs:(0,c.Am)([...d.alwaysShownSlugs??[],i.slug]),alwaysHiddenSlugs:null===(o=d.alwaysHiddenSlugs)||void 0===o?void 0:o.filter((e=>e!==i.slug)),deletedSlugs:null===(r=d.deletedSlugs)||void 0===r?void 0:r.filter((e=>e!==i.slug))})})),qe("importToken",(async(e,t,n)=>{var o,r;let{address:i}=n;const{currentAccountId:s}=e;e=ql(e,{importToken:{isLoading:!0,token:void 0}}),ze(e);const c=await(0,a.p)("buildTokenSlug","ton",i);let d=null===(o=(e=Ve()).tokenInfo.bySlug)||void 0===o?void 0:o[c];if(!d){if(d=await(0,a.p)("fetchToken",e.currentAccountId,i),await(0,l.v7)(250),e=Ve(),!d)return e=ql(e,{importToken:{isLoading:!1,token:void 0}}),void ze(e);{const t={...d,price:0,priceUsd:0,percentChange24h:0};e=Vd(e,{[t.slug]:t}),ze(e)}}const u=(null===(r=lt(e,s))||void 0===r||null===(r=r.balances)||void 0===r?void 0:r.bySlug)??{},m=!(d.slug in u),p=na(d);e=ql(e=Ve(),{importToken:{isLoading:!1,token:p}}),m&&(e=function(e,t,n){var a;return Kl(e,t,{balances:{bySlug:{...null===(a=lt(e,t))||void 0===a||null===(a=a.balances)||void 0===a?void 0:a.bySlug,[n]:0n}}})}(e,e.currentAccountId,d.slug)),ze(e)})),qe("resetImportToken",(e=>{e=ql(e,{importToken:{isLoading:!1,token:void 0}}),ze(e)})),qe("verifyHardwareAddress",(async(e,t)=>{const n=e.currentAccountId,a=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));if(await a.reconnectLedger())try{t.showDialog({title:"Ledger",message:"$ledger_verify_address_on_device"}),await a.verifyAddress(n)}catch(e){t.showError({error:e})}else t.showError({error:"$ledger_not_ready"})})),qe("setActiveContentTab",((e,t,n)=>{let{tab:a}=n;return zl(e,{activeContentTab:a})})),qe("addSwapToken",((e,t,n)=>{let{token:a}=n;if(a.slug in e.swapTokenInfo.bySlug)return;const o={name:a.name,symbol:a.symbol,chain:a.chain,slug:a.slug,decimals:a.decimals,image:a.image,tokenAddress:a.tokenAddress,keywords:a.keywords,isPopular:!1,price:0,priceUsd:0};ze({...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...e.swapTokenInfo.bySlug,[o.slug]:o}}})})),qe("apiUpdateWalletVersions",((e,t,n)=>{var a;const{accountId:o,versions:r,currentVersion:i}=n;e={...e,walletVersions:{...e.walletVersions,currentVersion:i,byId:{...null===(a=e.walletVersions)||void 0===a?void 0:a.byId,[o]:r}}},ze(e)}));var tu=i(39989);function nu(e){var t,n;return(null===(t=e.sseOptions)||void 0===t?void 0:t.appClientId)??(null===(n=e.sse)||void 0===n?void 0:n.appClientId)??"jsbridge"}function au(e,t,o){let r=Ve();const{promiseId:i}=e(r)??{};n.bA?t():i&&(0,a.p)("cancelDappRequest",i,"Canceled by the user"),tl()&&(r=Wl(r)),r=o(r),ze(r)}async function ou(e,t,o,r){let i=Ve();const{promiseId:s}=t(i);if(s){if(!await(0,a.p)("verifyPassword",e))return i=Ve(),i=r(i,{error:"Wrong password, please try again."}),void ze(i);tl()&&(i=Ve(),i=Ul(i),ze(i)),n.bA?o():(i=Ve(),i=r(i,{isLoading:!0,error:void 0}),ze(i),await cl(!0),(0,a.p)("confirmDappRequest",s,e),tl()&&(i=Wl(Ve()),ze(i)))}}async function ru(t,a,o,r,i,s){let c=Ve();const{accountId:d}=t,{promiseId:u}=a(c);if(await Pd(c,d),u&&!n.bA){o();const t=mi()?js:qs;await(0,l.v7)(t+e.xB5)}n.bA&&!await(0,l.fm)((()=>r(Ve())),300,5)||(c=Ve(),c=i(c),c=s(c),ze(c))}function iu(e,t){return"connect"===t&&!!e.dappConnectRequest||"sendTransaction"===t&&e.currentDappTransfer.state!==Bn.None||"signData"===t&&e.currentDappSignData.state!==xn.None}function su(e){return lu(e)?function(e){const t=du(e),n={isGasless:!0,excessFee:uu(e),shouldShowOurFee:pu(e)};if(void 0===e.networkFee||void 0===e.dieselFee||void 0===t)return n;const a="0"===n.excessFee,o="stars-fee"===e.dieselStatus?"stars":"token",r={[o]:e.dieselFee,native:t.toString()};if(n.fullFee={precision:a?"exact":"lessThan",terms:mu(r,e.ourFee??"0",!1),networkTerms:r},n.realFee=n.fullFee,void 0!==e.realNetworkFee){const r=(0,Mt.z)(e.networkFee).sub(t),c=(0,Mt.z)(e.dieselFee).div(r).mul(e.realNetworkFee),l=(i=e.dieselFee,s=c,(0,Mt.z)(i).lt(s)?i:s),d=function(e,t){return(0,Mt.z)(0).gt(t)?0:t}(0,(0,Mt.z)(e.realNetworkFee).sub(r)),u={[o]:l.toString(),native:d.toString()};n.realFee={precision:a?"exact":"approximate",terms:mu(u,e.ourFee??"0",!1),networkTerms:u}}var i,s;return n}(e):function(e){const t={isGasless:!1,excessFee:uu(e),shouldShowOurFee:pu(e)},n=Xn(e.tokenInSlug),a="0"===t.excessFee;if(void 0!==e.networkFee){const o={native:e.networkFee};t.fullFee={precision:a?"exact":"lessThan",terms:mu(o,e.ourFee??"0",n),networkTerms:o},t.realFee=t.fullFee}if(void 0!==e.realNetworkFee){const o={native:e.realNetworkFee};t.realFee={precision:a?"exact":"approximate",terms:mu(o,e.ourFee??"0",n),networkTerms:o}}return t}(e)}function cu(t){let{swapType:n,tokenInBalance:a,tokenIn:o,fullNetworkFee:r,ourFeePercent:i}=t;if(n===Fn.CrosschainToWallet||void 0===a)return;let s=a;if(r){if(!o)return;s-=(0,Pt.UH)(r.token??"0",o.decimals),Xn(o.slug)&&(s-=(0,Pt.UH)(r.native??"0",o.decimals))}return i??=n===Fn.OnChain?e.YDh:0,s=(0,ma.fC)(s,1+i/100),(0,ma._O)(s,0n)}function lu(e){const t=Xn(e.tokenInSlug),n=du(e),a=void 0!==e.networkFee&&void 0!==n&&n.lt(e.networkFee);return e.swapType===Fn.OnChain&&a&&!t&&Boolean(e.dieselStatus)&&"not-available"!==e.dieselStatus}function du(e){var t;if(!e.tokenInSlug||void 0===e.nativeTokenInBalance)return;const n=null===(t=Gn(ea(e.tokenInSlug)))||void 0===t?void 0:t.nativeToken;return n?(0,Pt.CF)(e.nativeTokenInBalance,n.decimals):void 0}function uu(e){let{networkFee:t,realNetworkFee:n}=e;return void 0!==t&&void 0!==n?(0,Mt.z)(t).sub(n).toString():void 0}function mu(e,t,n){return{...e,native:n?(0,Mt.z)(e.native??"0").add(t).toString():e.native,token:n?e.token:(0,Mt.z)(e.token??"0").add(t).toString()}}function pu(e){return e.swapType===Fn.OnChain}qe("startStaking",((e,t,a)=>{const o=e.currentStaking.state!==Wn.None,{tokenSlug:r}=a||{};if(r){const t=Ca(e,e.currentAccountId)[r];t&&(e=pd(e=Ve(),e.currentAccountId,{stakingId:t.id}),ze(e),e=Ve())}if(n.bA&&!o)return void Dl("startStaking",a);const i=Wn.StakeInitial;ze(md(e,{state:i,error:void 0}))})),qe("startUnstaking",((e,t,a)=>{const o=e.currentStaking.state!==Wn.None,{stakingId:r}=a||{};if(r&&(e=pd(e=Ve(),e.currentAccountId,{stakingId:r}),ze(e),e=Ve()),n.bA&&!o)return void Dl("startUnstaking",a);const i=Wn.UnstakeInitial;ze(md(e,{state:i,error:void 0}))})),qe("fetchStakingFee",(async(e,t,n)=>{const{amount:o}=n,{currentAccountId:r}=e;if(!r)return;const i=Na(e,r),s=await(0,a.p)("checkStakeDraft",r,o,i);s&&!("error"in s)&&(e=md(e=Ve(),{fee:s.fee}),ze(e))})),qe("submitStakingInitial",(async(e,t,n)=>{const{isUnstaking:o,amount:r}=n??{},{currentAccountId:i}=e;if(!i)return;ze(md(e,{isLoading:!0,error:void 0}));const s=Na(e,i);if(o){const t=await(0,a.p)("checkUnstakeDraft",i,r,s);e=md(e=Ve(),{isLoading:!1}),t&&("error"in t?e=md(e,{error:t.error}):(e=pt(e)?md(e=Od(e),{state:Wn.UnstakeConnectHardware}):md(e,{state:Wn.UnstakePassword}),e=md(e,{fee:t.fee,amount:r,error:void 0,tokenAmount:t.tokenAmount})))}else{const t=await(0,a.p)("checkStakeDraft",i,r,s);e=md(e=Ve(),{isLoading:!1}),t&&("error"in t?e=md(e,{error:t.error}):(e=pt(e)?md(e=Od(e),{state:Wn.StakeConnectHardware}):md(e,{state:Wn.StakePassword}),e=md(e,{fee:t.fee,amount:r,error:void 0})))}ze(e)})),qe("submitStakingPassword",(async(e,t,n)=>{const{password:o,isUnstaking:r}=n,{amount:i,tokenAmount:s}=e.currentStaking,{currentAccountId:c}=e;if(!await(0,a.p)("verifyPassword",o))return void ze(md(Ve(),{error:"Wrong password, please try again."}));const l=Na(e=Ve(),c);if(tl()&&(e=Ul(e)),e=md(e,{isLoading:!0,error:void 0}),ze(e),await cl(!0),e=Ve(),r){const n="nominators"===l.type?l.balance:s,r=await(0,a.p)("submitUnstake",e.currentAccountId,o,n,l,Yd(l.type).unstake.real),i=Zd(l,n);e=md(e=Kl(e=Ve(),c,{isLongUnstakeRequested:i}),{isLoading:!1}),ze(e),r?(cl(),e=md(e=Ve(),{state:Wn.UnstakeComplete})):(sl(),t.showDialog({message:"Unstaking was unsuccessful. Try again later."}),e=Ve(),tl()&&(e=Wl(e)))}else{const n=await(0,a.p)("submitStake",e.currentAccountId,o,i,l,Yd(l.type).stake.real);e=md(e=Ve(),{isLoading:!1}),ze(e),n?(cl(),e=md(e=Ve(),{state:Wn.StakeComplete})):(sl(),t.showDialog({message:"Staking was unsuccessful. Try again later."}),e=Ve(),tl()&&(e=Wl(e)))}ze(e)})),qe("submitStakingHardware",(async(e,n,a)=>{const{isUnstaking:o}=a||{},{amount:r,tokenAmount:s}=e.currentStaking,{currentAccountId:c}=e,l=Na(e,c);e=md(e,{isLoading:!0,error:void 0,state:o?Wn.UnstakeConfirmHardware:Wn.StakeConfirmHardware}),ze(e);const d=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));let u;const m=(e=Ve()).currentAccountId;try{if(o){const t=l.balance,n="nominators"===l.type?t:s;u=await d.submitLedgerUnstake(m,l,n,Yd(l.type).unstake.real);const a=Zd(l,n);e=Kl(e=Ve(),c,{isLongUnstakeRequested:a}),ze(e)}else u=await d.submitLedgerStake(m,r,l,Yd(l.type).stake.real)}catch(e){if(e instanceof tu.bS)return void ze(md(Ve(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled_internal"}));if(e instanceof tu.KB)return void ze(md(Ve(),{isLoading:!1,error:"Canceled by the user"}));(0,t.SJ)("submitStakingHardware",e)}e=md(e=Ve(),{isLoading:!1}),ze(e),u?"string"!=typeof u&&"error"in u?(sl(),n.showError({error:u.error})):(cl(),e=md(e=Ve(),{state:o?Wn.UnstakeComplete:Wn.StakeComplete}),ze(e)):(sl(),n.showDialog({message:o?"Unstaking was unsuccessful. Try again later.":"Staking was unsuccessful. Try again later."}))})),qe("clearStakingError",(e=>{ze(md(e,{error:void 0}))})),qe("cancelStaking",(e=>{tl()&&(e=Wl(e)),e=function(e){return{...e,currentStaking:{state:Wn.None}}}(e),ze(e)})),qe("setStakingScreen",((e,t,n)=>{const{state:a}=n;ze(md(e,{state:a}))})),qe("fetchStakingHistory",(async e=>{const t=await(0,a.p)("getStakingHistory",e.currentAccountId);t&&(e=Kl(e=Ve(),e.currentAccountId,{stakingHistory:t},!0),ze(e))})),qe("openAnyAccountStakingInfo",(async(e,t,a)=>{let{accountId:o,network:r,stakingId:i}=a;n.bA?Dl("openAnyAccountStakingInfo",{accountId:o,network:r,stakingId:i}):(await Promise.all([ac(),Pd(e,o,r)]),t.changeCurrentStaking({stakingId:i}),t.openStakingInfo())})),qe("openStakingInfo",(e=>{n.bA?Dl("openStakingInfo"):(e={...e,isStakingInfoModalOpen:!0},ze(e))})),qe("closeStakingInfo",(e=>{e={...e,isStakingInfoModalOpen:void 0},ze(e)})),qe("changeCurrentStaking",(async(e,t,a)=>{let{stakingId:o,shouldReopenModal:r}=a;n.bA&&r?Dl("changeCurrentStaking",{stakingId:o,shouldReopenModal:r}):(r&&await(0,l.v7)(50),e=pd(e=Ve(),e.currentAccountId,{stakingId:o}),ze(e),r&&t.openStakingInfoOrStart())})),qe("startStakingClaim",((e,t,a)=>{const{stakingId:o}=a||{};o&&(e=pd(e=Ve(),e.currentAccountId,{stakingId:o}),ze(e),e=Ve()),n.bA?Dl("startStakingClaim",a):(e=pt(e)?md(e=Od(e),{state:Wn.ClaimConnectHardware}):md(e,{state:Wn.ClaimPassword}),ze(e))})),qe("cancelStakingClaim",(e=>{e=md(e,{state:Wn.None}),ze(e)})),qe("submitStakingClaim",(async(e,t,o)=>{var r;let{password:i}=o;const s=e.currentAccountId;if(!await(0,a.p)("verifyPassword",i))return void ze(md(Ve(),{error:"Wrong password, please try again."}));if(e=Ve(),tl()&&(e=Ul(e)),e=md(e,{isLoading:!0,error:void 0}),ze(e),await cl(!0),n.bA)return void Dl("submitStakingClaim",{password:i});const c=Na(e=Ve(),s),l="ethena"===c.type,d=await(0,a.p)("submitStakingClaimOrUnlock",s,i,c,null===(r=Yd(c.type).claim)||void 0===r?void 0:r.real);if(e=md(e=Ve(),{isLoading:!1}),ze(e),!d||"error"in d)return tl()&&(e=Wl(e=Ve()),ze(e)),sl(),void t.showError({error:null==d?void 0:d.error});cl(),e=md(e=Ve(),{state:l?Wn.ClaimComplete:Wn.None}),ze(e),n.KI&&Ll("setStakingScreen",{state:l?Wn.ClaimComplete:Wn.None})})),qe("submitStakingClaimHardware",(async(e,n)=>{e=md(e,{isLoading:!0,error:void 0,state:Wn.ClaimConfirmHardware}),ze(e);const a=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),o=(e=Ve()).currentAccountId,r=Na(e,o),s="ethena"===r.type;let c;try{var l;c=await a.submitLedgerStakingClaimOrUnlock(o,r,null===(l=Yd(r.type).claim)||void 0===l?void 0:l.real)}catch(e){if(e instanceof tu.bS)return void ze(md(Ve(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled_internal"}));if(e instanceof tu.KB)return void ze(md(Ve(),{isLoading:!1,error:"Canceled by the user"}));(0,t.SJ)("submitStakingClaimHardware",e)}e=md(e=Ve(),{isLoading:!1}),ze(e),c?"object"==typeof c&&"error"in c?n.showError({error:c.error}):(e=md(e=Ve(),{state:s?Wn.ClaimComplete:Wn.None}),ze(e)):n.showError({error:Da.QD.Unexpected})})),qe("openStakingInfoOrStart",((e,t)=>{e.currentAccountId&&(Jd(Na(e,e.currentAccountId))?t.openStakingInfo():t.startStaking())})),qe("submitDappConnectRequestConfirm",(async(t,o,r)=>{let{password:i,accountId:s}=r;const{promiseId:c,permissions:d}=t.dappConnectRequest;if(null!=d&&d.isPasswordRequired&&(!i||!await(0,a.p)("verifyPassword",i)))return t=fd(t=Ve(),{error:"Wrong password, please try again."}),void ze(t);tl()&&(t=Ul(t=Ve()),ze(t)),n.bA?Dl("submitDappConnectRequestConfirm",{password:i,accountId:s}):(cl(),o.switchAccount({accountId:s}),await(0,a.p)("confirmDappRequestConnect",c,{accountId:s,password:i}),t=Ve(),e.UMQ&&(t=Wl(t)),t=hd(t),ze(t),await(0,l.v7)(250),o.getDapps())})),qe("submitDappConnectRequestConfirmHardware",(async(e,t,a)=>{let{accountId:o}=a;const{proof:r}=e.dappConnectRequest;e=fd(e=Ve(),{error:void 0,state:Rn.ConfirmHardware}),ze(e);const s=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));try{const e=await s.signLedgerProof(o,r);if(n.bA)return void Dl("submitDappConnectHardware",{accountId:o,signature:e});t.submitDappConnectHardware({accountId:o,signature:e})}catch(e){ze(fd(Ve(),{error:"Canceled by the user"}))}})),qe("submitDappConnectHardware",(async(e,t,n)=>{let{accountId:o,signature:r}=n;const{promiseId:i}=e.dappConnectRequest;t.switchAccount({accountId:o}),await(0,a.p)("confirmDappRequestConnect",i,{accountId:o,signature:r}),e=hd(e=Ve()),ze(e),await(0,l.v7)(250),t.getDapps()})),qe("cancelDappConnectRequestConfirm",(e=>{au((e=>e.dappConnectRequest),(()=>Dl("cancelDappConnectRequestConfirm")),hd)})),qe("setDappConnectRequestState",((e,t,n)=>{let{state:a}=n;ze(fd(e,{state:a}))})),qe("cancelDappTransfer",(e=>{au((e=>e.currentDappTransfer),(()=>Dl("cancelDappTransfer")),vd)})),qe("submitDappTransferPassword",(async(e,t,n)=>{let{password:a}=n;await ou(a,(e=>e.currentDappTransfer),(()=>Dl("submitDappTransferPassword",{password:a})),gd)})),qe("submitDappTransferHardware",(async(e,t)=>{const{promiseId:o,transactions:r,vestingAddress:s}=e.currentDappTransfer;if(!o)return;e=gd(e=Ve(),{isLoading:!0,error:void 0,state:Bn.ConfirmHardware}),ze(e);const c=e.currentAccountId,l=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));try{const e=await l.signLedgerTransactions(c,r,{isTonConnect:!0,vestingAddress:s});if(n.bA)return void Dl("submitDappTransferHardware2",{signedMessages:e});t.submitDappTransferHardware2({signedMessages:e})}catch(n){if(n instanceof tu.bS)return void ze(gd(Ve(),{isLoading:!1,error:"$hardware_blind_sign_not_enabled"}));if(n instanceof tu.cp)t.showError({error:"$ledger_unsupported_ton_connect"}),(0,a.p)("cancelDappRequest",o,n.message);else{if(n instanceof tu.KB)return void ze(gd(Ve(),{isLoading:!1,error:"Canceled by the user"}));(0,a.p)("cancelDappRequest",o,"Unknown error.")}e=vd(e=Ve()),ze(e)}})),qe("submitDappTransferHardware2",((e,t,n)=>{let{signedMessages:o}=n;const{promiseId:r}=e.currentDappTransfer;r&&((0,a.p)("confirmDappRequest",r,o),e=vd(e=Ve()),ze(e))})),qe("submitDappSignDataPassword",(async(e,t,n)=>{let{password:a}=n;await ou(a,(e=>e.currentDappSignData),(()=>Dl("submitDappSignDataPassword",{password:a})),wd)})),qe("getDapps",(async(e,t)=>{const{currentAccountId:n}=e;let o=await(0,a.p)("getDapps",n);if(!o)return;const r=o.find((e=>{let{url:t}=e;return!t}));r&&(t.deleteDapp({url:r.url,uniqueId:nu(r)}),o=o.filter((e=>{let{url:t}=e;return t}))),e=function(e,t){return zl(e,{dapps:t})}(e=Ve(),o),ze(e)})),qe("deleteAllDapps",(e=>{const{currentAccountId:t}=e;(0,a.p)("deleteAllDapps",t),e=function(e){return zl(e,{dapps:void 0,dappLastOpenedDatesByUrl:void 0})}(e=Ve()),ze(e)})),qe("deleteDapp",((e,t,o)=>{let{url:r,uniqueId:i}=o;const{currentAccountId:s}=e;n.bA?Dl("deleteDapp",{url:r,uniqueId:i}):(0,a.p)("deleteDapp",s,r,i),e=function(e,t){const{dapps:n,dappLastOpenedDatesByUrl:a}=ct(e)||{};return a&&delete a[t],zl(e,{dapps:n.filter((e=>e.url!==t)),dappLastOpenedDatesByUrl:a})}(e=Ve(),r),ze(e)})),qe("cancelDappSignData",(e=>{au((e=>e.currentDappSignData),(()=>Dl("cancelDappSignData")),yd)})),qe("apiUpdateDappConnect",(async(e,t,a)=>{let{accountId:o,dapp:r,permissions:i,promiseId:s,proof:c}=a;if(n.bA){if(!await(0,l.fm)((()=>Boolean(Ve().dappConnectRequest)),300,5))return;e=Ve()}e=fd(e,{state:Rn.Info,promiseId:s,accountId:o,dapp:r,permissions:{isAddressRequired:i.address,isPasswordRequired:i.proof},proof:c}),ze(e),t.addSiteToBrowserHistory({url:r.url})})),qe("apiUpdateDappSendTransaction",(async(e,t,n)=>{const{promiseId:a,transactions:o,emulation:r,dapp:i,vestingAddress:s}=n;await ru(n,(e=>e.currentDappTransfer),t.closeDappTransfer,(e=>e.currentDappTransfer.state!==Bn.None),vd,(e=>gd(e,{state:pt(e)&&o.length>1?Bn.WarningHardware:Bn.Initial,promiseId:a,transactions:o,emulation:r,dapp:i,vestingAddress:s})))})),qe("apiUpdateDappSignData",(async(e,t,n)=>{const{promiseId:a,dapp:o,payloadToSign:r}=n;await ru(n,(e=>e.currentDappSignData),t.closeDappSignData,(e=>e.currentDappSignData.state!==xn.None),yd,(e=>wd(e,{state:xn.Initial,promiseId:a,dapp:o,payloadToSign:r})))})),qe("apiUpdateDappLoading",(async(e,t,a)=>{let{connectionType:o,isSse:r,accountId:i}=a;if(n.bA){if(!await(0,l.fm)((()=>iu(Ve(),o)),300,5))return;e=Ve()}!n.bA&&i&&t.switchAccount({accountId:i}),"connect"===o?e=fd(e,{state:Rn.Info,isSse:r}):"sendTransaction"===o?e=gd(e,{state:Bn.Initial,isSse:r}):"signData"===o&&(e=wd(e,{state:xn.Initial,isSse:r})),ze(e)})),qe("apiUpdateDappCloseLoading",(async(e,t,a)=>{var o;let{connectionType:r}=a;if(n.bA){if(!await(0,l.fm)((()=>iu(Ve(),r)),300,5))return;e=Ve()}"connect"===r&&(null===(o=e.dappConnectRequest)||void 0===o?void 0:o.state)===Rn.Info?e=hd(e):"sendTransaction"===r&&e.currentDappTransfer.state===Bn.Initial?e=vd(e):"signData"===r&&e.currentDappSignData.state===xn.Initial&&(e=yd(e)),ze(e)})),qe("loadExploreSites",(async(e,t,n)=>{let{isLandscape:o}=n;const r=await(0,a.p)("loadExploreSites",{isLandscape:o});Pl(r,(e=Ve()).exploreData)||(e={...e,exploreData:r},ze(e))}));const fu={},hu=9e5,gu={"Insufficient liquidity":Mn.NotEnoughLiquidity,"Tokens must be different":Mn.InvalidPair,"Asset not found":Mn.InvalidPair,"Pair not found":Mn.InvalidPair,"Too small amount":Mn.TooSmallAmount};function vu(e){var t;const{currentDexLabel:n,amountIn:a,amountOut:o,amountOutMin:r,slippage:i,networkFee:s,swapFee:c,ourFee:l,dieselFee:d,realNetworkFee:u}=e.currentSwap,m=ca(e),p=la(e),f=Ud(m),h=Ud(p),g=a,v=o,w=it(e,e.currentAccountId),y=null===(t=Gn(ea(m.slug)))||void 0===t?void 0:t.nativeToken,b=y?Wt(e,y.slug):void 0,E=da(e);return{from:f,to:h,fromAmount:g,toAmount:v,toMinAmount:r,slippage:i,fromAddress:(null==w?void 0:w.addressByChain[m.chain])||(null==w?void 0:w.addressByChain.ton),shouldTryDiesel:lu({...e.currentSwap,swapType:E,nativeTokenInBalance:b}),dexLabel:n,networkFee:u??s,swapFee:c,ourFee:l,dieselFee:d}}qe("startSwap",(async(e,t,a)=>{const o=e.currentSwap.state!==On.None;if(n.KI&&o&&(Ll("cancelSwap"),await(0,l.v7)(100),e=Ve()),n.bA)return void Dl("startSwap",a);const{state:r}=a??{},i=mi(),s=r||(i?On.Initial:On.None);e=ad(e,{...a,state:s,swapId:(0,we.A)(),inputSource:Pn.In}),ze(e),i||t.setLandscapeActionsActiveTabIndex({index:zn.Swap})})),qe("setDefaultSwapParams",((t,n,a)=>{let{tokenInSlug:o,tokenOutSlug:r}=a??{};const{withResetAmount:i}=a??{};o=o||e.JhS,r=r||e.rKC,(t.currentSwap.tokenInSlug!==o||t.currentSwap.tokenOutSlug!==r||i)&&(t=ad(t,{tokenInSlug:o,tokenOutSlug:r,inputSource:Pn.In,...i?{amountIn:void 0,amountOut:void 0}:void 0}),ze(t))})),qe("cancelSwap",(function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n){const{tokenInSlug:t,tokenOutSlug:n}=e.currentSwap;return e=ad(e=od(e),{tokenInSlug:t,tokenOutSlug:n,amountIn:void 0,amountOut:void 0,inputSource:Pn.In}),void ze(e)}tl()&&(e=Wl(e)),e=ad(e,{state:On.None,swapId:void 0}),ze(e)})),qe("submitSwap",(async(e,t,n)=>{let{password:o}=n;if(!await(0,a.p)("verifyPassword",o))return void ze(ad(Ve(),{error:"Wrong password, please try again."}));e=Ve(),tl()&&(e=Ul(e)),e=ad(e,{isLoading:!0,shouldResetOnClose:void 0,error:void 0}),ze(e),await cl(!0);const r=vu(e),i=await(0,a.p)("swapBuildTransfer",e.currentAccountId,o,r);if(e=Ve(),!i||"error"in i)return tl()&&(e=Wl(e)),sl(),e=ad(e,{shouldResetOnClose:!0,isLoading:!1}),ze(e),void t.showError({error:null==i?void 0:i.error});const s={id:i.id,timestamp:Date.now(),status:"pending",from:r.from,fromAmount:r.fromAmount,to:r.to,toAmount:r.toAmount,networkFee:e.currentSwap.realNetworkFee??e.currentSwap.networkFee,swapFee:e.currentSwap.swapFee,ourFee:e.currentSwap.ourFee,hashes:[]};e=ad(e,{tokenInSlug:void 0,tokenOutSlug:void 0,amountIn:void 0,amountOut:void 0,isLoading:!1,state:On.Complete,shouldResetOnClose:!0}),ze(e),cl();const c=await(0,a.p)("swapSubmit",e.currentAccountId,o,i.transfers,s,r.shouldTryDiesel);!c||"error"in c?(e=ad(e=Ve(),{shouldResetOnClose:!0}),tl()&&(e=Wl(e)),ze(e),sl(),t.showError({error:null==c?void 0:c.error})):(e=ad(e=Ve(),{activityId:c.activityId}),ze(e))})),qe("submitSwapCex",(async(e,t,n)=>{let{password:o}=n;if(!await(0,a.p)("verifyPassword",o))return void ze(ad(Ve(),{error:"Wrong password, please try again."}));e=ad(e=Ve(),{isLoading:!0,error:void 0,shouldResetOnClose:void 0}),tl()&&(e=Ul(e)),ze(e),await cl(!0);const r=Ct(e=Ve(),e.currentAccountId),i=rt(e),s=function(e){var t;return Object.keys((null===(t=it(e,e.currentAccountId))||void 0===t?void 0:t.addressByChain)||{ton:!0})}(e),d=e.swapTokenInfo.bySlug[e.currentSwap.tokenInSlug],u=e.swapTokenInfo.bySlug[e.currentSwap.tokenOutSlug],m="ton"===d.chain,p=r&&"tron"===d.chain,f=m||p,h=r?s.includes(d.chain):"ton"===d.chain,g=i.addressByChain.ton,v=(null==i?void 0:i.addressByChain[u.chain])??e.currentSwap.toAddress,w=vu(e),y={...(0,c.Up)(w,["from","fromAmount","to","swapFee","networkFee"]),fromAddress:g,toAddress:v},b=await(0,a.p)("swapCexCreateTransaction",e.currentAccountId,o,y);if(e=Ve(),!b)return e=ad(e,{isLoading:!1,shouldResetOnClose:!0}),tl()&&(e=Wl(e)),sl(),ze(e),void t.showError({error:Da.QD.Unexpected});if(e=ad(e,{isLoading:!1,state:h?On.Complete:On.WaitTokens,activityId:b.activity.id,payinAddress:b.swap.cex.payinAddress,payoutAddress:b.swap.cex.payoutAddress,payinExtraId:b.swap.cex.payinExtraId,shouldResetOnClose:!0}),ze(e),cl(),f){const n={password:o,accountId:(e=Ve()).currentAccountId,fee:(0,Pt.UH)(b.swap.networkFee,d.decimals),amount:(0,Pt.UH)(b.swap.fromAmount,d.decimals),toAddress:b.swap.cex.payinAddress,tokenAddress:r?d.tokenAddress:void 0};let i;var E;await(0,l.v7)(5e3),m?i=await(0,a.p)("swapCexSubmit","ton",n,b.swap.id):p&&(i=await(0,a.p)("swapCexSubmit","tron",n,b.swap.id)),(!i||"error"in i)&&(e=ad(e=Ve(),{shouldResetOnClose:!0}),tl()&&(e=Wl(e)),ze(e),sl(),t.showError({error:null===(E=i)||void 0===E?void 0:E.error}))}})),qe("switchSwapTokens",(e=>{const{tokenInSlug:t,tokenOutSlug:n,amountIn:a,amountOut:o}=e.currentSwap;e=ad(e,{isMaxAmount:!1,amountIn:o,amountOut:a,tokenInSlug:n,tokenOutSlug:t,inputSource:Pn.In}),ze(e)})),qe("setSwapTokenIn",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,c=e.swapTokenInfo.bySlug[a],l=o?(0,Pt.QQ)(o,c.decimals):o,d=a===s?i:s,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=r&&u?(0,Pt.QQ)(r,u.decimals):r;e=ad(e,{amountIn:"0"===l?void 0:l,amountOut:"0"===m?void 0:m,tokenInSlug:a,tokenOutSlug:d}),ze(e)})),qe("setSwapTokenOut",((e,t,n)=>{let{tokenSlug:a}=n;const{amountIn:o,amountOut:r,tokenInSlug:i,tokenOutSlug:s}=e.currentSwap,c=e.swapTokenInfo.bySlug[a],l=r?(0,Pt.QQ)(r,c.decimals):r,d=a===i?s:i,u=d?e.swapTokenInfo.bySlug[d]:void 0,m=o&&u?(0,Pt.QQ)(o,u.decimals):o;e=ad(e,{amountOut:"0"===l?void 0:l,amountIn:"0"===m?void 0:m,tokenOutSlug:a,tokenInSlug:d}),ze(e)})),qe("setSwapAmountIn",((e,t,n)=>{let{amount:a,isMaxAmount:o=!1}=n;e=ad(e,{amountIn:a,isMaxAmount:o,inputSource:Pn.In}),ze(e)})),qe("setSwapAmountOut",((e,t,n)=>{let{amount:a}=n;e=ad(e,{amountOut:a,isMaxAmount:!1,inputSource:Pn.Out}),ze(e)})),qe("setSlippage",((e,t,n)=>{let{slippage:a}=n;return ad(e,{slippage:a})})),qe("estimateSwap",(async()=>{await async function(){const t=Ve();if(!Jl(t)&&!wu)try{wu=!0;const n=Zl.bind(void 0,t),o=await(async(t,n)=>{const{tokenInSlug:o,tokenOutSlug:r}=t.currentSwap;if(o){if(await async function(t){var n;await(0,l.fm)((()=>{const{swapTokenInfo:{isLoaded:e,bySlug:n}}=Ve();return!(!e&&!n[t])}),500,100);let o=Ve();const r=o.swapTokenInfo.bySlug[t];if(!r)return;const i=Ud(r),s=fu[t];if(s&&Date.now()-s.timestamp<=hu)return;const c=await(0,a.p)("swapGetPairs",i);let d;if(o=Ve(),c){const n="ton"===r.chain;d=c.reduce(((t,a)=>{const o=Jn(a.slug,!0),i=Number(n)+(o?1:0),s=!(2===i||1===i&&[r.slug,a.slug].includes(e.Tu9.slug));return t[a.slug]={...s&&{isMultichain:s},...a.isReverseProhibited&&{isReverseProhibited:a.isReverseProhibited}},t}),{}),fu[t]={timestamp:Date.now()}}else d={};ze({...o,swapPairs:{bySlug:{...null===(n=o.swapPairs)||void 0===n?void 0:n.bySlug,[t]:d}}})}(o),n())return;t=Ve()}var i;if(o&&r&&!(null===(i=t.swapPairs)||void 0===i||null===(i=i.bySlug)||void 0===i||null===(i=i[o])||void 0===i?void 0:i[r]))return{...td(t),errorType:Mn.InvalidPair};return ed(t)?da(t)===Fn.OnChain?async function(t){const n=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],o=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],r=Yn(ea(n.slug)).nativeToken,i=n.slug===e.Tu9.slug?n.symbol:n.tokenAddress,s=o.slug===e.Tu9.slug?o.symbol:o.tokenAddress,{fromAmount:l,isFromAmountMax:d}=function(e){const t=ca(e);let n=e.currentSwap.amountIn??"0",a=!1;if(e.currentSwap.amountIn&&da(e)===Fn.OnChain&&e.currentSwap.inputSource===Pn.In&&e.currentSwap.isMaxAmount){const o=Wt(e,t.slug);n=(0,Pt.nI)(o,t.decimals),a=!0}return{fromAmount:n,isFromAmountMax:a}}(t),u=t.currentSwap.amountOut??"0",m=rt(t).addressByChain.ton,p=t.currentSwap.inputSource===Pn.In?{fromAmount:l}:{toAmount:u},f=Ht(t),h=f<(0,Pt.UH)(t.currentSwap.networkFee??"0",r.decimals),g=await(0,a.p)("swapEstimate",t.currentAccountId,{...p,from:i,to:s,slippage:t.currentSwap.slippage,fromAddress:m,shouldTryDiesel:h,isFromAmountMax:d,toncoinBalance:(0,Pt.nI)(f??0n,e.Tu9.decimals)});if(t=Ve(),!g||"error"in g){const e=gu[null==g?void 0:g.error]??Mn.UnexpectedError;return{...td(t),errorType:e}}const v="0"===g.toAmount&&h?Mn.NotEnoughForFee:void 0,w=function(e){return[{...(0,c.Up)(e,["fromAmount","toAmount","toMinAmount","impact","dexLabel","networkFee","realNetworkFee","swapFee","swapFeePercent","ourFee","dieselFee","networkFee"])},...e.other??[]].sort(((e,t)=>e.dexLabel.localeCompare(t.dexLabel)))}(g),y=function(e,t,n){var a;if(0===t.length)throw new Error("Unexpected empty `newEstimates` array");const{tokenInSlug:o,currentDexLabel:r,isDexLabelChanged:i}=e.currentSwap;if(r&&i){const e=t.find((e=>{let{dexLabel:t}=e;return t===r}));if(e)return e}const s=o?e.swapTokenInfo.bySlug[o]:void 0,c=o?Wt(e,o):void 0,l=o?null===(a=Gn(ea(o)))||void 0===a?void 0:a.nativeToken:void 0,d=l&&Wt(e,l.slug);let u=t.filter((e=>function(e){var t;if(!e.tokenIn||void 0===e.nativeTokenInBalance)return;const n=null===(t=Gn(ea(e.tokenIn.slug)))||void 0===t?void 0:t.nativeToken;if(!n)return;const a=(0,Pt.UH)(e.variant.networkFee,n.decimals);if(e.nativeTokenInBalance>=a)return!0;if(e.variant.dieselFee){if(void 0===e.tokenInBalance)return;const t=(0,Pt.UH)(e.variant.dieselFee,e.tokenIn.decimals);if(e.tokenInBalance>=t)return!0}return!1}({variant:e,tokenIn:s,tokenInBalance:c,nativeTokenInBalance:d})));return 0===u.length&&(u=t),u.find((e=>{let{dexLabel:t}=e;return t===n}))??u[0]}(t,w,g.dexLabel);return{...td(t),...t.currentSwap.inputSource===Pn.In?{amountOut:y.toAmount}:{amountIn:y.fromAmount},...d?{amountIn:y.fromAmount}:void 0,bestRateDexLabel:g.dexLabel,amountOutMin:y.toMinAmount,priceImpact:y.impact,errorType:v,dieselStatus:g.dieselStatus,estimates:w,currentDexLabel:y.dexLabel,networkFee:y.networkFee,realNetworkFee:y.realNetworkFee,swapFee:y.swapFee,swapFeePercent:y.swapFeePercent,ourFee:y.ourFee,ourFeePercent:g.ourFeePercent,dieselFee:y.dieselFee}}(t):async function(t,n){var o;const r=t.swapTokenInfo.bySlug[t.currentSwap.tokenInSlug],i=t.swapTokenInfo.bySlug[t.currentSwap.tokenOutSlug],s=Ud(r),c=Ud(i),l=t.currentSwap.amountIn??"0",d=da(t),u=await(0,a.p)("swapCexEstimate",{fromAmount:l,from:s,to:c});if(n())return;if(t=Ve(),!u)return{...td(t),errorType:window.navigator.onLine?Mn.InvalidPair:Mn.UnexpectedError};if("error"in u){const{error:e}=u;return e.includes("requests limit")?"rateLimited":{...td(t),errorType:Mn.UnexpectedError}}const m=null===(o=t.accounts)||void 0===o?void 0:o.byId[t.currentAccountId];let p,f;if(d===Fn.CrosschainFromWallet){if("ton"!==r.chain&&"tron"!==r.chain)throw new Error(`Unexpected chain ${r.chain}`);const n={ton:m.addressByChain.ton,tron:e.jt9}[r.chain],o=await(0,a.p)("checkTransactionDraft",r.chain,{accountId:t.currentAccountId,toAddress:n,tokenAddress:r.tokenAddress});o&&({networkFee:p,realNetworkFee:f}=function(e,t){const n=Zn(t);let a,o;return void 0!==(null==e?void 0:e.fee)&&(a=(0,Pt.nI)(e.fee,n.decimals)),void 0!==(null==e?void 0:e.realFee)&&(o=(0,Pt.nI)(e.realFee,n.decimals)),{networkFee:a,realNetworkFee:o}}(o,r.chain))}return{...td(t),amountOut:"0"===u.toAmount?void 0:u.toAmount,limits:{fromMin:u.fromMin,fromMax:u.fromMax},swapFee:u.swapFee,networkFee:p,realNetworkFee:f,ourFee:"0",ourFeePercent:0,dieselStatus:"not-available",amountOutMin:u.toAmount,errorType:(0,Mt.z)(l).lt(u.fromMin)?Mn.ChangellyMinSwap:(0,Mt.z)(l).gt(u.fromMax)?Mn.ChangellyMaxSwap:void 0}}(t,n):td(t)})(t,(()=>{const e=Ve();return Jl(e)||!n(e)})),r=Ve();if(!n(r))return;if("rateLimited"===o)return;ze(ad(r,{isEstimating:!1,...Jl(r)?void 0:o}))}finally{wu=!1}}()})),qe("setSwapScreen",((e,t,n)=>{let{state:a}=n;a===On.Initial&&(e=ad(e,{swapId:(0,we.A)()})),e=ad(e,{state:a}),ze(e)})),qe("clearSwapError",(e=>{e=ad(e,{error:void 0}),ze(e)})),qe("setSwapCexAddress",((e,t,n)=>{let{toAddress:a}=n;e=ad(e,{toAddress:a}),ze(e)})),qe("updatePendingSwaps",(async e=>{const t=e.currentAccountId;if(!t)return;let{activities:n}=lt(e,t)??{};if(!n)return;const o=Object.values(n.byId).filter((e=>Boolean("swap"===e.kind&&"pending"===e.status&&e.cex))).map((e=>{let{id:t}=e;return on(t).hash}));if(!o.length)return;const r=await(0,a.p)("fetchSwaps",t,o);if(null==r||!r.swaps.length)return;const{swaps:i,nonExistentIds:s}=r;if((e=Ve()).currentAccountId!==t)return;({activities:n}=lt(e,t)??{});for(const e of r.swaps)e.isCanceled&&(e.shouldHide=!0);const l={};for(const e of s)l[e]={...n.byId[e],status:"expired",shouldHide:!0};e=Kl(e,t,{activities:{...n,byId:{...n.byId,...l,...(0,c.dU)(i,"id")}}}),ze(e)})),qe("setSwapDex",((e,t,n)=>{let{dexLabel:a}=n;const{estimates:o,bestRateDexLabel:r}=e.currentSwap,i=(o||[]).find((e=>e.dexLabel===a));i&&(e=ad(e,{amountIn:i.fromAmount,amountOut:i.toAmount,amountOutMin:i.toMinAmount,networkFee:i.networkFee,realNetworkFee:i.realNetworkFee,swapFee:i.swapFee,swapFeePercent:i.swapFeePercent,ourFee:i.ourFee,dieselFee:i.dieselFee,priceImpact:i.impact,currentDexLabel:a,isDexLabelChanged:a!==r||void 0},!0),ze(e))}));let wu=!1;qe("loadPriceHistory",(async(e,t,n)=>{const{slug:o,period:r,currency:i=e.settings.baseCurrency}=n??{},s=await(0,a.p)("fetchPriceHistory",o,r,i);s&&(e=function(e,t,n){const{bySlug:a}=e.tokenPriceHistory;return{...e,tokenPriceHistory:{bySlug:{...a,[t]:{...a[t],...n}}}}}(e=Ve(),o,{[r]:s}),ze(e))}));const yu=/^\w{26,}\./;function bu(e){return yu.test(e)}qe("submitTransferInitial",(async(e,t,o)=>{if(n.KI)return void Ll("submitTransferInitial",o);const{tokenSlug:r,toAddress:i,comment:s,shouldEncrypt:c,nfts:l,withDiesel:d,stateInit:u,isGaslessWithStars:m,binPayload:p}=o;let{amount:f}=o;ze(ld(e,!0));const h=Boolean(null==l?void 0:l.length);let g;if(h)f=0n,g=await(0,a.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:l,toAddress:i,comment:s});else{const{tokenAddress:t,chain:n}=zt(e,r);g=await(0,a.p)("checkTransactionDraft",n,{accountId:e.currentAccountId,tokenAddress:t,toAddress:i,amount:f,data:p??s,shouldEncrypt:c,stateInit:u,isBase64Data:Boolean(p),allowGasless:!0})}var v,w;e=ld(e=Ve(),!1),g&&(e=rd(e,g)),g&&!("error"in g)?ze(id(e,{state:Bn.Confirm,error:void 0,toAddress:i,resolvedAddress:g.resolvedAddress,amount:f,comment:s,shouldEncrypt:c,tokenSlug:r,isToNewAddress:g.isToAddressNew,withDiesel:d,isGaslessWithStars:m})):(ze(e),(null===(v=g)||void 0===v?void 0:v.error)!==Da.KL.InsufficientBalance||h?t.showError({error:null===(w=g)||void 0===w?void 0:w.error}):t.showDialog({message:"The network fee has slightly changed, try sending again."}))})),qe("fetchTransferFee",(async(t,n,o)=>{var r;t=id(t,{isLoading:!0,error:void 0}),ze(t);const{tokenSlug:i,toAddress:s,comment:c,shouldEncrypt:l,binPayload:d,stateInit:u}=o,{tokenAddress:m,chain:p}=zt(t,i),f=await(0,a.p)("checkTransactionDraft",p,{accountId:t.currentAccountId,toAddress:s,data:d??c,tokenAddress:m,shouldEncrypt:l,isBase64Data:Boolean(d),stateInit:u,allowGasless:!0});if(!(i!==(t=Ve()).currentTransfer.tokenSlug||null!==(r=t.currentTransfer.nfts)&&void 0!==r&&r.length)){if(t=id(t,{isLoading:!1}),f&&(t=rd(t,f)),ze(t),null!=f&&f.error&&f.error!==Da.KL.InsufficientBalance&&n.showError({error:f.error}),(null==f?void 0:f.error)===Da.KL.InsufficientBalance){const n=rt(t),a=Ut(t),{chain:o}=zt(t,i);(function(t,n,a){return!(!t.importedAt||Date.now()-t.importedAt>Oa.dp)&&"tron"===a&&n.some((t=>t.slug===e.QSz||"tron"===t.chain&&t.amount>0n&&t.slug!==e.X7T.slug))})(n,a,o)&&(t=id(t=Ve(),{scamWarningType:_n.SeedPhrase}),ze(t))}bu(s)&&(t=id(t=Ve(),{scamWarningType:_n.DomainLike}),ze(t))}})),qe("fetchNftFee",(async(e,t,n)=>{var o;const{toAddress:r,nfts:i,comment:s}=n;e=id(e,{isLoading:!0,error:void 0}),ze(e);const c=await(0,a.p)("checkNftTransferDraft",{accountId:e.currentAccountId,nfts:i,toAddress:r,comment:s});null!==(o=(e=Ve()).currentTransfer.nfts)&&void 0!==o&&o.length&&(e=id(e,{isLoading:!1}),c&&(e=rd(e,c)),bu(r)&&(e=id(e,{scamWarningType:_n.DomainLike})),ze(e),null!=c&&c.error&&t.showError({error:(null==c?void 0:c.error)===Da.KL.InsufficientBalance?"Insufficient TON for fee.":c.error}))})),qe("submitTransferPassword",(async(t,n,o)=>{var r,i;let{password:s}=o;const{resolvedAddress:c,comment:l,amount:d,promiseId:u,tokenSlug:m,shouldEncrypt:p,binPayload:f,nfts:h,withDiesel:g,diesel:v,stateInit:w,isGaslessWithStars:y}=t.currentTransfer;if(!await(0,a.p)("verifyPassword",s))return void ze(id(Ve(),{error:"Wrong password, please try again."}));if(t=Ve(),t=id(Ve(),{isLoading:!0,error:void 0}),tl()&&(t=Ul(t)),ze(t),await cl(),u)return tl()&&(t=Ul(t=Ve()),ze(t)),void(0,a.p)("confirmDappRequest",u,s);const b=pa(t.currentTransfer),E=null===(r=b.fullFee)||void 0===r?void 0:r.nativeSum,k=null===(i=b.realFee)||void 0===i?void 0:i.nativeSum;let C;if(null!=h&&h.length){const n=[];for(let t=0;t<h.length;t+=e.gR8)n.push(h.slice(t,t+e.gR8));for(const e of n){const n=await(0,a.p)("submitNftTransfers",t.currentAccountId,s,e,c,l,k&&(0,ma.fC)(k,h.length/e.length));t=id(t=Ve(),{sentNftsCount:(t.currentTransfer.sentNftsCount||0)+e.length}),ze(t),C=n}}else{const{tokenAddress:e,chain:n}=zt(t,m),o={accountId:t.currentAccountId,password:s,toAddress:c,amount:d,comment:f??l,tokenAddress:e,fee:E,realFee:k,shouldEncrypt:p,isBase64Data:Boolean(f),withDiesel:g,dieselAmount:v&&ha(v),stateInit:w,isGaslessWithStars:y,noFeeCheck:!0};C=await(0,a.p)("submitTransfer",n,o)}var N;t=id(t=Ve(),{isLoading:!1}),ze(t),!C||"error"in C?(tl()&&(t=Wl(t=Ve()),ze(t)),sl(),n.showError({error:null===(N=C)||void 0===N?void 0:N.error})):cl()})),qe("submitTransferHardware",(async(e,t)=>{var n;const{toAddress:o,resolvedAddress:r,comment:s,amount:c,promiseId:l,tokenSlug:d,rawPayload:u,parsedPayload:m,stateInit:p,nfts:f}=e.currentTransfer,h=e.currentAccountId;ze(id(Ve(),{isLoading:!0,error:void 0,state:Bn.ConfirmHardware}));const g=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));if(l){const e={toAddress:o,amount:c,rawPayload:u,payload:m,stateInit:p};try{const t=await g.signLedgerTransactions(h,[e]);(0,a.p)("confirmDappRequest",l,t)}catch(e){e instanceof tu.KB?ze(id(Ve(),{isLoading:!1,error:"Canceled by the user"})):(0,a.p)("cancelDappRequest",l,"Unknown error.")}return}const v=null===(n=pa(e.currentTransfer).realFee)||void 0===n?void 0:n.nativeSum;let w,y;if(null!=f&&f.length)for(const t of f){const n=await g.submitLedgerNftTransfer({accountId:e.currentAccountId,nftAddress:t.address,password:"",toAddress:r,comment:s,nft:t,realFee:v&&v/BigInt(f.length)});e=id(e=Ve(),{sentNftsCount:(e.currentTransfer.sentNftsCount||0)+1}),ze(e),w=n}else{const t=Vt(e,d),n={accountId:e.currentAccountId,password:"",toAddress:r,amount:c,comment:s,tokenAddress:t,realFee:v};try{w=await g.submitLedgerTransfer(n,d)}catch(e){e instanceof tu.bS&&(y="$hardware_blind_sign_not_enabled")}}y||void 0!==w?"object"==typeof w&&"error"in w&&t.showError({error:w.error}):y="Declined",ze(id(Ve(),{isLoading:!1,error:y}))})),qe("cancelTransfer",(function(e,t){let{shouldReset:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{promiseId:o,tokenSlug:r}=e.currentTransfer;if(n)return o&&(0,a.p)("cancelDappRequest",o,"Canceled by the user"),e=id(e=sd(e),{tokenSlug:r}),void ze(e);tl()&&(e=Wl(e)),e=id(e,{state:Bn.None}),ze(e)})),qe("fetchTransferDieselState",(async(e,t,n)=>{let{tokenSlug:o}=n;const r=Vt(e,o);if(!r)return;const i=await(0,a.p)("fetchEstimateDiesel",e.currentAccountId,r);if(!i)return;const s=lt(e=Ve(),e.currentAccountId);e=cd(e,id(e,{diesel:i})),null!=s&&s.isDieselAuthorizationStarted&&"not-authorized"!==i.status&&(e=Kl(e,e.currentAccountId,{isDieselAuthorizationStarted:void 0})),ze(e)})),qe("checkTransferAddress",(async(e,t,n)=>{let{address:o}=n;if(!o)return e=id(e,{toAddressName:void 0,resolvedAddress:void 0}),void ze(e);const r=ot(e),i=await(0,a.p)("getAddressInfo",r,o);e=id(e=Ve(),!i||"error"in i?{toAddressName:void 0,resolvedAddress:void 0}:{toAddressName:i.addressName,resolvedAddress:i.resolvedAddress}),ze(e)}));const Eu=n.KI?100:0;function ku(t,n){const{currentAccountId:a,currentMintCard:o}=t,{config:r}=lt(t,a),{cardsInfo:i}=r,s=i[o.type];return{accountId:a,password:n,toAddress:e.lnc,amount:(0,Pt.UH)(s.price,e.Tu9.decimals),comment:e.sml}}function Cu(e,t,n){if(e=_d(e,{isLoading:!1}),ze(e),n)return tl()&&(e=Wl(e=Ve()),ze(e)),sl(),void Ke().showError({error:n});cl(),e=Kl(e=_d(e=Ve(),{state:Vn.Done}),t,{isCardMinting:!0}),ze(e)}qe("fetchNftsFromCollection",((e,t,n)=>{let{collectionAddress:o}=n;(0,a.p)("fetchNftsFromCollection",e.currentAccountId,o)})),qe("burnNfts",((t,n,a)=>{let{nfts:o}=a;n.startTransfer({isPortrait:mi(),nfts:o});const r=o.some((t=>t.collectionAddress===e.KmP));setTimeout((()=>{n.submitTransferInitial({tokenSlug:e.Tu9.slug,amount:0n,toAddress:r?e.WVU[0]:e.pV9,nfts:o})}),Eu)})),qe("addNftsToBlacklist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=ct(e)||{};return o=(0,c.Hl)(o,a),r=(0,c.Hl)(r,a),zl(e,{blacklistedNftAddresses:[...o,...a],whitelistedNftAddresses:r})})),qe("addNftsToWhitelist",((e,t,n)=>{let{addresses:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=ct(e)||{};return o=(0,c.Hl)(o,a),r=(0,c.Hl)(r,a),zl(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:[...r,...a]})})),qe("removeNftSpecialStatus",((e,t,n)=>{let{address:a}=n,{blacklistedNftAddresses:o=[],whitelistedNftAddresses:r=[]}=ct(e)||{};return o=o.filter((e=>e!==a)),r=r.filter((e=>e!==a)),zl(e,{blacklistedNftAddresses:o,whitelistedNftAddresses:r})})),qe("openUnhideNftModal",((e,t,n)=>{let{address:a,name:o}=n;return zl(e,{isUnhideNftModalOpen:!0,selectedNftToUnhide:{address:a,name:o}})})),qe("closeUnhideNftModal",(e=>zl(e,{isUnhideNftModalOpen:void 0,selectedNftToUnhide:void 0}))),qe("openHideNftModal",((e,t,n)=>{let{addresses:a,isCollection:o}=n;return zl(e,{selectedNftsToHide:{addresses:a,isCollection:o}})})),qe("closeHideNftModal",(e=>zl(e,{selectedNftsToHide:void 0}))),qe("openNftAttributesModal",((e,t,n)=>{let{nft:a}=n;return zl(e,{currentNftForAttributes:a})})),qe("closeNftAttributesModal",(e=>zl(e,{currentNftForAttributes:void 0}))),qe("submitClaimingVesting",(async(t,o,r)=>{let{password:i}=r;const s=t.currentAccountId;if(!await(0,a.p)("verifyPassword",i))return void ze(Bd(Ve(),s,{error:"Wrong password, please try again."}));if(t=Ve(),tl()&&(t=Ul(t)),t=Bd(t,s,{isLoading:!0,error:void 0}),ze(t),await cl(!0),n.bA)return void Dl("submitClaimingVesting",{password:i});const c=Et(t=Ve(),s),l={accountId:t.currentAccountId,password:i,toAddress:e.OKZ,amount:e.aEZ,comment:e.ZYg},d=await(0,a.p)("submitTransfer","ton",l);if(t=Bd(t=Ve(),s,{isLoading:!1}),ze(t),!d||"error"in d)return tl()&&(t=Wl(t=Ve()),ze(t)),sl(),void o.showError({error:null==d?void 0:d.error});cl(),t=Bd(t=Ve(),s,{isConfirmRequested:void 0,unfreezeRequestedIds:c}),ze(t),o.openVestingModal()})),qe("submitClaimingVestingHardware",(async(t,n)=>{t=Bd(t,t.currentAccountId,{isLoading:!0,error:void 0,unfreezeState:Hn.ConfirmHardware}),ze(t);const a=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),o=(t=Ve()).currentAccountId,r=Et(t,o),s={accountId:o,password:"",toAddress:e.OKZ,amount:e.aEZ,comment:e.ZYg},c=await a.submitLedgerTransfer(s,e.Tu9.slug);t=Bd(t=Ve(),o,{isLoading:!1}),ze(t),c?(t=Bd(t=Ve(),o,{isConfirmRequested:void 0,unfreezeRequestedIds:r}),ze(t),n.openVestingModal()):n.showError({error:Da.QD.Unexpected})})),qe("loadMycoin",((t,n)=>{const{isTestnet:a}=t.settings;n.importToken({address:a?e.GX2.minterAddress:e.oUU.minterAddress})})),qe("submitMintCard",(async(e,t,n)=>{let{password:o}=n;const r=e.currentAccountId;if(!await(0,a.p)("verifyPassword",o))return void ze(_d(Ve(),{error:"Wrong password, please try again."}));e=Ve(),tl()&&(e=Ul(e)),e=_d(e,{isLoading:!0,error:void 0}),ze(e),await cl(!0);const i=ku(Ve(),o),s=await(0,a.p)("submitTransfer","ton",i),c=!s||"error"in s?(null==s?void 0:s.error)??Da.QD.Unexpected:void 0;Cu(Ve(),r,c)})),qe("submitMintCardHardware",(async t=>{const n=t.currentAccountId;t=_d(t,{isLoading:!0,error:void 0,state:Vn.ConfirmHardware}),ze(t);const a=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),o=ku(Ve(),""),r=await a.submitLedgerTransfer(o,e.Tu9.slug)?void 0:Da.QD.Unexpected;Cu(Ve(),n,r)})),qe("checkCardNftOwnership",(t=>{if(n.bA||e.TI6)return;const{byAccountId:o}=t.settings;Object.entries(o).forEach((async e=>{var t,n;let[o,r]=e;const i=null===(t=r.cardBackgroundNft)||void 0===t?void 0:t.address,s=null===(n=r.accentColorNft)||void 0===n?void 0:n.address;if(!i&&!s)return;const c=[i?(0,a.p)("checkNftOwnership",o,i):void 0,s&&s!==i?(0,a.p)("checkNftOwnership",o,s):void 0],[l,d]=await Promise.all(c);let u=Ve();i&&!1===l&&(u=jl(u,o,{cardBackgroundNft:void 0})),s&&(s===i&&!1===l||s!==i&&!1===d)&&(u=jl(u,o,{accentColorNft:void 0,accentColorIndex:void 0})),ze(u)}))}));var Nu=i(9705);function Su(e,t){let n=new Nu.A;return function(){return n.resolve(e),n=new Nu.A,Promise.race([t(...arguments),n.promise])}}function Au(e,t){const n=e.pushNotifications.enabledAccounts,{[t]:a,...o}=n;return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:o}}}function Tu(e){return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:{}}}}function Iu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a={...e.pushNotifications.enabledAccounts,[t]:n};return{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}const Bu=Su({aborted:!0},(e=>(0,a.p)("subscribeNotifications",e))),_u=Su({aborted:!0},(e=>(0,a.p)("unsubscribeNotifications",e)));function xu(e,t,n,a){if(e=n(e,{isLoading:!1,state:a,...1===t.length&&"string"==typeof t[0]?{txId:t[0]}:void 0}),ze(e),t.some((e=>"string"!=typeof e)))return tl()&&(e=Wl(e=Ve()),ze(e)),sl(),void Ke().showError({error:"Failed to process domain operation. Please try again."});cl()}function Du(e,t,n){return e=t(e,{isLoading:!0,error:void 0,state:n}),ze(e),Ve()}async function Lu(e,t,n){return await(0,a.p)("verifyPassword",t)?(e=Ve(),tl()&&(e=Ul(e)),e=("renewal"===n?xd:Dd)(e,{isLoading:!0,error:void 0}),ze(e),await cl(!0),!0):(ze(("renewal"===n?xd:Dd)(Ve(),{error:"Wrong password, please try again."})),!1)}qe("registerNotifications",(async(t,n,o)=>{let{userToken:r,platform:i}=o;const{pushNotifications:s}=t;let c,l=Object.keys(s.enabledAccounts);const d=tt(t)||{};if(s.userToken||Ge(d))s.userToken!==r&&l.length&&([c]=await Promise.all([(0,a.p)("subscribeNotifications",{userToken:r,platform:i,addresses:Object.values(Fc(t,l))}),(0,a.p)("unsubscribeNotifications",{userToken:s.userToken,addresses:Object.values(Fc(t,l))})]));else{const n=Fc(t,Object.keys(d),e.vdF);l=Object.keys(n),c=await(0,a.p)("subscribeNotifications",{userToken:r,platform:i,addresses:Object.values(n)})}if(t=Ve(),t={...t,pushNotifications:{...t.pushNotifications,userToken:r,platform:i}},!c||"error"in c)return void ze(t);const u=l.reduce(((e,t)=>{const n=d[t].addressByChain.ton;return n&&(e[t]=c.addressKeys[n]),e}),{});ze({...t,pushNotifications:{...t.pushNotifications,enabledAccounts:u}})})),qe("deleteNotificationAccount",(async(e,t,n)=>{let{accountId:o,withAbort:r}=n;const{userToken:i,enabledAccounts:s}=e.pushNotifications,c=s[o];if(!i)return;ze(Au(e,o));const l=Object.values(Fc(e,[o]));if(0===l.length)return;const d={userToken:i,addresses:l},u=r?await _u(d):await(0,a.p)("unsubscribeNotifications",d);u&&"aborted"in u||(e=Ve(),ze(u&&"ok"in u?Au(e,o):Iu(e,o,c)))})),qe("createNotificationAccount",(async(e,t,n)=>{let{accountId:o,withAbort:r}=n;const{userToken:i,platform:s}=e.pushNotifications;if(!i||!s)return;const c=Object.values(Fc(e,[o]));if(!c.length)return;ze(Iu(e,o,{}));const l={userToken:i,platform:s,addresses:c},d=r?await Bu(l):await(0,a.p)("subscribeNotifications",l);d&&"aborted"in d||(e=Ve(),ze(d&&"ok"in d?function(e,t,n){const a=e.pushNotifications.enabledAccounts;return a[t]={...a[t],...n},{...e,pushNotifications:{...e.pushNotifications,enabledAccounts:a}}}(e,o,d.addressKeys[c[0].address]):Au(e,o)))})),qe("toggleNotifications",(async(t,n,a)=>{let{isEnabled:o}=a;const{enabledAccounts:r={},userToken:i="",platform:s,isAvailable:c}=t.pushNotifications;if(!c)return;let l;if(o){l=Fc(t,Object.keys(tt(t)||{}),e.vdF);for(const e of Object.keys(l))t=Iu(t,e,{})}else l=Fc(t,Object.keys(r)),t=Tu(t);if(ze(t),Ge(l))return;const d={userToken:i,addresses:Object.values(l),platform:s},u=o?await Bu(d):await _u(d);if(!u||!("aborted"in u))if(t=Ve(),u&&"ok"in u){if(o&&"addressKeys"in u){const e=u.addressKeys;for(const[n,{address:a}]of Object.entries(l))e[a]&&(t=Iu(t,n,e[a]))}ze(t)}else{if(o)t=Tu(t);else for(const e of Object.keys(l))t=Iu(t,e,r[e]);ze(t)}})),qe("fetchActivityDetails",(async(e,t,n)=>{var o;let{id:r}=n;const i=e.currentAccountId,s=null===(o=lt(e,i))||void 0===o||null===(o=o.activities)||void 0===o?void 0:o.byId[r];if(null==s||!s.shouldLoadDetails)return;const c=await(0,a.p)("fetchTonActivityDetails",i,s);c&&(e=function(e,t,n){const{id:a}=n,{activities:o}=lt(e,t)||{},{byId:r}=o??{};return r&&a in r?Kl(e,t,{activities:{...o,byId:{...r,[a]:n}}}):e}(Ve(),i,c),ze(e))})),qe("checkDomainsRenewalDraft",(async(e,t,n)=>{let{nfts:o}=n;const r=e.currentAccountId,i=await(0,a.p)("checkDnsRenewalDraft",r,o);i&&!("error"in i)?(e=xd(e=Ve(),{realFee:i.realFee}),ze(e)):t.showError({error:null==i?void 0:i.error})})),qe("submitDomainsRenewal",(async(e,t,n)=>{var o;let{password:r}=n;const i=e.currentAccountId,s=null===(o=ct(e))||void 0===o||null===(o=o.nfts)||void 0===o?void 0:o.byAddress;if(!s)return;if(!await Lu(e,r,"renewal"))return;const c=(e=Ve()).currentDomainRenewal.addresses,l=e.currentDomainRenewal.realFee,d=c.map((e=>s[e])).filter(Boolean);if(!d.length)return;const u=await(0,a.p)("submitDnsRenewal",i,r,d,l)??[void 0];xu(Ve(),u.map((e=>e&&"activityIds"in e?e.activityIds[0]:e)),xd,Dn.Complete)})),qe("submitDomainsRenewalHardware",(async e=>{var t;const n=e.currentAccountId,a=null===(t=ct(e))||void 0===t||null===(t=t.nfts)||void 0===t?void 0:t.byAddress;if(!a)return;e=Du(e,xd,Dn.ConfirmHardware);const{realFee:o,addresses:r}=e.currentDomainRenewal,s=r.map((e=>a[e])).filter(Boolean),c=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),l=[];for(const e of s){const t=await c.submitLedgerDnsRenewal(n,e,o/BigInt(s.length));l.push(t)}xu(Ve(),l,xd,Dn.Complete)})),qe("checkDomainLinkingDraft",(async(e,t,n)=>{let{nft:o}=n;const r=e.currentAccountId,i=rt(e).addressByChain.ton,s=await(0,a.p)("checkDnsChangeWalletDraft",r,o,i);s&&!("error"in s)?(e=Dd(e=Ve(),{realFee:s.realFee}),ze(e)):t.showError({error:null==s?void 0:s.error})})),qe("submitDomainLinking",(async(e,t,n)=>{var o;let{password:r}=n;const i=e.currentAccountId,s=ot(e),c=null===(o=ct(e))||void 0===o||null===(o=o.nfts)||void 0===o?void 0:o.byAddress,l=e.currentDomainLinking.address,d=e.currentDomainLinking.realFee,u=null==c?void 0:c[l],m=e.currentDomainLinking.walletAddress,p=await(0,a.p)("getAddressInfo",s,m);if(p&&"error"in p)return void t.showError({error:p.error});if(!u||!p||"resolvedAddress"in p&&!p.resolvedAddress)return;if(!await Lu(e,r,"linking"))return;const f=await(0,a.p)("submitDnsChangeWallet",i,r,u,p.resolvedAddress,d);xu(Ve(),[f&&"activityId"in f?f.activityId:f],Dd,Ln.Complete)})),qe("submitDomainLinkingHardware",(async(e,t)=>{var n;const o=e.currentAccountId,r=ot(e),s=null===(n=ct(e))||void 0===n||null===(n=n.nfts)||void 0===n?void 0:n.byAddress,c=null==s?void 0:s[e.currentDomainLinking.address],l=e.currentDomainLinking.walletAddress,d=await(0,a.p)("getAddressInfo",r,l);if(e=Ve(),d&&"error"in d)return void t.showError({error:d.error});if(!c||!d||"resolvedAddress"in d&&!d.resolvedAddress)return;e=Du(e,Dd,Ln.ConfirmHardware);const{realFee:u}=e.currentDomainLinking,m=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),p=await m.submitLedgerDnsChangeWallet(o,c,d.resolvedAddress,u);xu(Ve(),[p],Dd,Ln.Complete)})),qe("checkLinkingAddress",(async(e,t,n)=>{let{address:o}=n;if(!o)return e=Dd(e,{walletAddressName:void 0,resolvedWalletAddress:void 0}),void ze(e);const r=ot(e),i=await(0,a.p)("getAddressInfo",r,o);e=Dd(e=Ve(),!i||"error"in i?{walletAddressName:void 0,resolvedWalletAddress:void 0}:{walletAddressName:i.addressName,resolvedWalletAddress:i.resolvedAddress}),ze(e)})),qe("apiUpdate",((t,a,o)=>{switch(o.type){case"updateBalances":t=function(t,n,a,o){var r,i,s;const c={...o},l=(null===(r=lt(t,n))||void 0===r||null===(r=r.balances)||void 0===r?void 0:r.bySlug)??{};for(const[e,t]of Object.entries(l))ea(e)!==a&&(c[e]=t);let d=(null===(i=dt(t,n))||void 0===i?void 0:i.importedSlugs)??[];Boolean(null===(s=it(t,n))||void 0===s||null===(s=s.addressByChain)||void 0===s?void 0:s.ton)&&(d=[...d,e.rUK]);for(const e of d)e in c||(c[e]=0n);return Kl(t,n,{balances:{bySlug:c}})}(t,o.accountId,o.chain,o.balances),ze(t);break;case"updateStaking":{var r;const{accountId:n,states:a,totalProfit:i,shouldUseNominators:s}=o,l=(0,c.dU)(a,"id");t=pd(t=function(e,t){return{...e,stakingDefault:t}}(t,{...l[e.USn.id],balance:0n,unstakeRequestAmount:0n,tokenBalance:0n}),n,{stateById:l,shouldUseNominators:s,totalProfit:i});const{stakingId:d}=(null===(r=lt(t,n))||void 0===r?void 0:r.staking)??{};if(!d){const e=[...a].sort(((e,t)=>Number(t.balance-e.balance)))[0];e&&e.balance>0n?t=pd(t,n,{stakingId:e.id}):s&&l.nominators&&(t=pd(t,n,{stakingId:l.nominators.id}))}ze(t);break}case"updateTokens":{const{tokens:n,baseCurrency:a}=o;t=ql(t=function(t,n){var a;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=null===(a=t.tokenInfo)||void 0===a?void 0:a.bySlug;return n[e.Tu9.slug].price||(n=Object.values(n).reduce(((e,t)=>{const n=null==r?void 0:r[t.slug];return e[t.slug]={...t,price:(null==n?void 0:n.price)??t.price,priceUsd:(null==n?void 0:n.priceUsd)??t.priceUsd,percentChange24h:(null==n?void 0:n.percentChange24h)??t.percentChange24h},e}),{})),o&&r&&Ml(r,n)?t:{...t,tokenInfo:{...t.tokenInfo,bySlug:{...r,...n}}}}(t,n,!0),{baseCurrency:a}),ze(t);break}case"updateSwapTokens":t=function(e,t){var n;const a=null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug;return{...e,swapTokenInfo:{...e.swapTokenInfo,bySlug:{...a,...t},isLoaded:!0}}}(t,o.tokens),ze(t);break;case"updateNfts":{var i;const{accountId:n,shouldAppend:r}=o,s=(0,c.dU)(o.nfts,"address"),l=null===(i=lt(t,n))||void 0===i?void 0:i.nfts,d=Object.keys(s);t=Kl(t,n,{nfts:{...l,byAddress:{...s,...null==l?void 0:l.byAddress},orderedAddresses:(0,c.Am)(r?[].concat((null==l?void 0:l.orderedAddresses)??[],d):[].concat(d,(null==l?void 0:l.orderedAddresses)??[]))}}),e.TI6||o.nfts.forEach((n=>{n.collectionAddress===e.qL&&(t=Id(t,n))})),o.nfts.some((e=>e.isTelegramGift))&&a.addCollectionTab({collectionAddress:e.X6R,isAuto:!0}),ze(t),a.checkCardNftOwnership();break}case"nftSent":{const{accountId:n,nftAddress:r,newOwnerAddress:i}=o,s=kt(t,n,r);t=function(e,t,n){const a=lt(e,t).nfts,o=((null==a?void 0:a.orderedAddresses)??[]).filter((e=>e!==n)),r=((null==a?void 0:a.selectedAddresses)??[]).filter((e=>e!==n)),{[n]:i,...s}=(null==a?void 0:a.byAddress)??{};return Kl(e,t,{nfts:{...a,byAddress:s,orderedAddresses:o,selectedAddresses:r}})}(t,n,r),(null==s?void 0:s.collectionAddress)===e.qL&&(s.ownerAddress=i,t=Id(t,s)),ze(t),a.checkCardNftOwnership();break}case"nftReceived":{const{accountId:n,nft:r}=o;t=Ad(t,n,r),ze(t),e.TI6||(a.checkCardNftOwnership(),r.collectionAddress===e.qL&&(a.setCardBackgroundNft({nft:r}),a.installAccentColorFromNft({nft:r})));break}case"nftPutUpForSale":{const{accountId:e,nftAddress:n}=o;t=Td(t,e,n,{isOnSale:!0}),ze(t);break}case"updateAccount":{const{accountId:e,chain:n,domain:a,address:r}=o,i=it(t,e);if(!i)break;const s={};r&&(s.addressByChain={...i.addressByChain,[n]:r}),void 0!==a&&(s.domainByChain={...i.domainByChain,[n]:a||void 0}),t=$l(t,e,s),ze(t);break}case"updateConfig":{const{isLimited:a,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s,isAppUpdateRequired:c}=o,l=n.ZH&&a||e.TI6;t=function(e,t){return{...e,restrictions:{...e.restrictions,...t}}}(t,{isLimitedRegion:a,isSwapDisabled:l,isOnRampDisabled:l,isNftBuyingDisabled:l,isCopyStorageEnabled:r,supportAccountsCount:i,countryCode:s}),t={...t,isAppUpdateRequired:e.TI6?void 0:c},ze(t);break}case"updateWalletVersions":n.KI&&Ll("apiUpdateWalletVersions",o),a.apiUpdateWalletVersions(o);break;case"openUrl":ic(o.url,{isExternal:o.isExternal,title:o.title,subtitle:o.subtitle});break;case"requestReconnectApi":a.initApi();break;case"incorrectTime":t.isIncorrectTimeNotificationReceived||a.showIncorrectTimeError();break;case"updateVesting":{const{accountId:e,vestingInfo:n}=o,a=Et(t,e);t=function(e,t,n){return Bd(e,t,{info:n})}(t,e,n),Pl(a,Et(t,e))||(t=Bd(t,e,{unfreezeRequestedIds:void 0})),ze(t);break}case"updatingStatus":{const{kind:e,accountId:n,isUpdating:a}=o,r="balance"===e?"balanceUpdateStartedAt":"activitiesUpdateStartedAt",i=lt(t,n);if(a&&null!=i&&i[r])break;ze(Kl(t,n,{[r]:a?Date.now():void 0}));break}case"migrateCoreApplication":{const{accountId:e,isTestnet:n,address:r,secondAddress:i,secondAccountId:s,isTonProxyEnabled:c,isTonMagicEnabled:l}=o;t=Hl({global:t=ql(t,{isTestnet:n}),accountId:e,type:"mnemonic",addressByChain:{ton:r}}),t=Hl({global:t,accountId:s,type:"mnemonic",addressByChain:{ton:i},network:n?"mainnet":"testnet"}),ze(t),requestAnimationFrame((()=>{a.tryAddNotificationAccount({accountId:e}),a.switchAccount({accountId:e,newNetwork:n?"testnet":"mainnet"}),a.afterSignIn(),l&&a.toggleTonMagic({isEnabled:!0}),c&&a.toggleTonProxy({isEnabled:!0})}));break}case"updateAccountConfig":{const{accountConfig:e,accountId:n}=o;t=Kl(t,n,{config:e}),ze(t);break}case"updateAccountDomainData":{var s;const{accountId:e,expirationByAddress:n,linkedAddressByAddress:a,nfts:r}=o,i=(null===(s=lt(t,e))||void 0===s?void 0:s.nfts)||{byAddress:{}};t=function(e,t,n){var a;if(!n||Ge(n))return e;const{byAddress:o}=(null===(a=lt(e,t))||void 0===a?void 0:a.nfts)||{byAddress:{}};return Object.values(n).forEach((n=>{const a=null==o?void 0:o[n.address];e=a?Td(e,t,n.address,n):Ad(e,t,n,!0)})),e}(t=Kl(t,e,{nfts:{...i,dnsExpiration:n,linkedAddressByAddress:a}}),e,r),ze(t);break}}}));const Ou=(0,_a.F3)("NativeAudio",{web:()=>i.e(477).then(i.bind(i,4477)).then((e=>new e.NativeAudioWeb))}),Pu=i.p+"incoming-transaction.4ddd93d8f1ec1c4e2651.mp3",Mu=Oa.Z2,Fu=new(window.AudioContext||window.webkitAudioContext);let Ru,Uu=e.UMQ||"running"===Fu.state;function Wu(){Uu||Fu.resume().then((()=>{Uu=!0})).catch((e=>{(0,t.SJ)("appSounds:initializeSounds",e)}))}!async function(){const n={assetId:"incomingTransactionSound",assetPath:"public/incoming-transaction.mp3",audioChannelNum:1,isUrl:!1};if(e.UMQ){if(await Ou.isPreloaded(n))return;Ou.preload(n).catch((e=>{(0,t.SJ)("appSounds:loadSound",e)}))}else fetch(Pu).then((e=>e.arrayBuffer())).then((e=>Fu.decodeAudioData(e))).then((e=>{Ru=e})).catch((e=>{(0,t.SJ)("appSounds:loadSound",e)}))}();const Hu=(0,l.sg)((()=>{if(n.bA)return;if(!Uu)return void(0,t.MD)("appSounds:playIncomingTransactionSound","sound is not initialized");if(e.UMQ)return void Ou.play({assetId:"incomingTransactionSound"}).catch((e=>{(0,t.SJ)("appSounds:playIncomingTransactionSound",e)}));if(!Ru)return void(0,t.MD)("playIncomingTransactionSound","audioBuffer is not loaded");const a=Fu.createBufferSource();a.buffer=Ru,a.connect(Fu.destination),a.start(0)}),Mu,!0,!1);qe("apiUpdate",((t,a,o)=>{switch(o.type){case"initialActivities":{const{accountId:e,mainActivities:n,bySlug:a,chain:r}=o;t=function(e,t,n,a,o){const{activities:r}=lt(e,t)||{};let{byId:i,idsMain:s,areInitialActivitiesLoaded:l}=r||{};i={...i,...(0,c.dU)(n,"id")},l={...l,[o]:!0},s=function(e,t,n){if(!e.length&&!t.length)return[];if(!e.length&&t.length)return t;if(!t.length&&e.length)return e;const a=Math.max(n[e[e.length-1]].timestamp,n[t[t.length-1]].timestamp);return(0,c.Am)([...e,...t]).filter((e=>n[e].timestamp>=a)).sort(((e,t)=>jt(n[e],n[t])))}((0,c.JY)(n,"id"),s??[],i),0!==s.length||function(e,t,n){const{addressByChain:a}=st(e,t)??{addressByChain:{}};return Object.keys(a).every((e=>n[e]))}(e,t,l)||(s=void 0),e=Kl(e,t,{activities:{...r,idsMain:s,byId:i,areInitialActivitiesLoaded:l}});for(const[n,o]of Object.entries(a))e=Ed(e,t,n,o,0===o.length);return e}(t,e,n,a,r),ze(t),async function(e,t){var n;await(0,l.fm)((()=>!!$t(Ve(),e)),1e3,10);const a=Ve(),o=($t(a,e)??[]).slice(0,10).filter((e=>ea(e.slug)===t)),{idsBySlug:r}=(null===(n=lt(a,e))||void 0===n?void 0:n.activities)||{},{fetchPastActivities:i}=Ke();for(const{slug:e}of o)void 0===(null==r?void 0:r[e])&&i({slug:e})}(e,r);break}case"newLocalActivities":{const{accountId:e,activities:n}=o;!function(e,t,n){const a=function(e,t,n){var a;const{byId:o={},idsMain:r=[]}=(null===(a=e.byAccountId[t])||void 0===a?void 0:a.activities)??{},i=[];for(const e of r){if(i.length>=n)break;if(rn(e))continue;const t=o[e];t&&i.push(t)}return i}(e,t,n.length+20);for(const e of n)e.shouldHide||=a.some((t=>En(e,t)))}(t,e,n),t=bd(t,e,n);for(const e of n)"transaction"===e.kind&&-e.amount===t.currentTransfer.amount&&(t=id(t,{txId:e.txId,state:Bn.Complete,isLoading:!1}),tl()&&(t=Wl(t)),Jn(e.slug)&&a.fetchTransferDieselState({tokenSlug:e.slug}));ze(t);break}case"newActivities":{n.KI&&!o.noForward&&Ll("apiUpdate",{...o,noForward:!0}),n.bA&&!o.noForward&&Dl("apiUpdate",{...o,noForward:!0});const{accountId:a,activities:r,pendingActivities:i,chain:s}=o,c=wn([...Cn(t,a),...s?Nn(t,a,s):[]],[...i??[],...r]);t=kd(t,a,Object.keys(c)),s&&void 0!==i&&(t=function(e,t,n,a){var o;const{pendingActivityIds:r}=(null===(o=lt(e,t))||void 0===o?void 0:o.activities)||{};return bd(e=kd(e,t,(null==r?void 0:r[n])??[]),t,a,n)}(t,a,s,i)),t=function(e,t,n){var a;return Kl(e,t,{currentActivityId:oc(null===(a=lt(e,t))||void 0===a?void 0:a.currentActivityId,n)})}(t=function(e,t){return ad(e,{activityId:oc(e.currentSwap.activityId,t)})}(t=function(e,t){return xd(e,{txId:oc(e.currentDomainRenewal.txId,t)})}(t=function(e,t){return Dd(e,{txId:oc(e.currentDomainLinking.txId,t)})}(t=function(e,t){return id(e,{txId:oc(e.currentTransfer.txId,t)})}(t=bd(t,a,r),c),c),c),c),a,c),function(e,t){if(!e.settings.canPlaySounds)return;t.some((t=>{var n;return"transaction"===t.kind&&t.isIncoming&&"completed"===t.status&&Date.now()-t.timestamp<6e4&&!(e.settings.areTinyTransfersHidden&&Rd(t,null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug[t.slug]))&&!Zt(t)}))&&Hu()}(t,r),e.TI6||(t=function(t,n,a){const{isCardMinting:o}=lt(t,n)||{};if(!o||!a.length)return t;const r=a.find((t=>{var n;return"transaction"===t.kind&&t.isIncoming&&(null==t||null===(n=t.nft)||void 0===n?void 0:n.collectionAddress)===e.qL})),i=a.find((t=>"transaction"===t.kind&&t.isIncoming&&t.fromAddress===e.lnc&&(null==t?void 0:t.comment)===e.pyN));if(r){const e=r.nft;t=Ad(t=Kl(t,n,{isCardMinting:void 0}),n,e),Ke().setCardBackgroundNft({nft:e}),Ke().installAccentColorFromNft({nft:e})}else i&&(t=Kl(t,n,{isCardMinting:void 0}));return t}(t,a,r)),ze(t);break}}})),qe("apiUpdate",((t,a,o)=>{switch(o.type){case"createTransaction":{const{promiseId:n,amount:a,toAddress:r,fee:i,realFee:s,comment:c,rawPayload:l,parsedPayload:d,stateInit:u}=o;t=id(t=sd(t),{state:Bn.Confirm,toAddress:r,amount:a,fee:i,realFee:s,comment:c,promiseId:n,tokenSlug:e.Tu9.slug,rawPayload:l,parsedPayload:d,stateInit:u}),ze(t);break}case"createSignature":{const{promiseId:e,dataHex:n}=o;t=ud(t=function(e){return{...e,currentSignature:void 0}}(t),{promiseId:e,dataHex:n}),ze(t);break}case"showError":{const{error:e}=o;a.showError({error:e});break}case"dappConnect":n.KI&&Ll("apiUpdateDappConnect",o),a.apiUpdateDappConnect(o);break;case"dappConnectComplete":t=hd(t),ze(t);break;case"dappDisconnect":{var r;const{url:e}=o;(null===(r=t.currentDappTransfer.dapp)||void 0===r?void 0:r.url)===e&&(t=vd(t),ze(t));break}case"dappLoading":n.KI&&Ll("apiUpdateDappLoading",o),a.apiUpdateDappLoading(o);break;case"dappCloseLoading":n.KI&&Ll("apiUpdateDappCloseLoading",o),a.apiUpdateDappCloseLoading(o);break;case"dappSendTransactions":n.KI&&Ll("apiUpdateDappSendTransaction",o),a.apiUpdateDappSendTransaction(o);break;case"dappSignData":n.KI&&Ll("apiUpdateDappSignData",o),a.apiUpdateDappSignData(o);break;case"updateDapps":n.KI&&Ll("getDapps"),a.getDapps();break;case"prepareTransaction":{const{amount:n,toAddress:a,comment:r,binPayload:i}=o;t=id(t=sd(t),{state:Bn.Initial,toAddress:a,amount:n??0n,comment:r,tokenSlug:e.Tu9.slug,binPayload:i}),ze(t);break}case"processDeeplink":{const{url:e}=o;Ec(e);break}case"dappTransferComplete":n.KI&&Ll("apiUpdate",o),t.currentDappTransfer.state!==Bn.None&&(t=gd(t,{state:Bn.Complete,isLoading:!1}),ze(t));break;case"dappSignDataComplete":n.KI&&Ll("apiUpdate",o),t.currentDappSignData.state!==xn.None&&(t=wd(t,{state:xn.Complete,isLoading:!1}),ze(t))}}));const $u=[e.dnp,e.zHL,e.zP3];function Vu(e){const t=`animation-level-${e}`;document.documentElement.classList.contains(t)||$u.forEach((t=>{document.documentElement.classList.toggle(`animation-level-${t}`,t===e)}))}qe("init",((t,a)=>{(0,k.RK)((()=>{const{documentElement:t}=document;n.pz?t.classList.add("is-ios","is-mobile"):n.Ni?(t.classList.add("is-android","is-mobile"),n.xy&&t.classList.add("is-android-app")):n.MP?t.classList.add("is-macos"):n.H8?t.classList.add("is-windows"):n.ig&&t.classList.add("is-linux"),n.Yw&&t.classList.add("is-safari"),n.By&&t.classList.add("is-opera"),e.hL1&&t.classList.add("is-extension"),n.cp&&t.classList.add("is-electron"),e.tKX&&t.classList.add("is-telegram-app"),(0,n.v3)()&&t.classList.add("is-mobile-telegram-app"),n.bA&&t.classList.add("is-native-bottom-sheet"),(0,n.Kc)(),a.afterInit()}))})),qe("afterInit",(n=>{const{theme:a,animationLevel:o,langCode:r,authConfig:i}=n.settings;ni(a),Vu(o),ri({forceDarkBackground:!1}),Sr(r),function(){const t=e.CV.replace(/\d+$/,""),n=Number((e.CV.match(/\d+$/)||[0])[0]);for(let e=0;e<n;e++)or(`${t}${0===e?"":e}`)}(),e.UMQ?async function(e){const n=!!e&&"native-biometrics"===e.kind,a=await xa.isAvailable({isWeakAuthenticatorAllowed:n,useFallback:!1});zc=a.isAvailable,Kc=a.biometryType===Ia.FACE_ID,qc=a.biometryType===Ia.TOUCH_ID,async function(e){const n=_a.Ii.isPluginAvailable("PushNotifications");if(ze({...e,pushNotifications:{...e.pushNotifications,isAvailable:n}}),!n)return;await Mc.addListener("pushNotificationActionPerformed",Hc),await Mc.addListener("registration",$c),await Mc.addListener("registrationError",(e=>{(0,t.SJ)("Registration error: ",e.error)}));let a=await Mc.checkPermissions();"prompt-with-rationale"!==a.receive&&("prompt"===a.receive&&(a=await Mc.requestPermissions()),"granted"===a.receive&&await Mc.register())}(Ve())}(i):(e.tKX&&function(e){e.isFullscreen&&Ga.requestFullscreen(),Ga.onEvent("fullscreenChanged",ro),Ga.onEvent("fullscreenFailed",io)}(n),document.addEventListener("click",Wu,{once:!0}))})),qe("afterSignIn",((e,t)=>{ze({...e,appState:An.Main}),setTimeout((()=>{t.resetAuth(),yc&&(Ec(yc),yc=void 0)}),320)})),qe("afterSignOut",((e,t,n)=>{var a;null!=n&&n.shouldReset&&("native-biometrics"===(null===(a=e.settings.authConfig)||void 0===a?void 0:a.kind)&&Eo(),t.setInMemoryPassword({password:void 0,force:!0}),t.resetApiSettings({areAllDisabled:!0}))})),qe("showDialog",((e,t,n)=>{const a=[...e.dialogs],o=a.findIndex((e=>e.message===n.message));return-1!==o&&a.splice(o,1),a.push(n),{...e,dialogs:a}})),qe("dismissDialog",(e=>{n.KI&&Ll("dismissDialog");const t=[...e.dialogs];return t.pop(),{...e,dialogs:t}})),qe("selectToken",(function(t,n){let{slug:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(a){const o=a===e.Tu9.slug,r=sa(t);(o||null!=r&&r.some((e=>e.slug===a)))&&(o?n.setDefaultSwapParams({tokenInSlug:e.rKC,tokenOutSlug:a}):n.setDefaultSwapParams({tokenOutSlug:a}),n.changeTransferToken({tokenSlug:a}))}else{var o;const a=t.byAccountId[t.currentAccountId].currentTokenSlug,r=t.currentSwap.tokenOutSlug===e.JhS&&t.currentSwap.tokenInSlug===e.rKC;t.currentSwap.tokenOutSlug===a&&(t.currentSwap.tokenInSlug===e.JhS&&t.currentSwap.tokenOutSlug!==e.rKC||r)&&n.setDefaultSwapParams({tokenInSlug:void 0,tokenOutSlug:void 0,withResetAmount:!0}),t.currentTransfer.tokenSlug===a&&t.currentTransfer.tokenSlug!==e.ScF&&(null===(o=t.currentTransfer.nfts)||void 0===o||!o.length)&&n.changeTransferToken({tokenSlug:e.ScF,withResetAmount:!0})}return zl(t,{currentTokenSlug:a})})),qe("showError",(function(e,t){let{error:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.bA)Dl("showError",{error:a});else switch(a){case Da.KL.InvalidAmount:t.showDialog({message:"Invalid amount"});break;case Da.Nu.InvalidAddress:case Da.KL.InvalidToAddress:t.showDialog({message:"Invalid address"});break;case Da.KL.InvalidStateInit:t.showDialog({message:"$state_init_invalid"});break;case Da.KL.InsufficientBalance:t.showDialog({message:"Insufficient balance"});break;case Da.Nu.DomainNotResolved:case Da.KL.DomainNotResolved:t.showDialog({message:"Domain is not connected to a wallet"});break;case Da.KL.WalletNotInitialized:t.showDialog({message:"Encryption is not possible. The recipient is not a wallet or has no outgoing transactions."});break;case Da.KL.InvalidAddressFormat:t.showDialog({message:"Invalid address format. Only URL Safe Base64 format is allowed."});break;case Da.jf.PartialTransactionFailure:t.showDialog({message:"Not all transactions were sent successfully"});break;case Da.jf.IncorrectDeviceTime:t.showDialog({message:"The time on your device is incorrect, sync it and try again"});break;case Da.jf.UnsuccesfulTransfer:t.showDialog({message:"Transfer was unsuccessful. Try again later."});break;case Da.KL.InactiveContract:t.showDialog({message:"$transfer_inactive_contract_error"});break;case Da.jf.NotSupportedHardwareOperation:t.showDialog({message:"$ledger_not_supported_operation"});break;case Da.QD.ServerError:t.showDialog({message:window.navigator.onLine?"An error on the server side. Please try again.":"No internet connection. Please check your connection and try again."});break;case Da.QD.DebugError:t.showDialog({message:"Unexpected error. Please let the support know."});break;case Da.QD.Unexpected:case void 0:t.showDialog({message:"Unexpected"});break;default:t.showDialog({message:a})}})),qe("showNotification",((e,t,a)=>{if(n.bA)return void Dl("showNotification",a);const{message:o,icon:r}=a,i=[...e.notifications],s=i.findIndex((e=>e.message===o));return-1!==s&&i.splice(s,1),i.push({message:o,icon:r}),{...e,notifications:i}})),qe("dismissNotification",(e=>{const t=[...e.notifications];return t.pop(),{...e,notifications:t}})),qe("toggleTonProxy",((e,t,n)=>{let{isEnabled:o}=n;return(0,a.p)("doProxy",o),{...e,settings:{...e.settings,isTonProxyEnabled:o}}})),qe("toggleTonMagic",((e,t,n)=>{let{isEnabled:o}=n;return(0,a.p)("doMagic",o),{...e,settings:{...e.settings,isTonMagicEnabled:o}}})),qe("toggleDeeplinkHook",((e,t,o)=>{let{isEnabled:r}=o;var i;return n.cp?null===(i=window.electron)||void 0===i||i.toggleDeeplinkHandler(r):(0,a.p)("doDeeplinkHook",r),{...e,settings:{...e.settings,isDeeplinkHookEnabled:r}}})),qe("signOut",(async(e,t,o)=>{var r;n.bA&&Dl("signOut",o);const{level:i}=o,s=ot(e),l=at(e),d=Object.keys(l),u="account"!==i,m="mainnet"===s?"testnet":"mainnet";let p=Object.keys(nt(m,null===(r=e.accounts)||void 0===r?void 0:r.byId));if("all"===i&&p.length>0&&(await(0,a.p)("removeNetworkAccounts",m),p=[]),u||1===d.length)if(t.deleteAllNotificationAccounts({accountIds:d}),p.length){await(0,a.p)("removeNetworkAccounts",s),e=Ve();const n=p[0],o=Object.entries(e.accounts.byId).reduce(((e,t)=>{let[n,a]=t;return(0,Ye.cK)(n).network!==s&&(e[n]=a),e}),{}),r=Object.entries(e.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,Ye.cK)(n).network!==s&&(e[n]=a),e}),{}),i=Object.entries(e.settings.byAccountId).reduce(((e,t)=>{let[n,a]=t;return(0,Ye.cK)(n).network!==s&&(e[n]=a),e}),{});e=Ql(e,n),e={...e,accounts:{...e.accounts,byId:o},byAccountId:r,settings:{...e.settings,byAccountId:i}},ze(e),t.switchAccount({accountId:n,newNetwork:m}),t.closeSettings(),t.afterSignOut()}else await(0,a.p)("resetAccounts"),t.afterSignOut({shouldReset:!0}),t.init();else{const n=e.currentAccountId,o=d.find((e=>e!==n)),r=kn(e,o);await(0,a.p)("removeAccount",n,o,r),t.deleteNotificationAccount({accountId:n}),e=Ve();const i=(0,c.cJ)(e.accounts.byId,[n]),s=(0,c.cJ)(e.byAccountId,[n]),l=(0,c.cJ)(e.settings.byAccountId,[n]);e=Ql(e,o),e={...e,accounts:{...e.accounts,byId:i},byAccountId:s,settings:{...e.settings,byAccountId:l}},ze(e),t.afterSignOut()}}));var zu=i(51);const Ku=(0,_a.F3)("BarcodeScanner",{web:()=>i.e(215).then(i.bind(i,29215)).then((e=>new e.BarcodeScannerWeb))}),qu=/^\d+\.\d+(\.\d+)?$/,ju=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const[n,a]=ie(e,t);return[n,ue((()=>{a(!0)}),[]),ue((()=>{a(!1)}),[])]};const Yu=new Set(["INPUT","TEXTAREA","SELECT"]),Gu=v();function Qu(e){ce((()=>{if(!e)return;const t=Object.entries(e);return Gu.addCallback((function(e){(function(e){return!(e.target instanceof HTMLElement)||!Yu.has(e.target.tagName)})(e)&&t.forEach((t=>{let[n,a]=t;(function(e){return t=>function(e,t){const{alt:n,ctrl:a,meta:o,mod:r,shift:i,key:s}=e,{altKey:c,ctrlKey:l,metaKey:d,shiftKey:u,key:m}=t;if(n!==c)return!1;if(r){if(!l&&!d)return!1}else{if(a!==l)return!1;if(o!==d)return!1}return i===u&&Boolean(s&&(m.toLowerCase()===s.toLowerCase()||t.code.replace("Key","").toLowerCase()===s.toLowerCase()))}(function(e){const t=e.toLowerCase().split("+").map((e=>e.trim())),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},a=["alt","ctrl","meta","shift","mod"];return{...n,key:t.find((e=>!a.includes(e)))}}(e),t)})(n)(e)&&a(e)}))}))}),[e])}function Xu(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=ue(e,t);return de((()=>"number"==typeof n?(0,l.nF)(o,n,!a):(0,l.nb)(n,o)),[o,n,a])}function Ju(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=ue(e,t);return de((()=>(0,l.sg)(r,n,!a,!o)),[r,n,a,o])}function Zu(){const{width:e,height:t,screenHeight:n}=Va(),[a,o]=ie(e),[r,i]=ie(t),[s,c]=ie(n),[d,u]=ie(!1),m=Ju(u,[u],250,!0);return ce((()=>{const e=(0,l.nF)((()=>{u(!0)}),250,!0),t=(0,l.nF)((()=>{const{width:e,height:t,screenHeight:n}=Va();o(e),i(t),c(n),m(!1)}),250,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[m]),de((()=>({width:a,height:r,screenHeight:s,isResizing:d})),[r,d,s,a])}document.documentElement.addEventListener("keydown",Gu.runCallbacks);const[em,tm]=E(void 0);let nm;const am=!n.ZH||n.KI;let om;async function rm(){return nm||(nm=await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),nm)}function im(){return void 0!==em()}async function sm(){const e=em();if(e)try{return await async function(e){const t=await rm(),n=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e.iv},t,e.ciphertext);return(new TextDecoder).decode(n)}(e)}catch(e){return}}function cm(t){var n;am&&(null===(n=om)||void 0===n||n(),om=function(e,t){if(t<=0)return e(),()=>{};const n=Date.now();let a,o=!1;const r=()=>{o||(o=!0,a&&(clearInterval(a),a=void 0))};return a=window.setInterval((()=>{o||Date.now()-n>=t&&(r(),e())}),5e3),r}((()=>{Ke().setInMemoryPassword({password:void 0})}),e.gbw*Oa.pY)),void 0!==t?async function(e){const t=await rm(),n=(new TextEncoder).encode(e),a=window.crypto.getRandomValues(new Uint8Array(12));return{ciphertext:await window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},t,n),iv:a}}(t).then((e=>{tm(e)})):tm(void 0)}rm();const lm=i.p+"add_dark.8aaf6cc3b06c8c29c0b8.tgs",dm=i.p+"add_light.be170b963afd3d68fffa.tgs",um=i.p+"clock_dark.67c2082b0ca3be15abf5.tgs",mm=i.p+"clock_dark_blue.dcdade09cdb1018439a5.tgs",pm=i.p+"clock_dark_gray.2f8e5bd8283b1b6fbc8b.tgs",fm=i.p+"clock_dark_green.30d56a71568b4a6c2265.tgs",hm=i.p+"clock_dark_purple.44d7e54c80d7bfcdc066.tgs",gm=i.p+"clock_dark_purple_white.b5df424559c900b23895.tgs",vm=i.p+"clock_dark_red.67cef0a9056652cc9fc4.tgs",wm=i.p+"clock_light.0f820ef9df9307b005b3.tgs",ym=i.p+"clock_light_blue.5e4780c003d1e4b827e4.tgs",bm=i.p+"clock_light_gray.4826990b5758e7e75dc0.tgs",Em=i.p+"clock_light_green.81cd8075f0eea6108c88.tgs",km=i.p+"clock_light_purple.38ce19dce815fecda5d9.tgs",Cm=i.p+"clock_light_purple_white.5f9e760bc1f22f84b046.tgs",Nm=i.p+"clock_light_red.55b1cfeadab5652b419e.tgs",Sm=i.p+"core_wallet_logo.2055ba52598574ce57c1.tgs",Am=i.p+"duck_bill.f055b12619440839e0be.tgs",Tm=i.p+"duck_forges.8b2d0ebddaa6d89f49f9.tgs",Im=i.p+"duck_guard.80ca79a0dd4e872c97de.tgs",Bm=i.p+"duck_happy.341e288409ae85100bda.tgs",_m=i.p+"duck_hello.40447128d7d2e35c9513.tgs",xm=i.p+"duck_no-data.235bf383a43e5d277cc7.tgs",Dm=i.p+"duck_run.4f00386469e72bd5f970.tgs",Lm=i.p+"duck_snitch.1de91932b48b813238a6.tgs",Om=i.p+"duck_thumb.4ae249f4ed4f4a37176a.tgs",Pm=i.p+"duck_ton.6583e2880c36d10daee2.tgs",Mm=i.p+"duck_wait.94faee2d1128c376e8d9.tgs",Fm=i.p+"duck_yeee.883032cf50944d474730.tgs",Rm=i.p+"earn_dark.cc3100d59f35656a0d80.tgs",Um=i.p+"earn_dark_purple.ef283884f712c29765f8.tgs",Wm=i.p+"earn_light.ba7d6daf7c43c22f37c5.tgs",Hm=i.p+"earn_light_purple.f5bf3ef47824c05e92a7.tgs",$m=i.p+"send_dark.a03d74d5dbf4d09aa6cd.tgs",Vm=i.p+"send_light.5056ea189e9f728cbf1c.tgs",zm=i.p+"swap_dark.0cca83400e60322ddc57.tgs",Km=i.p+"swap_light.f484bcd0bc90ab8c5f43.tgs",qm=i.p+"clock_dark.82ee95a865a9838d58e7.svg",jm=i.p+"clock_dark_blue.fdfd239a3616ce16e0b1.svg",Ym=i.p+"clock_dark_gray.1b1d9010ecebb08c3903.svg",Gm=i.p+"clock_dark_green.93f238675a9074c4fd47.svg",Qm=i.p+"clock_dark_purple.e08f76411ffbefe55602.svg",Xm=i.p+"clock_dark_purple_white.fbc63a9cd9546cfb5f54.svg",Jm=i.p+"clock_dark_red.8510b2dd2f25c2a0dcf1.svg",Zm=i.p+"clock_light.ce57368517d1f91b344b.svg",ep=i.p+"clock_light_blue.5fc267d1b83799b2f923.svg",tp=i.p+"clock_light_gray.ee7e9a2398565386ec7a.svg",np=i.p+"clock_light_green.71f692ac565e957d540a.svg",ap=i.p+"clock_light_purple.171b47626b50eac4fe77.svg",op=i.p+"clock_light_purple_white.fc89347ebf34b9556bfc.svg",rp=i.p+"clock_light_red.04c3e975306f5ff8d73f.svg",ip=i.p+"core_wallet_logo.e5460356e39ce9c0ba0e.png",sp=i.p+"duck_bill.966ff858d718072aae75.png",cp=i.p+"duck_forges.52c157bd0cc621f324e1.png",lp=i.p+"duck_guard.d4ebb8f84ebdd68f3da2.png",dp=i.p+"duck_happy.b8afd923624d1ef9061d.png",up=i.p+"duck_hello.c865862ea6c03bf4088b.png",mp=i.p+"duck_no-data.21cf5ad05a9a06aebcff.png",pp=i.p+"duck_run.a70c5e12b26ee1d82b73.png",fp={hello:_m,snitch:Lm,bill:Am,thumbUp:Om,holdTon:Pm,happy:Bm,noData:xm,forge:Tm,wait:Mm,run:Dm,yeee:Fm,guard:Im,helloPreview:up,snitchPreview:i.p+"duck_snitch.b567535e9c071b993b06.png",billPreview:sp,thumbUpPreview:i.p+"duck_thumb.8d21bd4f32485ac2c2a2.png",holdTonPreview:i.p+"duck_ton.c26fd7a7467b637009fe.png",happyPreview:dp,noDataPreview:mp,forgePreview:cp,waitPreview:i.p+"duck_wait.b0fe6ec6993586b30e65.png",runPreview:pp,yeeePreview:i.p+"duck_yeee.6a3e6f89a1e9cdb20fc7.png",guardPreview:lp,...e.TI6&&{coreWalletLogo:Sm,coreWalletLogoPreview:ip},light:{iconAdd:dm,iconClock:wm,iconClockBlue:ym,iconClockGray:bm,iconClockGreen:Em,iconClockPurple:km,iconClockPurpleWhite:Cm,iconClockRed:Nm,iconEarn:Wm,iconEarnPurple:Hm,iconSend:Vm,iconSwap:Km,preview:{iconClock:Zm,iconClockBlue:ep,iconClockGray:tp,iconClockGreen:np,iconClockPurple:ap,iconClockPurpleWhite:op,iconClockRed:rp}},dark:{iconAdd:lm,iconClock:um,iconClockBlue:mm,iconClockGray:pm,iconClockGreen:fm,iconClockPurple:hm,iconClockPurpleWhite:gm,iconClockRed:vm,iconEarn:Rm,iconEarnPurple:Um,iconSend:$m,iconSwap:zm,preview:{iconClock:qm,iconClockBlue:jm,iconClockGray:Ym,iconClockGreen:Gm,iconClockPurple:Qm,iconClockPurpleWhite:Xm,iconClockRed:Jm}}};function hp(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;ce((()=>{n.TF||t||setTimeout((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),a)}),[e,a,t])}function gp(e,t){const n=me(0),a=me(!1);return!a.current&&e&&n.current<t&&(n.current+=1),a.current=e,n.current>=t}const vp=fe((function(e){let{id:t,className:n,contentClassName:a,children:o,checked:r,isDisabled:i,onChange:s}=e;const c=Wo((e=>{e.preventDefault(),s(e.currentTarget.checked)}));return ge.createElement("label",{className:Tr("ydGmLQB9",n)},ge.createElement("input",{id:t,type:"checkbox",className:"aOFCdA5h",checked:r,disabled:i,tabIndex:0,onChange:i?void 0:c}),ge.createElement("div",{className:Tr("ZEXtFSPZ",a)},o))})),wp="egsZTzXN",yp=fe(je((e=>{const t=at(e)||{},n=ct(e),a=Object.keys(t).length>1;return{currentAccountId:e.currentAccountId,hasManyAccounts:a,accounts:t,accountStates:e.byAccountId,isBackupRequired:null==n?void 0:n.isBackupRequired}}))((function(t){let{isOpen:a,currentAccountId:o,hasManyAccounts:r,accounts:i,accountStates:s,isBackupRequired:c,onClose:l,isInAppLock:d}=t;const{signOut:u,switchAccount:m}=Ke(),p=Ar(),[f,h]=ie(e.TI6||!!d),g=de((()=>r?Object.entries(i).reduce(((e,t)=>{var n;let[a,r]=t;return a!==o&&null!==(n=s[a])&&void 0!==n&&n.isBackupRequired&&e.push({id:a,title:(0,Ye.S)(r)??""}),e}),[]):[]),[i,s,o,r]);ce((()=>{a&&h(e.TI6||!!d)}),[a,d]);const v=Wo((()=>{l(!f&&r),u({level:e.TI6?"all":f?"network":"account"})})),w=Wo((()=>{l(!1)}));const y=f&&g.length>0,b=c&&!y,E=Tr(Ks.button,n.ZH&&Ks.shortButton);return ge.createElement(Zs,{isOpen:a,isCompact:!0,title:n.ZH?p("Remove Wallet"):p("Log Out"),onClose:w,isInAppLock:d},ge.createElement("p",{className:Tr(Ks.text,Ks.text_noExtraMargin)},tr(p("$logout_warning","12/24"))),!(e.TI6||d)&&r&&ge.createElement(vp,{id:"logount_all_accounts",className:"B2lzpHP0",checked:f,onChange:h},tr(p("$logout_confirm"))),b&&ge.createElement("p",{className:Ks.text},ge.createElement("b",{className:wp},p("Warning!"))," ",p("$logout_without_backup_warning")),y&&ge.createElement("p",{className:Ks.text},ge.createElement("b",{className:wp},p("Warning!"))," ",p("$logout_accounts_without_backup_warning",{links:ge.createElement(ge.Fragment,null,g.map((function(e,t){const{id:n,title:a}=e,o=Tr(!d&&"mSBmBqo6",t+2===g.length&&"T7L1H3Tm");return ge.createElement("span",{className:o},d?ge.createElement("strong",null,a):ge.createElement("a",{key:n,href:"#",className:"FsSJDg8c",onClick:e=>{var t;e.preventDefault(),t=n,l(!1),m({accountId:t})}},a))})))})),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{className:E,onClick:w},p("Cancel")),ge.createElement(Vs,{isDestructive:!0,onClick:v,className:Ks.button},n.ZH?p("Remove Wallet"):p("Exit"))))})));function bp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(";")}function Ep(e,t){const n=Boolean(e),{ref:a}=Rs({isOpen:n,noMountTransition:n,className:"slow",...t});return a}let kp,Cp;async function Np(){return kp||(kp=i.e(949).then(i.bind(i,70949)).then((e=>e.default)),Cp=await kp),kp}function Sp(){return Cp}function Ap(e){const t=e.replace("#","");return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}function Tp(e){let[t,n,a]=e.map((e=>e/255));[t,n,a]=[t,n,a].map((e=>e>.04045?((e+.055)/1.055)**2.4:e/12.92));let o=.4124*t+.3576*n+.1805*a,r=.2126*t+.7152*n+.0722*a,i=.0193*t+.1192*n+.9505*a;return[o,r,i]=[o/.95047,r,i/1.08883].map((e=>e>.008856?e**(1/3):7.787*e+16/116)),[116*r-16,500*(o-r),200*(r-i)]}setTimeout(Np,3e3);const Ip=v(),Bp=v();function _p(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Wo(e),o=Wo(t);ce((()=>{if(!n)return B()&&a(),Ip.addCallback(a),Bp.addCallback(o),()=>{Bp.removeCallback(o),Ip.removeCallback(a)}}),[n,o,a])}B.subscribe((()=>{B()?Ip.runCallbacks():Bp.runCallbacks()}));const xp=v(),Dp=v();const Lp=new Map,Op=fe((e=>{let{ref:t,renderId:a,className:o,style:r,tgsUrl:i,play:s,playSegment:c,speed:l,noLoop:d,size:u,shouldStretch:m,quality:p,isLowPriority:f,color:h,forceOnHeavyAnimation:g,forceInBackground:w,sharedCanvas:y,sharedCanvasCoords:b,onClick:E,onLoad:C,onEnded:N,onLoop:S}=e,A=me();t&&(A=t);const T=ke(),[I,B]=ie(),_=me(),x=me(!0),D=s||!1!==s&&c,L=Uo(s),O=Uo(c),P=me(),M=me(!1);ce((()=>()=>{M.current=!0}),[]),Ee((()=>{if(h){const[e,t,n]=Ap(h);P.current=[e,t,n]}else P.current=void 0}),[h]);const F=Wo((()=>{if(_.current||M.current||!i||y&&(!b||!y.offsetWidth||!y.offsetHeight))return;const e=A.current||y;if(!e)return;const t=Sp().init(i,e,a||(0,we.A)(),{size:u,shouldStretch:m,noLoop:d,quality:p,isLowPriority:f,coords:b},T,P.current,C,N,S);l&&t.setSpeed(l),B(t),_.current=t}));ce((()=>{Sp()?F():Np().then(F)}),[F,i,y,b]);const R=Xu(F,[F],150);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Uo(t);ce((()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const o=e=>{let[t]=e;t.target.offsetWidth&&t.target.offsetHeight&&a.current(t)};let[r,i]=Lp.get(t)||[void 0,void 0];return r||(i=v(),r=new IntersectionObserver(i.runCallbacks),Lp.set(t,[r,i]),r.observe(t)),i.addCallback(o),()=>{i.removeCallback(o),i.hasCallbacks()||(r.unobserve(t),r.disconnect(),Lp.delete(t))}}),[n,a,e])}(y,R),ce((()=>{I&&I.setColor(P.current)}),[h,I]),ce((()=>()=>{var e;null===(e=_.current)||void 0===e||e.removeView(T)}),[T]);const U=Wo((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I&&(L.current||O.current)&&!Pp(g,w)&&(O.current?I.playSegment(O.current,e,T):I.play(e,T))})),W=Wo((()=>{(0,k.YS)(U)})),H=Wo((()=>{null!=I&&I.isPlaying()&&I.pause(T)}));if(pi((e=>{let[t]=e;void 0!==t&&d!==t&&(null==I||I.setNoLoop(d))}),[d,I]),pi((e=>{let[t]=e;void 0!==t&&b!==t&&(null==I||I.setSharedCanvasCoords(T,b))}),[b,T,I]),ce((()=>{I&&(D?Pp(g,w)||U(d):H())}),[I,D,d,U,H,g,w]),ce((()=>{I&&(x.current?x.current=!1:i&&(I.changeData(i),U(d)))}),[U,I,i,d]),_p(H,U,g||n.pz||!D),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Wo(e),o=Wo(t);ce((()=>{if(!n)return xp.addCallback(a),Dp.addCallback(o),()=>{Dp.removeCallback(o),xp.removeCallback(a)}}),[n,a,o])}(H,U,!D),Nl(H,W,!D||w),!y)return ge.createElement("div",{ref:A,className:o,style:bp(void 0!==u&&!m&&`width: ${u}px; height: ${u}px;`,E&&!n.cp&&"cursor: pointer",r),onClick:E})}));function Pp(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!n.pz&&B()||!e&&Sl()}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mp.apply(null,arguments)}const Fp=fe((function(e){const{size:t,play:n=!0,noLoop:a=!0,className:o,noTransition:r,nonInteractive:i,onLoad:s,onClick:c,...l}=e,[d,u]=ju(!1),m=Ep(r||d),p=Wo((()=>{u(),null==s||s()})),[f,h]=ie(String(Math.random())),g=Wo((()=>{!0===n&&h(String(Math.random())),null==c||c()}));return ge.createElement(Op,Mp({ref:m,className:o,size:t,play:!0===n?f:n,noLoop:a,onClick:i?void 0:g,onLoad:p},l))})),Rp="haM4SCte";function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Up.apply(null,arguments)}const Wp=new Set,Hp=150,$p=fe(je((t=>({noAnimation:t.settings.animationLevel===e.dnp})))((function(e){const{size:t=Hp,previewUrl:n,iconPreviewClass:a,thumbDataUri:o,className:r,noAnimation:i,noPreviewTransition:s,...c}=e,[l,d]=ju(Boolean(a)||Boolean(o)||Wp.has(n)),u=Ep(l||s),[m,p,f]=ju(!1);ce((()=>{i&&f()}),[f,i]);const h=Wo((()=>{d(),Wp.add(n)}));return ge.createElement("div",{ref:s?void 0:u,className:Tr(r,"aNPdKxlh"),style:bp(void 0!==t&&!c.shouldStretch&&`width: ${t}px; height: ${t}px;`),"data-preview-url":n},o&&!n&&!m&&ge.createElement("img",{src:o,className:Rp}),n&&!m&&ge.createElement("img",{src:n,className:Rp,onLoad:h}),a&&!m&&ge.createElement("i",{className:Tr(Rp,a),"aria-hidden":!0}),!i&&ge.createElement(Fp,Up({size:t},c,{onLoad:p,noTransition:!0})))}))),Vp={wrapper:"LCV_ofSL",input:"O85V9ajV",error:"hhZYLQar",disabled:"sAhrzaLV",input_password:"MawuFp3r",inputPassword:"MawuFp3r",rich:"_JfHIm8U",rich__value:"VyaUZjoQ",richValue:"VyaUZjoQ",rich__placeholder:"Fd5oMpfT",richPlaceholder:"Fd5oMpfT",isLoading:"oLkTqd0H",large:"cp2mDTzv",inputWrapperStatic:"_30fntf1",input__wrapper:"Q9N6yVvw",inputWrapper:"Q9N6yVvw",input__wrapper_hasFocus:"xJ8YLUEc",inputWrapperHasFocus:"xJ8YLUEc",visibilityToggle:"tXgxOPqo",visibilityToggle_push:"uXlOxDsj",visibilityTogglePush:"uXlOxDsj",fractional:"Q68NbVRf",label:"dGKNlTrc",label_error:"PFA7oH6u",labelError:"PFA7oH6u",label_forPassword:"i9G7zfox",labelForPassword:"i9G7zfox",label_errorUnderInput:"N0y6_7Nt",labelErrorUnderInput:"N0y6_7Nt",label_errorBottom:"fAnhlq4h",labelErrorBottom:"fAnhlq4h",swapCorner:"hcCyNq6V",swapCorner_error:"tRQeFT_t",swapCornerError:"tRQeFT_t",mask:"dYsHTHj3",inputContainer:"vjJxciaS",input_withValueOverlay:"qHmkgxAZ",inputWithValueOverlay:"qHmkgxAZ",valueOverlay:"yLnZrd5z",static:"PXCfAg02"},zp=fe((function(e){let{ref:t,id:n,label:a,placeholder:o,valueOverlay:r,inputMode:i,isRequired:s,isDisabled:c,isMultiline:l,hasError:d,type:u="text",error:m,value:p="",maxLength:f,inputArg:h,className:g,wrapperClassName:v,autoCapitalize:w,autoComplete:y,autoCorrect:b,isStatic:E,enterKeyHint:C,children:N,onInput:S,onKeyDown:A,onFocus:T,onBlur:I}=e;const B=Ar(),[_,x]=ie(!1),[D,L,O]=ju(!1),P=Boolean(r&&!D),M=e=>{S(e.currentTarget.value,h)},F=e=>{L(),null==T||T(e)},R=e=>{O(),null==I||I(e)},U="text"===u||_?"text":"password",W=Tr(Vp.input,g,"password"===u&&Vp.input_password,(d||m)&&Vp.error,c&&Vp.disabled,r&&Vp.input_withvalueOverlay),H=Tr(Vp.label,(d||m)&&Vp.error,(d||m)&&"password"===u&&Vp.label_forPassword);return ge.createElement("div",{className:Tr(Vp.wrapper,v)},m&&!!a&&ge.createElement("label",{className:Tr(Vp.label,Vp.label_error,Vp.error),htmlFor:n},m),!!a&&ge.createElement("label",{className:H,htmlFor:n},a),ge.createElement("div",{className:Vp.inputContainer},l?ge.createElement("textarea",{ref:t,id:n,className:W,value:p,disabled:c,maxLength:f,autoComplete:y,onInput:M,onChange:e=>{const{currentTarget:t}=e,{scrollHeight:n}=t;(0,k.RK)((()=>{t.style.height="0",t.style.height=`${n}px`}))},onKeyDown:A,onFocus:F,onBlur:R,tabIndex:0,required:s,placeholder:r?void 0:o}):ge.createElement("input",{ref:t,id:n,className:W,type:U,value:p,disabled:c,inputMode:i,maxLength:f,autoCapitalize:w,autoComplete:y,autoCorrect:b,spellCheck:b,onInput:M,onKeyDown:A,onFocus:F,onBlur:R,tabIndex:0,required:s,placeholder:r?void 0:o,enterKeyHint:C}),P&&ge.createElement("div",{className:Tr(Vp.valueOverlay,E&&Vp.static)},r)),"password"===u&&ge.createElement("button",{className:Tr(Vp.visibilityToggle,a&&Vp.visibilityToggle_push),type:"button",onClick:()=>{x(!_)},"aria-label":B("Change password visibility"),tabIndex:-1},ge.createElement("i",{className:_?"icon-eye":"icon-eye-closed","aria-hidden":!0})),N,m&&!a&&ge.createElement("label",{className:Tr(Vp.label,Vp.label_errorBottom,Vp.error),htmlFor:n},m))}));function Kp(e,t,n,a){return qp("animationend",e,t,n,a)}function qp(e,t,n,a,o){let r=!1;function i(){t.removeEventListener(e,s)}function s(e){r||e.target!==e.currentTarget||a&&(e instanceof TransitionEvent&&e.propertyName===a||e instanceof AnimationEvent&&e.animationName===a)||(r=!0,i(),setTimeout((()=>{n()}),50))}return t.addEventListener(e,s),o&&setTimeout((()=>{r||(i(),n())}),o),i}const jp=d.qM.easeOutCubic,Yp="swipe-disabled";let Gp,Qp,Xp,Jp,Zp=!1;function ef(e,t){return Fr(e,{swipeThreshold:10,withNativeDrag:!0,excludedClosestSelector:`.${Yp}`,onSwipe(e,a,o){if(a===Dr.Left){var r;null===(r=t.onSwipeLeftStart)||void 0===r||r.call(t)}else{if(a!==Dr.Right)return!1;var i;null===(i=t.onSwipeRightStart)||void 0===i||i.call(t)}return n.pz&&(Zp=!0,Gp=o),!0},onDrag(e,t,n){var a;Zp&&(null===(a=Qp)||void 0===a||a(n))},onRelease(){var e;Zp&&(Zp=!1,null===(e=Xp)||void 0===e||e(t.onCancel),Qp=void 0,Xp=void 0)}})}function tf(e,t){e.map((e=>e.getAnimations())).flat().forEach((e=>{e.currentTime=e.effect.getTiming().duration*t}))}function nf(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}const af="jLzZScDB",of="oVsGIXA4",rf=fe((function(e){let{value:t,children:n,className:a,isDisabled:o,onClick:r}=e;const[i,s]=ie(!1);return ge.createElement("div",{onMouseDown:o?void 0:()=>{il(),null==r||r(t),s(!0),setTimeout((()=>{s(!1)}),200)},className:Tr("lnaBx8hc",i&&"qBoIeNzV",a),role:"button",tabIndex:0},t||n)})),sf=Oa.Z2,cf="Transition_slide-active",lf="Transition_slide-from",df="Transition_slide-to",uf="Transition_slide-inactive",mf=cf,pf=df,ff=function(t){let{ref:n,activeKey:a,nextKey:o,prevKey:r,name:i,direction:s="auto",renderCount:c,shouldRestoreHeight:l,shouldCleanup:u,cleanupExceptionKey:m,shouldWrap:p,wrapExceptionKey:f,id:h,className:g,slideClassName:v,withSwipeControl:w,onStart:y,onStop:b,onContainerClick:E,onScroll:C,children:N}=t;const S=me(),{animationLevel:A}=Ve().settings,T=A===e.dnp;let I=me();n&&(I=n);const B=me({}),x=be(a),D=ve(),L=me(!1),O=me(!1),P=void 0!==x&&a!==x;!c&&P&&(B.current={[x]:B.current[x]}),B.current[a]=N,r&&(B.current[r]=N),o&&(B.current[o]=N);const M=-1===s||"auto"===s&&x>a||"inverse"===s&&x<a;le((()=>{function e(){if(!u)return;const e=void 0!==m?B.current[m]:void 0;B.current=e?{[m]:e}:{},D()}const t="slideOptimized"===i||"slideOptimizedRtl"===i,n=I.current,o=Object.keys(B.current).map(Number),r=c?x:o.indexOf(x),s=c?a:o.indexOf(a),p=Array.from(n.childNodes);if(!p.length)return;const f=Array.from(n.children);if(f.forEach((e=>{As(e,"Transition_slide"),v&&v.split(/\s+/).forEach((t=>{As(e,t)}))})),!P){if(L.current)return;return void f.forEach((e=>{e===p[s]?(As(e,cf),t&&Bs(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):t||As(e,uf)}))}if(S.current=a,t){if(!p[s])return;return void function(e,t,n,a,o,r,i,s,c,l,d,u,m){if(e)return Is(s,`Transition-${t}`,!n),Is(s,`Transition-${t}Backwards`,n),l instanceof HTMLElement&&(Ts(l,cf),Bs(l,{transition:"none",transform:""})),c instanceof HTMLElement&&(As(c,cf),Bs(c,{transition:"none",transform:"translate3d(0, 0, 0)"})),void a();"slideOptimizedRtl"===t&&(n=!n),i.current=!0;const p=_();null==u||u(),Is(s,`Transition-${t}`,!n),Is(s,`Transition-${t}Backwards`,n),l instanceof HTMLElement&&Bs(l,{transition:"none",transform:"translate3d(0, 0, 0)"}),c instanceof HTMLElement&&Bs(c,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,k.gm)((()=>(c instanceof HTMLElement&&c.offsetWidth,()=>{l instanceof HTMLElement&&(Ts(l,cf),Bs(l,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),c instanceof HTMLElement&&(As(c,cf),Bs(c,{transition:"",transform:"translate3d(0, 0, 0)"}))}))),qp("transitionend",c,(()=>{const e=c instanceof HTMLElement?c.clientHeight:void 0;(0,k.RK)((()=>{o===r.current?(l instanceof HTMLElement&&Bs(l,{transition:"none",transform:""}),d&&e&&c instanceof HTMLElement&&(Bs(c,{height:"auto"}),Bs(s,{height:`${e}px`})),null==m||m(),p(),i.current=!1,a()):p()}))}),undefined,undefined)}(T,i,M,e,a,S,L,n,p[s],p[r],l,y,b)}if("none"===i||T||O.current)return O.current&&(O.current=!1),p.forEach(((e,t)=>{e instanceof HTMLElement&&(Ts(e,lf),Ts(e,df),Is(e,cf,t===s),Is(e,uf,t!==s))})),void e();p.forEach(((e,t)=>{e instanceof HTMLElement&&(Ts(e,cf),Is(e,lf,t===r),Is(e,df,t===s),Is(e,uf,t!==r&&t!==s))})),L.current=!0;const h=_();function g(){const t=n.querySelector(`.${cf}`),{clientHeight:o}=t||{};(0,k.RK)((()=>{a===S.current?(Ts(n,`Transition-${i}`),Ts(n,`Transition-${i}Backwards`),p.forEach(((e,t)=>{e instanceof HTMLElement&&(Ts(e,lf),Ts(e,df),Is(e,cf,t===s),Is(e,uf,t!==s))})),l&&t&&(Bs(t,{height:"auto"}),Bs(n,{height:`${o}px`})),null==b||b(),h(),L.current=!1,e()):h()}))}null==y||y(),Is(n,`Transition-${i}`,!M),Is(n,`Transition-${i}Backwards`,M);const E="reveal"!==i&&"slideFadeAndroid"!==i||!M?p[s]:p[r];if(E)if(w&&p[r]){const e=Kp(E,g);!function(e,t,n){var a;if(null===(a=Jp)||void 0===a||a(),!Zp)return;const o=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=nf(e.transform);if(t)return t}}(e);if(!o)return;let r;e.getAnimations().forEach((e=>e.pause())),t.getAnimations().forEach((e=>e.pause())),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,k.YS)((()=>{const a=(i=getComputedStyle(e).transform,s=o.axis,i.slice(7,-1).split(",").map(Number)["X"===s?4:5]);var i,s;const c=("px"===o.units?o.value:o.value/100*("X"===o.axis?e.offsetWidth:e.offsetHeight))-a;let l=0;Qp=n=>{let{dragOffsetX:a,dragOffsetY:i}=n;const s="X"===o.axis?a-Gp.dragOffsetX:i-Gp.dragOffsetY,d=Br(s/c,0,1);r=d>l?1:-1,l=d,tf([e,t],l)},Xp=a=>{const o=-1===r;function i(){e.getAnimations().forEach((e=>e.cancel())),t.getAnimations().forEach((e=>e.cancel())),(0,k.RK)((()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""}))}o||Kp(e,i),Jp=(0,d.Hd)({from:l,to:o?0:1,duration:300,timing:jp,onUpdate(n){tf([e,t],n)},onEnd(){Jp=void 0,(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||o)&&(i(),n(),a())}})}}))}(p[r],p[s],(()=>{e(),O.current=!0,null==b||b(),h(),L.current=!1}))}else Kp(E,g,void 0,sf);else g()}),[a,o,x,P,M,i,y,b,c,l,u,v,m,T,D,w]),ce((()=>{if(!l)return;const e=I.current,t=e.querySelector(`.${cf}`)||e.querySelector(`.${lf}`);if(!t)return;const{clientHeight:n}=t||{};n&&(0,k.RK)((()=>{Bs(t,{height:"auto"}),Bs(e,{height:`${n}px`,flexBasis:`${n}px`})}))}),[l,N]);const F=!c,R=B.current,U=Object.keys(c?new Array(c).fill(void 0):R).map(Number).map((e=>{const t=R[e];if(!t)return;const n="function"==typeof t?t(e===a,e===x,e,a):t;return p&&e!==f||F?ge.createElement("div",{key:e,teactOrderKey:e},n):n}));return ge.createElement("div",{ref:I,onScroll:C,onClick:E,id:h,className:Tr("Transition",g),teactFastList:F},U)},hf=4,gf=1500,vf=fe(je((e=>{const{isPinAccepted:t}=e;return{isPinAccepted:t}}),((e,t,n)=>{const{isPinAccepted:a}=e;return n(a)}))((function(t){let{isActive:a,title:o,type:r,value:i,resetStateDelayMs:s=gf,length:c=hf,isPinAccepted:l,className:d,isMinified:u,topContent:m,onBiometricsClick:p,onChange:f,onClearError:h,onSubmit:g,onLogOutClick:v}=t;const{clearIsPinAccepted:w}=Ke(),y=Zc(),b=i.length>0,E="success"===r||l,k=be(l),C=E||i.length===c&&"error"!==r,N=Tr("r4k7w6HQ","error"===r&&af,E&&of),S=gp("error"===r,e.Avc);ce((()=>{k&&!l&&c===i.length&&f("")}),[l,c,f,k,i.length]),ce((()=>w),[]),pi((e=>{let[t]=e;n.bA&&(a?To.clearScrollPatch():t&&To.applyScrollPatch())}),[a]),ce((()=>{if("error"!==r)return;const e=window.setTimeout((()=>{i.length===c&&f(""),null==h||h()}),s);return sl(),()=>{window.clearTimeout(e)}}),[c,f,h,s,r,i.length]),ce((()=>{if(a)return zr(),()=>{Kr()}}),[a]);const A=Wo((e=>{if(i.length!==c&&0!==i.length||null==h||h(),i.length===c)return void f(e);const t=`${i}${e}`;f(t),t.length===c&&g(t)})),T=Wo((()=>{null==h||h(),i.length&&f(i.slice(0,-1))}));return ge.createElement("div",{className:Tr("Lbq2gMzt",d,Yp)},m??ge.createElement("div",{className:N},o),function(){const e=Tr("__vkSP7q","error"===r&&"LI_tisFH",E&&"HnSSbC5N");return ge.createElement("div",{className:e,"aria-hidden":!0},Array.from({length:c},((e,t)=>ge.createElement("div",{key:t,className:Tr("CH4h9HQz",t<i.length&&"r_kAZ0Dm","error"===r&&af,E&&of)}))))}(),ge.createElement("div",{className:Tr("CUQ0KIAI",u&&"MGnO4hqt")},ge.createElement(rf,{value:"1",onClick:A,isDisabled:C}),ge.createElement(rf,{value:"2",onClick:A,isDisabled:C}),ge.createElement(rf,{value:"3",onClick:A,isDisabled:C}),ge.createElement(rf,{value:"4",onClick:A,isDisabled:C}),ge.createElement(rf,{value:"5",onClick:A,isDisabled:C}),ge.createElement(rf,{value:"6",onClick:A,isDisabled:C}),ge.createElement(rf,{value:"7",onClick:A,isDisabled:C}),ge.createElement(rf,{value:"8",onClick:A,isDisabled:C}),ge.createElement(rf,{value:"9",onClick:A,isDisabled:C}),p?ge.createElement(rf,{onClick:p,isDisabled:E},ge.createElement("i",{className:Tr("icon",y?"icon-face-id":"icon-touch-id"),"aria-hidden":!0})):ge.createElement("span",null),ge.createElement(rf,{value:"0",onClick:A,isDisabled:C}),ge.createElement(ff,{name:"zoomFade",activeKey:S&&!i.length?0:1},v&&S&&!i.length?ge.createElement(rf,{className:"nvnxE80n",onClick:v},ge.createElement("i",{className:"icon icon-exit","aria-hidden":!0})):ge.createElement(rf,{className:!b&&"c_i4rWyo",isDisabled:!b||E,onClick:T},ge.createElement("i",{className:"icon icon-backspace","aria-hidden":!0})))))}))),wf={sticker:"ifHfFY2u",label:"C3jlHNpF",title:"kC9WGOYP",errorMessage:"q8niLQND",verify:"SDEJGboy",error:"ZokzPDAj",pinPadHeader:"sftOkqxr",closeButton:"twjZlrDJ",autoConfirmCheckbox:"MgA9JMMb",logOutWrapper:"N0lWn9sM",logOutButton:"jhtp0Nsp"},yf=180,[bf,Ef]=E(Date.now());function kf(e){e&&Io(e),Ef(Date.now())}const Cf=fe(je((e=>{const{isPasswordNumeric:t,authConfig:n,isAutoConfirmEnabled:a}=e.settings;return{isPasswordNumeric:t,isBiometricAuthEnabled:Nt(e),isNativeBiometricAuthEnabled:St(e),authConfig:n,isAutoConfirmEnabled:a}}))((function(t){let{isActive:o,isLoading:r,operationType:i,isPasswordNumeric:s,isBiometricAuthEnabled:c,isNativeBiometricAuthEnabled:d,authConfig:u,cancelLabel:m,submitLabel:p,stickerSize:f=yf,placeholder:h="Enter your password",error:g,help:v,resetStateDelayMs:w,containerClassName:y,pinPadClassName:b,children:E,withCloseButton:k,noAnimatedIcon:C,inputWrapperClassName:N,forceBiometricsInMain:S,skipAuthScreen:A,isAutoConfirmEnabled:T,onUpdate:I,onCancel:B,onSubmit:_}=t;const{openSettings:x,setInMemoryPassword:D,setIsAutoConfirmEnabled:L}=Ke(),O=Ar(),P=me(),M=function(e){const t=de((()=>im()),[]);return t&&!e.current&&sm().then((t=>{e.current=t})),t}(P),F=A&&M,R=me(),[U,W]=ie(""),[H,$]=ie(""),[V,z]=ie(0),[K,q,j]=ju(!1),{isSmallHeight:Y,isPortrait:G}=ui(),Q=!U.length&&!F,X=tl(),[J,Z,ee]=ju(!1),te=gp(!!g||!!H,e.Avc),ne=function(t){const{showDialog:n}=Ke();return Wo((()=>{n({title:"$storage_cleared_title",message:Nr("$storage_cleared_message",{support_link:ge.createElement("a",{href:`https://t.me/${e.Fkn}`,target:"_blank",rel:"noreferrer"},"@",e.Fkn)}),buttons:{cancel:{title:"Cancel"},confirm:{title:"Log Out",isDestructive:!0,action:"signOutAll"}},noBackdropClose:!0,isInAppLock:"unlock"===t})}))}(i);ce((()=>{o&&($(""),W(""),z(0))}),[o]);const ae=Wo((async e=>{const t=F?P.current:e;if(_(t),F)return;const n=await(0,a.p)("verifyPassword",t);if(!n&&!await(0,a.p)("checkWorkerStorageIntegrity"))return ne();n&&D({password:t})})),oe=Wo((()=>{ae(U)})),re=Wo((async()=>{try{$("");const e=await ko(u);e?ae(e):(z(V+1),$("Biometric confirmation failed"),n.xy&&V>2&&q())}catch(e){$(e.message||O("Something went wrong."))}}));ce((()=>{n.KI&&!S||!o||!c||F||(0,l.v7)(300).then(re)}),[S,re,o,c,F]),ye((()=>bf.subscribe(re))),hp(R,!o||c);const se=Wo((()=>{$(""),I()})),le=Wo((()=>{j(),null==B||B(),x()})),ue=Wo((e=>{W(e),g&&I()})),pe=Wo((e=>{L({isEnabled:e})})),fe=Wo((e=>{Io(e),Z()}));ce((()=>Q||r?void 0:Wr({onEnter:oe})),[oe,r,Q]);const he="unlock"===i,ve=Tr(Ks.footerButtons,he&&Ks.footerButtonFullWidth);function we(){return ge.createElement("div",{className:ve},B&&ge.createElement(Vs,{isLoading:r&&c,isDisabled:r&&!c,className:Ks.buttonHalfWidth,onClick:B},m||O("Cancel")),c&&Boolean(H)&&ge.createElement(Vs,{isPrimary:!0,isLoading:r,isDisabled:r,className:Ks.buttonHalfWidth,onClick:r?void 0:re,shouldStopPropagation:!0},O("Try Again")),(!c||F)&&ge.createElement(Vs,{isPrimary:!0,isLoading:r,isDisabled:Q,className:he?Ks.buttonFullWidth:Ks.buttonHalfWidth,onClick:r?void 0:oe},p||O("Send")))}function be(){return ge.createElement(vp,{checked:!!T,onChange:pe,className:wf.autoConfirmCheckbox},O("Remember for %1$d minutes",e.gbw))}const Ee="turnOnBiometrics"!==i&&!c;if(X){const t=Boolean(H||g),n=function(){switch(i){case"unfreeze":return"Confirm Unfreezing";case"passcode":case"turnOnBiometrics":return"Confirm Passcode";case"transfer":case"sending":return"Confirm Sending";case"staking":return"Confirm Staking";case"unstaking":return"Confirm Unstaking";case"swap":return"Confirm Swap";case"unlock":return;case"claim":return"Confirm Rewards Claim";case"mintCard":return"Confirm Upgrading";default:return"Confirm Action"}}(),a=O(d?Zc()?"Enter code or use Face ID":el()?"Enter code or use Touch ID":"Enter code or use biometrics":"Enter code"),r=ge.createElement(ge.Fragment,null,k&&ge.createElement(Vs,{isRound:!0,className:Tr(Ks.closeButton,wf.closeButton),ariaLabel:O("Close"),onClick:B},ge.createElement("i",{className:Tr(Ks.closeIcon,"icon-close"),"aria-hidden":!0})),ge.createElement("div",{className:wf.pinPadHeader},G&&!C&&ge.createElement($p,{play:o,tgsUrl:fp.guard,previewUrl:fp.guardPreview,noLoop:!1,nonInteractive:!0}),!Y&&n&&ge.createElement("div",{className:wf.title},O(n)),E),F?we():ge.createElement(vf,{isActive:o,title:O(t?H||g:Y&&n?n:a),type:t?"error":void 0,length:e.NEx,resetStateDelayMs:w,value:U,topContent:Ee?be():void 0,className:b,onBiometricsClick:d?re:void 0,onLogOutClick:"unlock"===i?Z:void 0,onChange:W,onClearError:se,onSubmit:ae}),"unlock"===i&&ge.createElement(yp,{isOpen:J,onClose:ee,isInAppLock:!0}));return F?ge.createElement("div",{className:Ks.transitionContent},r):r}return ge.createElement("div",{className:Tr(Ks.transitionContent,y)},!C&&ge.createElement($p,{tgsUrl:fp.holdTon,previewUrl:fp.holdTonPreview,play:o,size:f,nonInteractive:!0,noLoop:!1,className:wf.sticker}),E,!F&&(c?function(){const e=H||g;return e?ge.createElement("div",{className:wf.error},O(e)):ge.createElement("div",{className:wf.verify},O("transfer"===i?"Please confirm transaction using biometrics":"Please confirm operation using biometrics"))}():ge.createElement(ge.Fragment,null,ge.createElement(zp,{ref:R,type:"password",isRequired:!0,id:"first-password",wrapperClassName:N,inputMode:s?"numeric":void 0,error:g?O(g):H,placeholder:O(h),value:U,onInput:ue,maxLength:s?e.NEx:void 0}),H&&ge.createElement("div",{className:wf.errorMessage},O(H)),v&&!g&&ge.createElement("div",{className:wf.label},v),Ee&&be())),te&&"unlock"===i&&ge.createElement("div",{className:wf.logOutWrapper},O("Can't confirm?"),ge.createElement("span",{role:"button",tabIndex:0,className:wf.logOutButton,onClick:fe},O("Exit all wallets"),ge.createElement("i",{className:Tr("icon-chevron-right",wf.detailsIcon),"aria-hidden":!0}))),we(),ge.createElement(Zs,{isOpen:K,isCompact:!0,title:O("Biometric authentication failed"),onClose:j},ge.createElement("p",{className:Ks.text},O("Reinstall biometrics in your device's system settings, or use a passcode.")),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{className:Ks.button,onClick:j},O("Close")),ge.createElement(Vs,{isPrimary:!0,className:Ks.button,onClick:le},O("Settings")))),"unlock"===i&&ge.createElement(yp,{isOpen:J,onClose:ee,isInAppLock:!0}))}))),Nf=window.matchMedia("(prefers-color-scheme: dark)"),Sf=function(e){const[t,n]=ie("system"===e?Nf.matches?"dark":"light":e),a=Wo((()=>{n((()=>"system"===e?Nf.matches?"dark":"light":e))}));return ce((()=>{if("system"===e)return Nf.addEventListener("change",a),()=>{Nf.removeEventListener("change",a)}}),[e]),a(),t},Af=new Set,Tf=fe((function(e){let{url:t,alt:n,loading:a,isSlow:o,className:r,imageClassName:i,children:s,fallback:c}=e;const l=me(),[d,u]=ju(Af.has(t)),[m,p]=ju(),f=(m||!t)&&!!c,h=Ep(d||f);return ge.createElement("div",{ref:h,className:r,style:o?"transition-duration: 0.5s;":void 0},f?c:ge.createElement("img",{ref:l,src:t,alt:n,loading:a,className:i,draggable:!1,referrerPolicy:"same-origin",onLoad:d?void 0:()=>{u(),Af.add(t)},onError:p}),s)})),If="a0ISx2DN",Bf="Mg8ZA3ww",_f="AfTARhCR",xf=i.p+"logoCoreWallet.7209423c2390840b4a91.svg",Df=i.p+"logoDark.db78fa7a76eea19a30e7.svg",Lf=i.p+"logoLight.c9797ad4583a416a16c9.svg",Of=fe((function(t){let{theme:n}=t;const a=Ar(),o=Sf(n),r=e.TI6?xf:"light"===o?Lf:Df;return ge.createElement("div",{className:_f},ge.createElement(Tf,{className:_f,imageClassName:_f,url:r,alt:a("Logo")}))})),Pf=fe((function(t){let{isActive:n,ref:o,theme:r,innerContentTopPosition:i=0,shouldHideBiometrics:s,onSubmit:c}=t;const l=Ar(),{setIsPinAccepted:d}=Ke(),[u,m]=ie(""),p=Wo((async e=>{await(0,a.p)("verifyPassword",e)?(tl()&&(d(),await cl(!0)),c()):m("Wrong password, please try again.")})),f=Wo((()=>m("")));return ge.createElement("div",{ref:o,className:If,style:`--position-top: ${i}px;`},ge.createElement(Cf,{isActive:!(!n||Jc()&&s),noAnimatedIcon:!0,forceBiometricsInMain:!0,error:u,resetStateDelayMs:300,operationType:"unlock",containerClassName:Tr("y8VDu2CW","custom-scroll"),pinPadClassName:"TBzkDy1l",inputWrapperClassName:"lpSqrTfE",submitLabel:l("Unlock"),onSubmit:p,onUpdate:f},ge.createElement(Of,{theme:r}),ge.createElement("span",{className:Tr(Bf,"rounded-font")},e.C39)))})),Mf=fe((function(t){let{ref:n,theme:a,innerContentTopPosition:o=0,handleChangeSlideForBiometricAuth:r}=t;const i=Ar();return ge.createElement("div",{ref:n,className:If,style:`--position-top: ${o}px;`},ge.createElement(Of,{theme:a}),ge.createElement("span",{className:Tr(Bf,"rounded-font")},e.C39),ge.createElement(Vs,{isPrimary:!0,onClick:r},i("Unlock")))})),Ff=["focus","mousemove","touch","wheel","keydown"],Rf={capture:!0};var Uf=function(e){return e[e.button=0]="button",e[e.passwordForm=1]="passwordForm",e}(Uf||{});const[Wf,Hf]=E(Date.now());const $f=fe(je((t=>{const{autolockValue:n,isAppLockEnabled:a}=t.settings,o=bt(t),r=Nt(t),i=St(t);return{isNonNativeBiometricAuthEnabled:r&&(!i||e.tKX),autolockValue:n,canRender:Boolean(a&&o),isAppLockEnabled:a,theme:t.settings.theme,isManualLockActive:t.isManualLockActive,shouldHideBiometrics:t.appLockHideBiometrics}}))((function(t){let{isNonNativeBiometricAuthEnabled:a,autolockValue:o="never",theme:r,isManualLockActive:i,isAppLockEnabled:s,shouldHideBiometrics:c,canRender:l}=t;const{clearIsPinAccepted:d,submitAppLockActivityEvent:u,setIsManualLockActive:m,setIsAppLockActive:p}=Ke(),[f,h,g,v]=function(e,t,n){const a=me(!0),o=me("never"!==e||t),r=me(),i=ve();o.current&&!n&&(o.current=!1);const s=Wo((()=>{o.current=!0,i()})),c=Wo((()=>{o.current=!1,r.current=void 0,i()}));return r.current=!t||a.current&&"never"!==e?"autolock":"manual",a.current=!1,[!!o.current,s,c,r.current]}(o,!!i,l),[w,y,b]=ju(f),E=me(Date.now()),{ref:k,innerContentTopPosition:C,unfixSlide:N,slideForBiometricAuth:S,setSlideForBiometricAuth:A,getDefaultSlideForBiometricAuth:T}=function(e,t,n){const a=me();function o(){return(Sl()||"manual"===n)&&e?Uf.button:Uf.passwordForm}const[r,i]=ie(o()),[s,c]=ie(),l=void 0!==s,d=!tl()&&e;function u(e){const n=a.current;if(n&&(!l||e)&&t&&d){const e=n.getBoundingClientRect().top;c(e)}}function m(){c(void 0)}ce((()=>{u()}),[t]);const{height:p}=Zu();return ce((()=>{d&&(m(),requestAnimationFrame((()=>u(!0))))}),[p]),{ref:a,innerContentTopPosition:s,unfixSlide:m,slideForBiometricAuth:r,setSlideForBiometricAuth:i,getDefaultSlideForBiometricAuth:o}}(a,f,v),I=Wo((()=>{n.bA?u():E.current=Date.now()})),B=Xu(I,[I],5e3),_=Wo((()=>{var e;b(),A(T()),null===(e=nc())||void 0===e||e.show(),d(),I(),m({isActive:void 0,shouldHideBiometrics:void 0}),n.KI&&To.show(),N(),p({isActive:!1}),il()})),x=de((()=>e.zTb.find((e=>e.value===o)).period),[o]),{ref:D}=Rs({isOpen:f,noMountTransition:!0,className:"slow",onCloseAnimationEnd:_});ce((()=>{f!==Ve().isAppLockActive&&p({isActive:!!f})}),[f]);const L=Wo((()=>{var e;h(),y(),document.activeElement&&document.activeElement.blur(),n.KI&&To.hide(),null===(e=nc())||void 0===e||e.hide(),A(T()),p({isActive:!0})})),O=Wo((()=>{("never"!==o||i)&&l&&L()}));e.Oig&&(window.lock=O),!i||f||w||O();const P=Wo((()=>{A(Uf.passwordForm)}));ye((()=>{for(const e of Ff)window.addEventListener(e,B,Rf);return()=>{for(const e of Ff)window.removeEventListener(e,B,Rf)}})),ye((()=>{if(!n.bA)return Wf.subscribe(B)}));const M=Wo((e=>{Io(e),m({isActive:!0,shouldHideBiometrics:!0})}));Qu(de((()=>s&&!f?{"Ctrl+Shift+L":M,"Alt+Shift+L":M,"Meta+Shift+L":M,...n.cp&&{"Mod+L":M}}:void 0),[s,f])),ce((()=>{if(n.bA)return;const e=setInterval((()=>{s&&!f&&Date.now()-E.current>x&&O()}),5e3);return()=>clearInterval(e)}),[f,x,O,s]),Nl(void 0,P);const F=Number(S===Uf.passwordForm)+2*Number(w),R=a?S===Uf.passwordForm?e.tKX?void 0:kf:P:void 0;if(Qu(de((()=>s&&f&&R?{Space:R,Enter:R,Escape:R}:void 0),[s,f,R])),!n.bA)return ge.createElement(ff,{ref:D,name:a&&e.tKX?"slideFade":"semiFade",onContainerClick:R,activeKey:F,className:"F1wWh0wj",shouldCleanup:!0},w?function(e){return ge.createElement("div",{className:Tr("VzAZj1DO",void 0!==C&&"bO3Yeq_N",tl()&&S===Uf.passwordForm&&"KGdyJD8j")},S===Uf.button&&a?ge.createElement(Mf,{ref:k,theme:r,innerContentTopPosition:C,handleChangeSlideForBiometricAuth:P}):ge.createElement(Pf,{ref:k,isActive:e,theme:r,innerContentTopPosition:C,shouldHideBiometrics:!!c,onSubmit:g}))}:void 0)}))),Vf=n.xy?`${e.p8S?e.yq6:e.DvZ}/version.txt`:"version.txt";qe("showActivityInfo",((e,t,a)=>{let{id:o}=a;if(!n.bA)return zl(e,{currentActivityId:o});Dl("showActivityInfo",{id:o})})),qe("showAnyAccountTx",(async(e,t,a)=>{let{txId:o,accountId:r,network:i}=a;n.bA?Dl("showAnyAccountTx",{txId:o,accountId:r,network:i}):(await Promise.all([ac(),Pd(e,r,i)]),t.showActivityInfo({id:o}))})),qe("showAnyAccountTokenActivity",(async(e,t,a)=>{let{slug:o,accountId:r,network:i}=a;n.bA?Dl("showAnyAccountTokenActivity",{slug:o,accountId:r,network:i}):(await Promise.all([ac(),Pd(e,r,i)]),t.showTokenActivity({slug:o}))})),qe("closeActivityInfo",((e,t,n)=>{var a;let{id:o}=n;if((null===(a=ct(e))||void 0===a?void 0:a.currentActivityId)===o)return zl(e,{currentActivityId:void 0})})),qe("addSavedAddress",((e,t,n)=>{let{address:a,name:o,chain:r}=n;const{savedAddresses:i=[]}=ct(e)||{};return zl(e,{savedAddresses:[...i,{address:a,name:o,chain:r}]})})),qe("removeFromSavedAddress",((e,t,n)=>{let{address:a,chain:o}=n;const{savedAddresses:r=[]}=ct(e)||{};return zl(e,{savedAddresses:r.filter((e=>!(e.address===a&&e.chain===o)))})})),qe("toggleTinyTransfersHidden",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,areTinyTransfersHidden:n}}})),qe("setCurrentTokenPeriod",((e,t,n)=>{let{period:a}=n;return zl(e,{currentTokenPeriod:a})})),qe("addAccount",(async(e,t,o)=>{let{method:r,password:i,isAuthFlow:s}=o;const c=bt(e),l="importMnemonic"===r;if(c){if(s||(e=Rl(e,{isLoading:!0}),ze(e)),!await(0,a.p)("verifyPassword",i))return e=Ve(),e=s?Fl(e,{isLoading:void 0,error:"Wrong password, please try again."}):Rl(Ve(),{isLoading:void 0,error:"Wrong password, please try again."}),void ze(e);tl()&&(e=Ul(Ve()),ze(e)),await cl(!0)}e=Ve(),e=l||!c?{...e,isAddAccountModalOpen:void 0}:Rl(e,{isLoading:!0}),ze(e),n.bA?Dl("addAccount2",{method:r,password:i}):t.addAccount2({method:r,password:i})})),qe("addAccount2",((e,t,a)=>{let{method:o,password:r}=a;const i="importMnemonic"===o,s=bt(e),c=s?i?Tn.importWallet:void 0:tl()?Tn.createPin:n.uh?Tn.createBiometrics:Tn.createPassword;!i&&s||(e={...e,appState:An.Auth}),e=od(e=sd(e=Fl(e,{password:r,state:c}))),ze(e),i?t.startImportingWallet():t.startCreatingWallet()})),qe("renameAccount",((e,t,n)=>{let{accountId:a,title:o}=n;e={...e,shouldForceAccountEdit:!1},ze(function(e,t,n){return $l(e,t,{title:n})}(e,a,o)),t.renameNotificationAccount({accountId:a})})),qe("clearAccountError",(e=>Rl(e,{error:void 0}))),qe("openAddAccountModal",((e,t,a)=>{const{forceAddingTonOnlyAccount:o}=a||{};!n.bA||e.areSettingsOpen?(e={...e,isAddAccountModalOpen:!0},o&&(e=Fl(e,{forceAddingTonOnlyAccount:o})),ze(e)):Dl("openAddAccountModal",a)})),qe("closeAddAccountModal",((e,t,n)=>(tl()&&(e=Wl(e)),e=Fl(e,{forceAddingTonOnlyAccount:void 0}),{...e,isAddAccountModalOpen:void 0}))),qe("changeNetwork",((e,t,n)=>{let{network:a}=n;return{...e,settings:{...e.settings,isTestnet:"testnet"===a}}})),qe("openSettings",(e=>(e=ql(e,{state:$n.Initial}),{...e,areSettingsOpen:!0}))),qe("openSettingsWithState",((e,t,a)=>{let{state:o}=a;!n.bA||e.areSettingsOpen?(e=ql(e,{state:o}),ze({...e,areSettingsOpen:!0})):Dl("openSettingsWithState",{state:o})})),qe("setSettingsState",((e,t,n)=>{let{state:a}=n;e=ql(e,{state:a}),ze(e)})),qe("closeSettings",(e=>e.currentAccountId?{...e,areSettingsOpen:!1}:e)),qe("openBackupWalletModal",(e=>{if(!n.bA)return{...e,isBackupWalletModalOpen:!0};Dl("openBackupWalletModal")})),qe("closeBackupWalletModal",(e=>({...e,isBackupWalletModalOpen:void 0}))),qe("toggleInvestorView",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,isInvestorViewEnabled:n}}})),qe("changeLanguage",((e,t,n)=>{let{langCode:a}=n;return{...e,settings:{...e.settings,langCode:a}}})),qe("toggleCanPlaySounds",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,canPlaySounds:n}}})),qe("setLandscapeActionsActiveTabIndex",((e,t,n)=>{let{index:a}=n;return zl(e,{landscapeActionsActiveTabIndex:a})})),qe("closeSecurityWarning",(e=>({...e,settings:{...e.settings,isSecurityWarningHidden:!0}}))),qe("toggleTokensWithNoCost",((e,t,n)=>{let{isEnabled:a}=n;return ql(e,{areTokensWithNoCostHidden:a})})),qe("toggleSortByValue",((e,t,n)=>{let{isEnabled:a}=n;return ql(e,{isSortByValueEnabled:a})})),qe("updateOrderedSlugs",((e,t,n)=>{let{orderedSlugs:a}=n;return Yl(e,{...ut(e),orderedSlugs:a})})),qe("toggleTokenVisibility",((e,t,n)=>{let{slug:a,shouldShow:o}=n;const r=ut(e)??{},{alwaysShownSlugs:i=[],alwaysHiddenSlugs:s=[]}=r,c=new Set(i),l=new Set(s);return o?(l.delete(a),c.add(a)):(c.delete(a),l.add(a)),Yl(e,{...r,alwaysHiddenSlugs:Array.from(l),alwaysShownSlugs:Array.from(c)})})),qe("deleteToken",((e,t,n)=>{var a,o,r,i;let{slug:s}=n;const c=ut(e)??{};return Yl(e,{...c,orderedSlugs:null===(a=c.orderedSlugs)||void 0===a?void 0:a.filter((e=>e!==s)),alwaysHiddenSlugs:null===(o=c.alwaysHiddenSlugs)||void 0===o?void 0:o.filter((e=>e!==s)),alwaysShownSlugs:null===(r=c.alwaysShownSlugs)||void 0===r?void 0:r.filter((e=>e!==s)),deletedSlugs:[...c.deletedSlugs??[],s],importedSlugs:null===(i=c.importedSlugs)||void 0===i?void 0:i.filter((e=>e!==s))})})),qe("checkAppVersion",(t=>{fetch(`${Vf}?${Date.now()}`).then((e=>e.text())).then((n=>{(function(e,t){const n=e.trim();return!!qu.test(n)&&n!==t})(n=n.trim(),e.hl5)&&(t=Ve(),t={...t,isAppUpdateAvailable:!0,latestAppVersion:n.trim()},ze(t))})).catch((t=>{e.Oig&&console.error("[checkAppVersion failed] ",t)}))})),qe("requestConfetti",(t=>t.settings.animationLevel===e.dnp?t:{...t,confettiRequestedAt:Date.now()})),qe("requestOpenQrScanner",(async(e,t)=>{if((0,n.v3)()){const e=no();return void(null==e||e.showScanQrPopup({},(n=>{cl(),e.closeScanQrPopup(),t.handleQrCode({data:n})})))}if(n.bA)return void Dl("requestOpenQrScanner");let a;e.currentTransfer.state===Bn.Initial?a={currentTransfer:e.currentTransfer}:e.currentSwap.state===On.Blockchain?a={currentSwap:e.currentSwap}:e.currentDomainLinking.state===Ln.Initial&&(a={currentDomainLinking:e.currentDomainLinking});const{camera:o}=await Ku.requestPermissions();"granted"===o||"limited"===o?(e=Ve(),e={...e,isQrScannerOpen:!0,currentQrScan:a},ze(e)):t.showNotification({message:Nr("Permission denied. Please grant camera permission to use the QR code scanner.")})})),qe("closeQrScanner",(e=>(n.bA&&Dl("closeQrScanner"),{...e,isQrScannerOpen:void 0,currentQrScan:void 0}))),qe("handleQrCode",(async(e,t,a)=>{let{data:o}=a;if(n.bA)return void Dl("handleQrCode",{data:o});const{currentTransfer:r,currentSwap:i,currentDomainLinking:s}=e.currentQrScan||{};if(r){const n=Tc(o,e);return void(n?("error"in n&&t.showError({error:n.error}),ze(id(e,{...r,...(0,c.cJ)(n,["error"])}))):ze(dd(id(e,r),o)))}if(i||s){const t=Tc(o,e),n=(null==t?void 0:t.toAddress)??o;return void ze(i?ad(e,{...i,toAddress:n}):Dd(e,{...s,walletAddress:n}))}if(await Ec(o))return;const l=function(e,t){var n;const a=function(e,t){for(const n of Object.keys(t))if(va(e,n))return n}(t,(null===(n=rt(e))||void 0===n?void 0:n.addressByChain)??{});if(!a)return;const o=e.currentTransfer.tokenSlug;return{toAddress:t,tokenSlug:a!==ea(o)?Zn(a).slug:o}}(e=Ve(),o);l?t.startTransfer({...l,isPortrait:mi()}):t.showDialog({title:"This QR Code is not supported",message:""})})),qe("changeBaseCurrency",(async(e,t,o)=>{let{currency:r}=o;n.bA&&Dl("changeBaseCurrency",{currency:r}),await(0,a.p)("setBaseCurrency",r),await(0,a.p)("tryUpdateTokens"),await(0,a.p)("tryUpdateSwapTokens")})),qe("setIsPinAccepted",(e=>Ul(e))),qe("clearIsPinAccepted",(e=>(n.bA&&Dl("clearIsPinAccepted"),Wl(e)))),qe("openOnRampWidgetModal",((e,t,a)=>{let{chain:o}=a;n.bA?Dl("openOnRampWidgetModal",{chain:o}):ze({...e,chainForOnRampWidgetModal:o})})),qe("closeOnRampWidgetModal",(e=>{ze({...e,chainForOnRampWidgetModal:void 0})})),qe("openMediaViewer",((e,t,n)=>{let{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}=n;const c=ct(e),{byAddress:l}=(null==c?void 0:c.nfts)||{};if(null==l?void 0:l[a])return{...e,mediaViewer:{mediaId:a,mediaType:o,txId:r,hiddenNfts:i,noGhostAnimation:s}}})),qe("closeMediaViewer",(e=>({...e,mediaViewer:{mediaId:void 0,mediaType:void 0}}))),qe("setReceiveActiveTab",((e,t,n)=>{let{chain:a}=n;return zl(e,{receiveModalChain:a})})),qe("openReceiveModal",((e,t,a)=>{n.bA?Dl("openReceiveModal",a):(e=zl(e,{receiveModalChain:null==a?void 0:a.chain}),e={...e,isReceiveModalOpen:!0},ze(e))})),qe("closeReceiveModal",(e=>(e=zl(e,{receiveModalChain:void 0}),{...e,isReceiveModalOpen:void 0}))),qe("openInvoiceModal",((e,t,a)=>{n.bA?Dl("openInvoiceModal",a):(e=zl(e,{invoiceTokenSlug:null==a?void 0:a.tokenSlug}),ze({...e,isInvoiceModalOpen:!0}))})),qe("changeInvoiceToken",((e,t,a)=>{n.bA&&Dl("changeInvoiceToken",a),e=zl(e,{invoiceTokenSlug:a.tokenSlug}),ze(e)})),qe("closeInvoiceModal",(e=>(e=zl(e,{invoiceTokenSlug:void 0}),{...e,isInvoiceModalOpen:void 0}))),qe("showIncorrectTimeError",((e,t)=>(t.showDialog({message:Nr("Time synchronization issue. Please ensure your device's time settings are correct.")}),{...e,isIncorrectTimeNotificationReceived:!0}))),qe("openLoadingOverlay",(e=>{ze({...e,isLoadingOverlayOpen:!0})})),qe("closeLoadingOverlay",(e=>{ze({...e,isLoadingOverlayOpen:void 0})})),qe("clearAccountLoading",(e=>{n.bA&&Dl("clearAccountLoading"),ze(Rl(e,{isLoading:void 0}))})),qe("setIsAccountLoading",((e,t,n)=>{let{isLoading:a}=n;ze(Rl(e,{isLoading:a}))})),qe("authorizeDiesel",(t=>{const n=rt(t).addressByChain.ton;if(!n)throw new Error("TON address missing");ze(zl(t,{isDieselAuthorizationStarted:!0})),ic(`https://t.me/${e.B9l}?start=auth-${n}`)})),qe("submitAppLockActivityEvent",(()=>{n.bA?Dl("submitAppLockActivityEvent"):Hf(Date.now())})),qe("closeAnyModal",(()=>{n.bA?Dl("closeAnyModal"):Gs(Date.now())})),qe("openExplore",(e=>({...e,isExploreOpen:!0}))),qe("closeExplore",(e=>({...e,isExploreOpen:void 0}))),qe("openFullscreen",(e=>{ze({...e,isFullscreen:!0}),il()})),qe("closeFullscreen",(e=>{ze({...e,isFullscreen:void 0}),il()})),qe("setIsSensitiveDataHidden",((e,t,n)=>{let{isHidden:a}=n;ze(ql(e,{isSensitiveDataHidden:!!a||void 0})),il()})),qe("setIsAppLockActive",((e,t,a)=>{let{isActive:o}=a;n.KI&&Ll("setIsAppLockActive",{isActive:o}),ze({...e,isAppLockActive:o||void 0})})),qe("switchAccountAndOpenUrl",(async(e,t,a)=>{n.bA?Dl("switchAccountAndOpenUrl",a):(await Promise.all([ac(),a.accountId&&Pd(e,a.accountId,a.network)]),await bc(a.url,a))})),qe("switchToWallet",((e,t)=>{const{areSettingsOpen:n,isExploreOpen:a}=e,o=ct(e),r=(null==o?void 0:o.activeContentTab)===Kn.Assets,i=!a&&!n;t.closeExplore(void 0,{forceOnHeavyAnimation:!0}),t.closeSettings(void 0,{forceOnHeavyAnimation:!0}),!r&&i&&(t.selectToken({slug:void 0},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:Kn.Assets},{forceOnHeavyAnimation:!0}))})),qe("switchToExplore",((e,t)=>{const{isExploreOpen:n}=e;n&&t.closeSiteCategory(void 0,{forceOnHeavyAnimation:!0}),t.closeSettings(void 0,{forceOnHeavyAnimation:!0}),t.openExplore(void 0,{forceOnHeavyAnimation:!0})})),qe("switchToSettings",((e,t)=>{t.closeExplore(void 0,{forceOnHeavyAnimation:!0}),t.openSettings(void 0,{forceOnHeavyAnimation:!0})})),qe("setAppLayout",((e,t,o)=>{let{layout:r}=o;var i;n.cp?null===(i=window.electron)||void 0===i||i.changeAppLayout(r):(0,a.p)("setAppLayout",r)})),qe("clearDappConnectRequestError",(e=>{e=function(e){return{...e,dappConnectRequest:{...e.dappConnectRequest,error:void 0}}}(e),ze(e)})),qe("showDappTransferTransaction",((e,t,n)=>{const{transactionIdx:a}=n;e=gd(e,{state:Bn.Confirm,viewTransactionOnIdx:a}),ze(e)})),qe("setDappTransferScreen",((e,t,n)=>{const{state:a}=n;e=gd(e,{state:a}),ze(e)})),qe("submitDappTransferConfirm",(async(e,t)=>{const n=await sm();pt(e=Ve())?(e=gd(e=Od(e),{state:Bn.ConnectHardware}),ze(e)):n?(e=gd(e,{isLoading:!0}),ze(e),t.submitDappTransferPassword({password:n})):(e=gd(e,{state:Bn.Password}),ze(e))})),qe("clearDappTransferError",(e=>{e=gd(e,{error:void 0}),ze(e)})),qe("openBrowser",((e,t,n)=>{let{url:a,title:o,subtitle:r}=n;e={...e,currentBrowserOptions:{url:a,title:o,subtitle:r}},ze(e)})),qe("closeBrowser",(e=>{e={...e,currentBrowserOptions:void 0},ze(e)})),qe("addSiteToBrowserHistory",((t,n,a)=>{let{url:o}=a;const r=ct(t);t=zl(t,{browserHistory:(0,c.Am)([o,...(null==r?void 0:r.browserHistory)||[]]).slice(0,e.uSm)}),ze(t)})),qe("removeSiteFromBrowserHistory",((e,t,n)=>{var a;let{url:o}=n;const r=ct(e),i=null==r||null===(a=r.browserHistory)||void 0===a?void 0:a.filter((e=>e!==o));e=zl(e,{browserHistory:null!=i&&i.length?i:void 0}),ze(e)})),qe("updateDappLastOpenedAt",((e,t,n)=>{let{url:a}=n;const{dappLastOpenedDatesByUrl:o}=ct(e);e=zl(e,{dappLastOpenedDatesByUrl:{...o,[a]:Date.now()}}),ze(e)})),qe("openSiteCategory",((e,t,n)=>{let{id:a}=n;return zl(e,{currentSiteCategoryId:a})})),qe("closeSiteCategory",(e=>zl(e,{currentSiteCategoryId:void 0}))),qe("closeDappTransfer",(e=>{e=gd(e,{state:Bn.None}),ze(e)})),qe("setDappSignDataScreen",((e,t,n)=>{const{state:a}=n;return wd(e,{state:a})})),qe("submitDappSignDataConfirm",(async(e,t)=>{const n=await sm();e=Ve(),n?(e=wd(e,{isLoading:!0}),ze(e),t.submitDappSignDataPassword({password:n})):(e=wd(e,{state:xn.Password}),ze(e))})),qe("clearDappSignDataError",(e=>wd(e,{error:void 0}))),qe("closeDappSignData",(e=>wd(e,{state:xn.None})));var zf=i(51915),Kf=i(99544);async function qf(a,o,r){let s=Ve();ze(Ld(s,{hardwareState:Un.Connecting,hardwareWallets:void 0,isLedgerConnected:void 0,isTonAppConnected:void 0}));const c=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),d=await c.connectLedger(a);var u;if(s=Ve(),!d)return!e.hL1||n.Fe||r?(s=Ld(s,{isLedgerConnected:!1,hardwareState:Un.Failed}),"usb"===a&&null!==(u=s.hardware.availableTransports)&&void 0!==u&&u.includes("bluetooth")&&(s=Ld(s,{lastUsedTransport:"bluetooth"})),void ze(s)):async function(e){ze(Ld(Ve(),{hardwareState:Un.WaitingForRemoteTab})),await(0,l.v7)(500);const t=await(0,zf.nm)(),n=await chrome.windows.getCurrent();await new Promise((e=>(0,zf.i6)(t,e))),await chrome.windows.update(n.id,{focused:!0}),await qf(e,!1,!0)}(a);if(ze(Ld(s,{isLedgerConnected:!0})),n.Fe)return(0,zf.ks)();try{const e=await c.waitLedgerTonApp();if(s=Ve(),!e)return void ze(Ld(s,{isTonAppConnected:!1,hardwareState:Un.Failed}));ze(Ld(s,{isTonAppConnected:!0}));const t=await async function(e){const t=Ve(),n=ot(t),a=function(e,t){const n=ft(e,t),a=null==n?void 0:n.map((e=>e.ledger.index)).sort(((e,t)=>e-t));if(0===a.length||0!==a[0])return-1;if(1===a.length)return 0;for(let e=1;e<a.length;e++)if(a[e]-a[e-1]!==1)return e-1;return a.length-1}(t,n),o=ft(t,n).map((e=>e.addressByChain.ton)).filter(Boolean),r=await e.getNextLedgerWallets(n,a,o);if("error"in r)throw Ke().showError({error:r.error}),Error(r.error);return r}(c),n=1===t.length?Un.ConnectedWithSingleWallet:Un.ConnectedWithSeveralWallets;ze(Ld(Ve(),{hardwareWallets:t,hardwareState:n,lastUsedTransport:a}))}catch(e){const n=(0,Kf.HN)(e.name);if(n&&!o)return qf(a,!0,r);s=Ve(),ze(Ld(s,{isLedgerConnected:!n,isTonAppConnected:n?void 0:s.hardware.isTonAppConnected,hardwareState:Un.Failed})),(0,t.SJ)("connectHardwareWallet",e)}}let jf;qe("initLedgerPage",(e=>({...e,appState:An.Ledger}))),qe("openHardwareWalletModal",(e=>(e=Od(e),{...e,isHardwareModalOpen:!0}))),qe("closeHardwareWalletModal",(e=>({...e,isHardwareModalOpen:!1}))),qe("initializeHardwareWalletModal",(async(t,a)=>{const o=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),{isBluetoothAvailable:r,isUsbAvailable:s}=await o.detectAvailableTransports(),c=await o.hasUsbDevice(),l=[];s&&l.push("usb"),r&&l.push("bluetooth"),t=Ld(t=Ve(),{availableTransports:l}),0===l.length?(ze(t),e.UMQ?a.showDialog({title:"Bluetooth unavailable",message:"$bluetooth_enable_guide",buttons:{confirm:{title:"Open Settings",action:"openBluetoothSettings"},cancel:{title:"Cancel"}}}):a.showNotification({message:"Ledger is not supported on this device."})):1===l.length?(ze(t),n.Fe||a.initializeHardwareWalletConnection({transport:l[0]})):(c||(t=Ld(t,{lastUsedTransport:"bluetooth"})),ze(t))})),qe("initializeHardwareWalletConnection",(async(e,t,n)=>{await qf(n.transport)})),qe("resetHardwareWalletConnect",(e=>Od(e))),qe("loadMoreHardwareWallets",(async(e,t,n)=>{let{lastIndex:a}=n;const o=ot(e),r=e.hardware.hardwareWallets??[],s=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876)),c=await s.getNextLedgerWallets(o,a);if(e=Ve(),"error"in c)throw t.showError({error:c.error}),Error(c.error);e=Ld(e,{hardwareWallets:r.concat(c)}),ze(e)})),We((e=>{if(!jf||!jf.settings)return void(jf=e);const{settings:t}=jf,{settings:n}=e;n.theme!==t.theme&&ni(n.theme),n.langCode!==t.langCode&&Sr(n.langCode),jf=e})),qe("setAppLockValue",((e,t,n)=>{let{value:a,isEnabled:o}=n;return{...e,settings:{...e.settings,autolockValue:a,isAppLockEnabled:o}}})),qe("setIsManualLockActive",((e,t,n)=>{let{isActive:a,shouldHideBiometrics:o}=n;return{...e,isManualLockActive:a,appLockHideBiometrics:o}})),qe("setIsAutoConfirmEnabled",((e,t,n)=>{let{isEnabled:a}=n;return a||t.setInMemoryPassword({password:void 0,force:!0}),{...e,settings:{...e.settings,isAutoConfirmEnabled:a||void 0}}})),qe("setIsAllowSuspiciousActions",((e,t,n)=>{let{isEnabled:a}=n;return jl(e,e.currentAccountId,{isAllowSuspiciousActions:a||void 0})})),qe("setInMemoryPassword",((e,t,a)=>{let{password:o,isFinalCall:r,force:i}=a;return e.settings.isAutoConfirmEnabled||r||i?(Nt(e)||(cm(o),r||(n.KI&&Ll("setInMemoryPassword",{password:o,isFinalCall:!0}),n.bA&&Dl("setInMemoryPassword",{password:o,isFinalCall:!0}))),e):e})),qe("openSettingsHardwareWallet",(e=>{e=ql(e=Od(e),{state:$n.LedgerConnectHardware}),ze(e)})),qe("openNftCollection",((e,t,n)=>{let{address:a}=n;const o=e.currentAccountId;return Kl(e,o,{nfts:{...lt(e,o).nfts,currentCollectionAddress:a}})})),qe("closeNftCollection",(e=>zl(e,{nfts:{...ct(e).nfts,currentCollectionAddress:void 0},selectedNftsToHide:void 0}))),qe("selectNfts",((e,t,n)=>{let{addresses:a}=n;e=function(e,t,n){const a=lt(e,t).nfts,o=[...(null==a?void 0:a.selectedAddresses)??[],...n];return Kl(e,t,{nfts:{...a,selectedAddresses:o}})}(e,e.currentAccountId,a),ze(e)})),qe("selectAllNfts",((e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,{blacklistedNftAddresses:r,whitelistedNftAddresses:i}=lt(e,o)||{},s=new Set(i),c=new Set(r),{nfts:l}=lt(e,o),d=Object.values(l.byAddress).filter((e=>(!e.isHidden||s.has(e.address))&&!c.has(e.address)&&(void 0===a||e.collectionAddress===a)));e=Kl(e,o,{nfts:{...l,selectedAddresses:d.map((e=>{let{address:t}=e;return t}))}}),ze(e)})),qe("clearNftSelection",((e,t,n)=>{let{address:a}=n;e=function(e,t,n){const a=lt(e,t).nfts,o=((null==a?void 0:a.selectedAddresses)??[]).filter((e=>e!==n));return Kl(e,t,{nfts:{...a,selectedAddresses:o.length?o:void 0}})}(e,e.currentAccountId,a),ze(e)})),qe("clearNftsSelection",(e=>{const t=e.currentAccountId;e=Kl(e,t,{nfts:{...lt(e,t).nfts,selectedAddresses:[]}}),ze(e)})),qe("addCollectionTab",((t,n,a)=>{let{collectionAddress:o,isAuto:r}=a;const i=t.currentAccountId,s=lt(t,i),c=(null==s?void 0:s.nfts)||{byAddress:{}};if(r&&o===e.X6R&&c.wasTelegramGiftsAutoAdded)return t;const l=c.collectionTabs||[];return l.includes(o)||(t=Kl(t,i,{nfts:{...c,collectionTabs:[...l,o],...r&&o===e.X6R&&{wasTelegramGiftsAutoAdded:!0}}})),t})),qe("removeCollectionTab",((e,t,n)=>{let{collectionAddress:a}=n;const o=e.currentAccountId,r=lt(e,o),i=(null==r?void 0:r.nfts)||{byAddress:{}};return i.collectionTabs?e=Kl(e,o,{nfts:{...i,collectionTabs:i.collectionTabs.filter((e=>e!==a))}}):e})),qe("openVestingModal",(e=>{ze({...e,isVestingModalOpen:!0})})),qe("closeVestingModal",(e=>{ze({...e,isVestingModalOpen:void 0})})),qe("startClaimingVesting",(e=>{if(n.bA)return void Dl("startClaimingVesting");const t=e.currentAccountId;e=pt(e=Bd(e={...e,isVestingModalOpen:void 0},t,{isConfirmRequested:!0}))?Bd(e=Od(e),t,{unfreezeState:Hn.ConnectHardware}):Bd(e,t,{unfreezeState:Hn.Password}),ze(e)})),qe("cancelClaimingVesting",(e=>{e=Bd(e,e.currentAccountId,{isConfirmRequested:void 0}),ze(e)})),qe("clearVestingError",(e=>{e=Bd(e,e.currentAccountId,{error:void 0}),ze(e)})),qe("rebuildOrderedSlugs",(e=>{const t=ut(e)??{},{orderedSlugs:n=[]}=t,a=(Ut(e)??[]).map((e=>{let{slug:t}=e;return t})),o=(0,c.Am)([...n,...a]);return(0,c.k)(n,o)?e:Yl(e,{...t,orderedSlugs:o})})),qe("showTokenActivity",((e,t,n)=>{let{slug:a}=n;t.selectToken({slug:a},{forceOnHeavyAnimation:!0}),t.setActiveContentTab({tab:Kn.Activity})})),qe("startTransfer",((e,t,a)=>{var o,r;const i=e.currentTransfer.state!==Bn.None;if(n.bA&&!i)return void Dl("startTransfer",a);const{isPortrait:s,...c}=a??{},l=Symbol("nft"),d=null!==(o=e.currentTransfer.nfts)&&void 0!==o&&o.length?l:e.currentTransfer.tokenSlug,u=null!=a&&null!==(r=a.nfts)&&void 0!==r&&r.length?l:null==a?void 0:a.tokenSlug,m=u&&u!==d;ze(id(e,{state:s?Bn.Initial:Bn.None,error:void 0,...m?{fee:void 0,realFee:void 0,diesel:void 0}:{},...c})),s||t.setLandscapeActionsActiveTabIndex({index:zn.Transfer})})),qe("changeTransferToken",((e,t,n)=>{let{tokenSlug:a,withResetAmount:o}=n;const{amount:r,tokenSlug:i,nfts:s}=e.currentTransfer;if(!(null!=s&&s.length||a!==i||o))return;const c=i?e.tokenInfo.bySlug[i]:void 0,l=e.tokenInfo.bySlug[a];o?e=id(e,{amount:void 0}):r&&(null==c?void 0:c.decimals)!==(null==l?void 0:l.decimals)&&(e=id(e,{amount:(0,Pt.UH)((0,Pt.nI)(r,null==c?void 0:c.decimals),null==l?void 0:l.decimals)})),ze(id(e,{tokenSlug:a,fee:void 0,realFee:void 0,diesel:void 0,nfts:void 0}))})),qe("setTransferScreen",((e,t,n)=>{const{state:a}=n;return id(e,{state:a})})),qe("setTransferAmount",((e,t,n)=>{let{amount:a}=n;return id(e,{amount:a})})),qe("setTransferToAddress",((e,t,n)=>{let{toAddress:a}=n;return dd(e,a)})),qe("setTransferComment",((e,t,n)=>{let{comment:a}=n;return id(e,{comment:a})})),qe("setTransferShouldEncrypt",((e,t,n)=>{let{shouldEncrypt:a}=n;return id(e,{shouldEncrypt:a})})),qe("submitTransferConfirm",(async(e,t)=>{const n=await sm();pt(e=Ve())?(e=id(e=Od(e),{state:Bn.ConnectHardware}),ze(e)):n?(e=id(e,{isLoading:!0}),ze(e),t.submitTransferPassword({password:n})):(e=id(e,{state:Bn.Password}),ze(e))})),qe("clearTransferError",(e=>{ze(id(e,{error:void 0}))})),qe("dismissTransferScamWarning",(e=>{n.KI&&Ll("dismissTransferScamWarning"),e=id(e,{scamWarningType:void 0}),ze(e)})),qe("showTransferScamWarning",((e,t,n)=>{let{type:a}=n;e=id(e,{scamWarningType:a}),ze(e)})),qe("setTheme",((e,t,n)=>{let{theme:a}=n;return{...e,settings:{...e.settings,theme:a}}})),qe("setAnimationLevel",((e,t,n)=>{let{level:a}=n;return{...e,settings:{...e.settings,animationLevel:a}}})),qe("tryAddNotificationAccount",((t,n,a)=>{let{accountId:o}=a;t.pushNotifications.isAvailable&&Object.keys(tt(t)||{}).length<=e.vdF&&n.createNotificationAccount({accountId:o})})),qe("renameNotificationAccount",((e,t,n)=>{let{accountId:a}=n;const{enabledAccounts:o,isAvailable:r}=e.pushNotifications;r&&null!=o&&o[a]&&t.createNotificationAccount({accountId:a})})),qe("toggleNotificationAccount",((t,n,a)=>{let{accountId:o}=a;const{enabledAccounts:r,userToken:i,platform:s}=t.pushNotifications;if(!i||!s)return;const c=r&&r[o];!c&&r&&Qe(r,e.vdF-1)||(c?n.deleteNotificationAccount({accountId:o,withAbort:!0}):n.createNotificationAccount({accountId:o,withAbort:!0}))})),qe("deleteAllNotificationAccounts",(async(e,t,n)=>{const{enabledAccounts:o,userToken:r}=e.pushNotifications;if(!o||!r)return;const i=(null==n?void 0:n.accountIds)||Object.keys(o);await(0,a.p)("unsubscribeNotifications",{userToken:r,addresses:Object.values(Fc(e,i))}),e=Ve(),ze(Tu(e))}));var Yf=i(41074);const Gf={light:["#31AFC7","#35C759","#FF9500","#FF2C55","#AF52DE","#5856D7","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#1FC863","#929395","#E4B102","#000000"],dark:["#3AB5CC","#32D74B","#FF9F0B","#FF325A","#BF5AF2","#7977FF","#73AAED","#FFB07A","#B76C78","#9689D1","#E572CC","#6BA07A","#338FCC","#2CD36F","#C3C5C6","#DDBA00","#FFFFFF"]},Qf=new Set([13,14,15,16]);function Xf(e,t,n){const a=n?Gf[t][n]:void 0;le((()=>{const t="body"===e?document.body:e.current;t&&(Bs(t,{"--color-accent":a||"inherit","--color-accent-10o":a?`${a}1A`:"inherit","--color-accent-button-background":a||"inherit","--color-accent-button-background-hover":a?`${a}CC`:"inherit","--color-accent-button-text":"#FFFFFF"===a?"#000000":"inherit","--color-accent-button-text-hover":"#FFFFFF"===a?"#000000":"inherit"}),Is(document.documentElement,"is-white-accent","#FFFFFF"===a))}),[e,a])}async function Jf(e){const{mtwCardType:n,mtwCardBorderShineType:a}=e.metadata;if("radioactive"===a)return 13;if("silver"===n)return 14;if("gold"===n)return 15;if("platinum"===n||"black"===n)return 16;const o=Zo(e);if(o)try{return await(0,Yf.M1)({name:"offscreen-canvas:processNftImage",args:[o,1,2]},Math.round(e.index)%Yf.bP)}catch(e){return void(0,t.SJ)("getAccentColorIndexFromNft",e)}}Gf.light.map(((e,t)=>({color:e,index:t}))).filter((e=>{let{index:t}=e;return!Qf.has(t)})),qe("openMintCardModal",(e=>_d(e,{state:Vn.Initial}))),qe("closeMintCardModal",(e=>({...e,currentMintCard:void 0}))),qe("startCardMinting",((e,t,n)=>{let{type:a}=n;return pt(e)?_d(e=Od(e),{state:Vn.ConnectHardware}):_d(e,{state:Vn.Password})})),qe("clearMintCardError",(e=>_d(e,{error:void 0}))),qe("setCardBackgroundNft",((e,t,a)=>{let{nft:o}=a;n.bA?Dl("setCardBackgroundNft",{nft:o}):(e=Yl(e,{cardBackgroundNft:o}),ze(e))})),qe("clearCardBackgroundNft",(e=>{n.bA?Dl("clearCardBackgroundNft"):(e=Yl(e,{cardBackgroundNft:void 0}),ze(e))})),qe("installAccentColorFromNft",(async(e,t,n)=>{let{nft:a}=n;const o=await Jf(a);e=Yl(e=Ve(),{accentColorNft:a,accentColorIndex:o}),ze(e)})),qe("clearAccentColorFromNft",(e=>Yl(e,{accentColorNft:void 0,accentColorIndex:void 0}))),qe("openDomainRenewalModal",(async(e,t,n)=>{var a;let{accountId:o,network:r,addresses:i}=n;if(o&&await Promise.all([ac(),Pd(e,o,r)]),!await(0,l.fm)((()=>{var e;return Boolean(null===(e=ct(Ve()))||void 0===e||null===(e=e.nfts)||void 0===e?void 0:e.byAddress)}),1e3,30))return;e=Ve();const{byAddress:s}=(null===(a=ct(e))||void 0===a?void 0:a.nfts)||{};i=(i||[]).filter((e=>null==s?void 0:s[e])),i.length&&(e=xd(e,{state:Dn.Initial,addresses:i}),ze(e))})),qe("startDomainsRenewal",(e=>pt(e)?xd(e=Od(e),{state:Dn.ConnectHardware}):xd(e,{state:Dn.Password}))),qe("clearDomainsRenewalError",(e=>xd(e,{error:void 0}))),qe("cancelDomainsRenewal",(e=>({...e,currentDomainRenewal:Ol.currentDomainRenewal}))),qe("openDomainLinkingModal",((e,t,n)=>{let{address:a}=n;return Dd(e,{state:Ln.Initial,address:a})})),qe("startDomainLinking",(e=>pt(e)?Dd(e=Od(e),{state:Ln.ConnectHardware}):Dd(e,{state:Ln.Password}))),qe("clearDomainLinkingError",(e=>Dd(e,{error:void 0}))),qe("cancelDomainLinking",(e=>({...e,currentDomainLinking:Ol.currentDomainLinking}))),qe("setDomainLinkingWalletAddress",((e,t,n)=>{let{address:a}=n;return Dd(e,{walletAddress:a})}));const Zf=e.UMQ?500:5e3,eh=(0,l.nF)((()=>x((()=>sh()))),Zf,!1),th=()=>sh(!0);let nh,ah,oh=!1;function rh(){var e;oh&&(window.removeEventListener("blur",th),null===(e=nh)||void 0===e||e(),function(e){const t=Be.indexOf(e);-1!==t&&Be.splice(t,1)}(eh),oh=!1)}const ih=t=>{const n=new Set(Object.keys(e.lfO));if(t.currentAccountId){var a;const e=null===(a=t.byAccountId[t.currentAccountId])||void 0===a?void 0:a.currentTokenSlug;e&&n.add(e)}return Object.values(t.byAccountId).forEach((e=>{const{balances:t,activities:a,staking:o}=e;Object.keys((null==t?void 0:t.bySlug)??{}).forEach((e=>n.add(e))),Object.keys((null==a?void 0:a.byId)??{}).forEach((e=>{cn(a.byId[e]).forEach((e=>n.add(e)))})),Object.keys((null==a?void 0:a.idsBySlug)??{}).forEach((e=>n.add(e))),Object.keys((null==o?void 0:o.stateById)??{}).forEach((e=>{n.add(o.stateById[e].tokenSlug)}))})),Array.from(n)};function sh(t){var n;if(e.UuV||!oh||!t&&B())return;const a=Ve(),o=(null===(n=a.accounts)||void 0===n?void 0:n.byId)||{},r={...Ol,...(0,c.Up)(a,["currentAccountId","stateVersion","restrictions","pushNotifications","isFullscreen","isManualLockActive","stakingDefault"]),accounts:{byId:o},byAccountId:ch(a),settings:{...a.settings,byAccountId:(0,c.Up)(a.settings.byAccountId,Object.keys(o))}},i=ih(r);r.tokenInfo={bySlug:(0,c._E)(a.tokenInfo.bySlug,i)};const s=JSON.stringify(r);localStorage.setItem(e.pge,s)}function ch(t){return Object.entries(t.byAccountId).reduce(((n,a)=>{var o,r,i;let[s,l]=a;if(null===(o=t.accounts)||void 0===o||!o.byId[s])return n;n[s]=(0,c.Up)(l,["isBackupRequired","currentTokenSlug","currentTokenPeriod","savedAddresses","staking","activeContentTab","landscapeActionsActiveTabIndex","browserHistory","blacklistedNftAddresses","whitelistedNftAddresses","dappLastOpenedDatesByUrl","dapps"]),null!==(r=l.nfts)&&void 0!==r&&r.collectionTabs&&(n[s].nfts={collectionTabs:l.nfts.collectionTabs,wasTelegramGiftsAutoAdded:l.nfts.wasTelegramGiftsAutoAdded});const d=function(t,n){const{currentTokenSlug:a}=lt(t,n)??{},o=(0,c.JY)($t(t,n)??[],"slug").slice(0,30);return o.includes(e.Tu9.slug)||o.push(e.Tu9.slug),a&&!o.includes(a)&&o.push(a),o}(t,s);var u,m;return n[s].balances=(m=d,null!=(u=l.balances)&&u.bySlug&&m?{...u,bySlug:(0,c.Up)(u.bySlug,m)}:u),n[s].activities=function(e,t){const{idsBySlug:n,newestActivitiesBySlug:a,byId:o,idsMain:r}=e||{};if(!(t&&n&&o&&r))return;const i=lh(r,o),s=(0,c.LG)((0,c._E)(n,t),(e=>lh(e,o))),l=a?(0,c.Up)(a,t):void 0,d=Object.values(s).concat(i).flat();return{byId:(0,c.Up)(o,d),idsMain:i,idsBySlug:s,newestActivitiesBySlug:l}}(l.activities,d),n[s].staking=function(e){let{stakingId:t,stateById:n}=e??{};var a;n&&!Ge(n)&&(n=(0,c.lk)(n,Jd),t&&t in n||(t=null===(a=Object.values(n)[0])||void 0===a?void 0:a.id));return{...e,stateById:n,stakingId:t}}(l.staking),n[s].stakingHistory=null!==(i=l.stakingHistory)&&void 0!==i&&i.length?l.stakingHistory.slice(0,30):void 0,n}),{})}function lh(e,t){const n=[];let a=0;return e.filter((e=>function(e,t){const n=t[e];return n&&!rn(e)&&!vn(n)}(e,t))).forEach((e=>{20!==a&&(t[e].shouldHide||(a+=1),n.push(e))})),n}n.bA||e.UuV||(qe("afterSignIn",(function(){oh||(oh=!0,We(eh),nh=(0,l.yu)(th,!0),window.addEventListener("blur",th),th())})),qe("afterSignOut",((t,n,a)=>{en(),null!=a&&a.shouldReset&&(ah=(0,c.Up)(t,["swapTokenInfo","tokenInfo","restrictions"]),rh(),localStorage.removeItem(e.pge))})),qe("cancelCaching",rh)),qe("init",((t,a)=>{const o=(0,c.mg)(Ol),r=function(t){if(e.UuV)return t;e.Oig&&console.time("global-state-cache-read");const a=localStorage.getItem(e.pge);let o=a?JSON.parse(a,ma.bk):void 0;if(e.Oig&&console.timeEnd("global-state-cache-read"),o)try{!function(t,a){if(t.settings={...a.settings,...t.settings},44!==t.stateVersion){var o;if(t.byAccountId||(t.accounts={byId:{[e.Kih]:{address:t.addresses.byAccountId[e.Kih],title:"Main Account"}}},delete t.addresses,t.byAccountId={},t.byAccountId[e.Kih]={isBackupRequired:Boolean(t.isBackupRequired),currentTokenSlug:t.currentTokenSlug,currentTokenPeriod:t.currentTokenPeriod},"balances"in t&&(t.byAccountId[e.Kih].balances=t.balances.byAccountId[e.Kih],delete t.balances),"transactions"in t&&(t.byAccountId[e.Kih].transactions=t.transactions,delete t.transactions),"nfts"in t&&(t.byAccountId[e.Kih].nfts=t.nfts,delete t.nfts),"savedAddresses"in t&&(t.byAccountId[e.Kih].savedAddresses=t.savedAddresses,delete t.savedAddresses),"backupWallet"in t&&delete t.backupWallet),t.currentAccountId&&t.byAccountId[t.currentAccountId]||!Object.keys(t.byAccountId).length||(t.currentAccountId=Object.keys(t.byAccountId)[0]),t.stateVersion||!t.accounts||Ge(t.accounts)||(t.stateVersion=1),1===t.stateVersion&&(t.stateVersion=2,null!==(o=t.tokenInfo)&&void 0!==o&&o.bySlug&&(t.tokenInfo.bySlug={toncoin:{...t.tokenInfo.bySlug.toncoin,decimals:e.Tu9.decimals}}),t.byAccountId&&Object.values(t.byAccountId).forEach((e=>{var t;null!==(t=e.balances)&&void 0!==t&&t.bySlug&&(e.balances.bySlug=(0,c.Up)(e.balances.bySlug,["toncoin"])),e.transactions&&delete e.transactions}))),2===t.stateVersion){t.stateVersion=3;const n="0",a=e.Kih;if(t.accounts&&n in t.accounts.byId&&(t.currentAccountId===n&&(t.currentAccountId=a),t.accounts.byId[a]=t.accounts.byId[n],delete t.accounts.byId[n],t.byAccountId[a]=t.byAccountId[n],delete t.byAccountId[n]),t.accounts)for(const e of Object.keys(t.accounts.byId)){const n=(0,Ye.zu)({...(0,Ye.cK)(e),network:"testnet"});t.accounts.byId[n]=(0,c.mg)(t.accounts.byId[e]),t.byAccountId[n]={}}}if(3===t.stateVersion&&(t.stateVersion=4,t.byAccountId))for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].transactions;if(4===t.stateVersion&&(t.stateVersion=5,t.staking={state:Wn.None}),5===t.stateVersion&&(t.stateVersion=6,t.byAccountId))for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].transactions;if(6===t.stateVersion&&(t.stateVersion=7,t.byAccountId))for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].transactions;if(7===t.stateVersion){if(t.byAccountId)for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].backupWallet;t.stateVersion=8}if(8===t.stateVersion&&(t.settings&&n.cp&&(t.settings.isDeeplinkHookEnabled=!0),t.stateVersion=9),9===t.stateVersion&&(i(),t.stateVersion=10),10===t.stateVersion&&(void 0===t.settings.areTokensWithNoBalanceHidden&&(t.settings.areTokensWithNoBalanceHidden=!0),t.stateVersion=11),11===t.stateVersion&&(i(),t.stateVersion=12),12===t.stateVersion){if(t.byAccountId)for(const e of Object.keys(t.byAccountId)){delete t.byAccountId[e].activities;const{balances:n}=t.byAccountId[e];n&&(n.bySlug=Object.entries(n.bySlug).reduce(((e,t)=>{let[n,a]=t;return e[n]=BigInt(a),e}),{}))}t.stateVersion=13}if(13===t.stateVersion){const{areTokensWithNoPriceHidden:e,areTokensWithNoBalanceHidden:n}=t.settings;t.settings.areTokensWithNoCostHidden=Boolean(e||n),t.stateVersion=14}if(t.stateVersion>=14&&t.stateVersion<=17&&(i(),t.stateVersion=18),18===t.stateVersion||19===t.stateVersion){for(const e of Object.keys(t.byAccountId))t.byAccountId[e].currentTokenPeriod="1D";t.stateVersion=20}if(t.stateVersion>=20&&t.stateVersion<=22&&(i(),t.stateVersion=23),23===t.stateVersion&&("isSortByValueEnabled"in t.settings||(t.settings.isSortByValueEnabled=a.settings.isSortByValueEnabled),t.stateVersion=24),24===t.stateVersion){if(t.accounts){i();for(const e of Object.values(t.accounts.byId))e.addressByChain={ton:e.address},delete e.address}t.stateVersion=25}if(25===t.stateVersion){if(t.byAccountId)for(const e of Object.keys(t.byAccountId)){const n=t.byAccountId[e].savedAddresses;n&&!("length"in n)&&(t.byAccountId[e].savedAddresses=Object.keys(n).map((e=>({name:n[e],address:e,chain:"ton"}))))}t.stateVersion=26}if(26===t.stateVersion&&(i(),t.stateVersion=27),27===t.stateVersion&&(delete t.settings.dapps,t.stateVersion=28),28===t.stateVersion){const e=Object.keys(t.settings.byAccountId);for(const n of e){const e=t.settings.byAccountId[n].exceptionSlugs;t.settings.areTokensWithNoCostHidden?t.settings.byAccountId[n].alwaysShownSlugs=e:t.settings.byAccountId[n].alwaysHiddenSlugs=e}t.stateVersion=29}if(29===t.stateVersion&&(t.currentTransfer.tokenSlug=e.Tu9.slug,t.stateVersion=30),30===t.stateVersion&&(i(),t.stateVersion=31),31===t.stateVersion&&(t.settings.autolockValue&&"never"!==t.settings.autolockValue&&(t.settings.isAppLockEnabled=!0),t.stateVersion=32),t.stateVersion>=32&&t.stateVersion<=35&&(i(),t.stateVersion=36),36===t.stateVersion){for(const e of Object.values((null===(r=t.accounts)||void 0===r?void 0:r.byId)??{})){var r;e.type=e.isHardware?"hardware":"mnemonic",delete e.isHardware}t.stateVersion=37}if(37===t.stateVersion){for(const e of Object.values(t.tokenInfo.bySlug))e.price||(e.price=0),e.percentChange24h||(e.percentChange24h=0),e.priceUsd||(e.priceUsd=0),e.quote&&delete e.quote;t.stateVersion=38}if(t.stateVersion>=38&&t.stateVersion<=41&&(i(),t.stateVersion=42),41===t.stateVersion){for(const e of Object.keys(t.byAccountId)){const n=t.byAccountId[e];n.dappLastOpenedDatesByOrigin&&(n.dappLastOpenedDatesByUrl=n.dappLastOpenedDatesByOrigin,delete n.dappLastOpenedDatesByOrigin)}t.stateVersion=42}t.stateVersion>=42&&t.stateVersion<=43&&(i(),t.stateVersion=44)}function i(){if(t.byAccountId)for(const e of Object.keys(t.byAccountId))delete t.byAccountId[e].activities}}(o,t),function(e){if(!e.currentAccountId)return;const{byId:t,newestActivitiesBySlug:n}=e.byAccountId[e.currentAccountId].activities||{};t&&Object.values(t).forEach((e=>{"transaction"===e.kind&&e.isIncoming&&Jt(e)})),n&&Object.values(n).forEach((e=>{"transaction"===e.kind&&e.isIncoming&&Jt(e)}))}(o)}catch(e){console.error(e),o=void 0}return{...t,...ah,...o}}(o);return n.bA?{...o,settings:{...o.settings,theme:r.settings.theme}}:n.Fe?(a.initLedgerPage(),{...o,settings:{...o.settings,theme:r.settings.theme}}):(function(e){return Boolean(e.currentAccountId)}(r)&&a.afterSignIn(),r)})),BigInt.prototype.toJSON=function(){return`${ma.tH}${this.toString()}`};let dh=!1;async function uh(){await new Promise((e=>{const t=[];let n=performance.now();(0,d.i0)((()=>{const a=performance.now();if(t.push(a-n),n=a,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0}),l.IJ)}))<=35&&function(){dh=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame((()=>{t.addEventListener("transitionend",(()=>{e.remove()})),t.style.transform=""}))}()}let mh=function(e){return e.DEEPLINK="deeplink",e.UPDATE_ERROR="update-error",e.UPDATE_DOWNLOADED="update-downloaded",e}({});const ph=function(){let e,t=!1;const a=function(n){var a;t=!0,null===(a=e)||void 0===a||a.call(this,{...n,preventScroll:!0})},o=()=>{fh(n.Ni&&t),t=!1};return{install(){e||(e=HTMLElement.prototype.focus,HTMLElement.prototype.focus=a,window.addEventListener("focusin",o))},uninstall(){e&&(HTMLElement.prototype.focus=e,e=void 0,window.removeEventListener("focusin",o))}}}();function fh(e){const t=document.activeElement;if(!t)return;const n=t.dataset.focusScrollPosition??"nearest";(0,k.YS)((()=>{t.scrollIntoView({block:n,behavior:e?"instant":"auto"})}))}const hh=n.Fe||n.bA||n.cp||e.tKX,gh=String(Date.now()+Math.random());let vh;hh||localStorage.setItem(e.tOu,gh);const wh=window.setInterval((()=>{!hh&&vh&&localStorage.getItem(e.tOu)!==gh&&(vh(),clearInterval(wh))}),2e3);var yh=i(37448);const bh=(0,_a.F3)("Filesystem",{web:()=>i.e(956).then(i.bind(i,69956)).then((e=>new e.FilesystemWeb))}),Eh=(0,_a.F3)("Share",{web:()=>i.e(104).then(i.bind(i,78104)).then((e=>new e.ShareWeb))});async function kh(e,t){const n={url:e,title:t};await Ch(n)||await Nh(n)||(await dl(e),Ke().showNotification({message:Nr("Link was copied!"),icon:"icon-link"}))}async function Ch(t){if(!e.UMQ)return!1;try{return await Eh.share(t),!0}catch(e){if(e instanceof Error&&"Share canceled"===e.message)return!0;if(e instanceof Error&&"Can't share while sharing is in progress"===e.message)return!1;throw e}}async function Nh(e){if(!n.TF||!navigator.share)return!1;try{return await navigator.share(e),!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return!0;if(e instanceof Error&&"NotAllowedError"===e.name)return!1;throw e}}function Sh(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=be(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return t||null!=e?e:n}const Ah={button:"zVKWQb4E",item:"p6wqAx5G",wide:"r6y8uqO8",interactive:"Q9ntFVQX",label:"D1GD_LrJ",light:"soVchDDr",inherit:"wFCZ8RVE",disabled:"pvIBCUiV",dangerous:"pGdKfZ0g",buttonIcon:"N6o0srlb",item_selected:"RsC78CT6",itemSelected:"RsC78CT6",item_with_icon:"U_181tTH",itemWithIcon:"U_181tTH",itemIcon:"Y6vHSLLj",itemMainIcon:"j8oqwmMI",itemOverlayIcon:"Kyq0Mbfk",fontIcon:"YG4KjBia",itemName:"Mj3kpKk7",itemDescription:"SGTt7OqT",delimiter:"MtXTN7mi",delimiterAfter:"K5zqNd8W",dropdownButtonWrapper:"M88J3eDx",spinner:"O6oZGmyS"},Th=fe((function(e){let{item:t,shouldUseSelectedName:n,shouldTranslate:a,prefix:o,suffix:r,className:i,iconClassName:s,iconOverlayClassName:c,fontIconClassName:l,itemClassName:d,itemDescriptionClassName:u,onClick:m}=e;const p=Ar(),f=n?t.selectedName??t.name:t.name,h=Tr(t.isDisabled&&Ah.disabled,t.isDangerous&&Ah.dangerous,i);return ge.createElement("button",{type:"button",className:h,disabled:t.isDisabled,onClick:m&&(e=>m(e,t.value))},o,t.icon&&ge.createElement("span",{className:Tr("icon",Ah.itemIcon,s)},ge.createElement("img",{src:t.icon,alt:"",className:Ah.itemMainIcon}),t.overlayIcon&&ge.createElement("img",{src:t.overlayIcon,alt:"",className:Tr("icon",Ah.itemOverlayIcon,c)})),t.fontIcon&&ge.createElement("i",{className:Tr(`icon icon-${t.fontIcon}`,Ah.fontIcon,l),"aria-hidden":!0}),ge.createElement("span",{className:Tr(Ah.itemName,d)},a?p(f):f,!!t.description&&ge.createElement("span",{className:Tr(Ah.itemDescription,u)},a&&"string"==typeof t.description?p(t.description):t.description)),r)}));function Ih(e){return Wr({onEsc:()=>{e()}})}const Bh={wrapper:"VydD7Rve",inPortal:"vcuzKHhA",bubble:"mY0hTIiL",top:"FsyRNnQH",bottom:"tkKrx8OR",left:"MvEERemq",right:"y6xJQNRF",backdrop:"gc2eH8vQ",menu:"gtd29jbF",suggestion:"BYQgxGEv",dropdown:"IxGdkmhI"},_h=16,xh={width:0,left:0,height:0,top:0,right:0,bottom:0};function Dh(e,t,n){let{anchor:a,positionX:o="left",positionY:r="top",transformOriginX:i,transformOriginY:s,style:c,bubbleStyle:l}=n;const d=e.current,u=t.current;let m=c;a&&!c&&(m=`left: ${a.x}px; top: ${a.y}px`),m&&(d.style.cssText=m),l&&(u.style.cssText=l),o&&(Ts(u,Bh.left),Ts(u,Bh.right),As(u,Bh[o])),r&&(Ts(u,Bh.top),Ts(u,Bh.bottom),As(u,Bh[r])),Bs(u,{transformOrigin:[i?`${i}px`:o,s?`${s}px`:r].join(" ")})}const Lh=200,Oh=e=>{let{children:t,isOpen:n,id:a,menuRef:o,className:r,bubbleClassName:i,type:s="menu",autoClose:c=!1,shouldSkipTransition:l,noBackdrop:d=!1,withPortal:u,noCloseOnBackdrop:m=!1,shouldCleanup:p,onCloseAnimationEnd:f,onClose:h,onMouseEnter:g,onMouseLeave:v,...w}=e;const y=me();let b=me();o&&(b=o),function(e,t,n,a){const o=Uo(a);le((()=>{if(!e)return;const a=o.current;!function(e){return"getRootElement"in e}(a)?Dh(t,n,a):(0,k.gm)((()=>{const e=function(e){let{anchor:t,getRootElement:n,getMenuElement:a,getTriggerElement:o,getLayout:r,withMaxHeight:i}=e;const s=(null==r?void 0:r())||{},{triggerRect:c,rootRect:l,menuDimensions:d}=function(e){let{getTriggerElement:t,getRootElement:n,getMenuElement:a,layout:o,anchor:r}=e;const i=null==t?void 0:t(),s=n(),c=a(),{extraMarginTop:l=0,menuElMinWidth:d=0}=o,u=i?i.getBoundingClientRect():{...xh,left:r.x,top:r.y,right:r.x,bottom:r.y},m=s?s.getBoundingClientRect():xh;let p;if(m.height-=Va().safeAreaBottom,c){const e=parseInt(getComputedStyle(c).marginTop,10)+l,{offsetWidth:t,offsetHeight:n}=c;p={width:Math.max(t,d),height:n+e,marginTop:e}}else p={width:0,height:0,marginTop:0};return{triggerRect:u,rootRect:m,menuDimensions:p}}({getTriggerElement:o,getRootElement:n,getMenuElement:a,layout:s,anchor:t}),{positionX:u,x:m}=function(e,t,n,a){let o,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"right",i=e.x;return"right"===r?i-n>=t.left+_h?(o="right",i-=3):(o="left",i+=3):i+n<=t.right-_h?(o="left",i+=3):(o="right",i-=3),i+=a,{positionX:o,x:i}}(t,l,d.width,s.deltaX||0,s.preferredPositionX),{positionY:p,y:f}=function(e,t,n,a,o){const{topShiftY:r=0,extraTopPadding:i=0,isDense:s=!1,doNotCoverTrigger:c=!1,preferredPositionY:l}=o;let d,u=e.y;if(c){const e=t.bottom+6+a<=n.bottom,o=t.top-6-a>=n.top;e&&"bottom"!==l?(d="top",u=t.bottom+6):o?(d="bottom",u=t.top-6):(d="bottom",u=n.top+n.height)}else{const e=u+r,o=e+t.height+a<n.height+n.top,c=u-t.height-a>=n.top+i;"bottom"===l&&c||!s&&!o?(d="bottom",c||(u=n.top+n.height)):(d="top",u=e)}return{positionY:d,y:u}}(t,c,l,d.height,s),h=function(e,t,n,a,o,r){const{shouldAvoidNegativePosition:i=!1,withPortal:s=!1,isDense:c=!1,menuElMinWidth:l=0,centerHorizontally:d=!1}=r;let{x:u,y:m}=e;if(d)u=n.left+(n.width-o.width)/2,u=Br(u,a.left+_h,a.right-o.width-_h),s||(m-=n.top);else{const e=Math.min(u-n.left,a.width-o.width-_h);"left"===t?u=s||i?Math.max(_h,e):e:u-=n.left,s?u+=n.left:m-=n.top}c&&(u=Math.min(u,a.width-o.width-_h),m=Math.min(m,a.height-o.height-_h)),s&&!d&&(u="left"===t?Math.min(u,a.width-o.width-_h):Math.max(u,_h+o.width));const p=l?Math.max(0,(l-(o.width-l))/2):0;return u-p<0&&i&&(u=p+_h),{x:u,y:m}}({x:m,y:f},u,c,l,d,s),g=function(e,t,n,a,o,r){const i=r?{x:a.left,y:a.top}:{x:0,y:0},s=e.x+i.x-a.left-t.x,c=e.y+i.y-a.top-t.y-o.marginTop;return{x:"left"===n.positionX?s:o.width+s,y:"bottom"===n.positionY?o.height+c:c}}(t,h,{positionX:u,positionY:p},c,d,s.withPortal||!1),v=`left: ${h.x}px; top: ${h.y}px; --menu-width: ${d.width}px;`;let w;return i&&(w=`max-height: ${l.height-12-d.marginTop}px;`),{positionX:u,positionY:p,transformOriginX:g.x,transformOriginY:g.y,style:v,bubbleStyle:w}}(a);return()=>{Dh(t,n,e)}}))}),[e,t,n,o])}(n,y,b,w),zi({isActive:Boolean(n&&h),onBack:h,shouldBeReplaced:!0});const{shouldRender:E}=Rs({isOpen:n,ref:b,onCloseAnimationEnd:f,noMountTransition:l,noCloseTransition:l,withShouldRender:!0});ce((()=>n&&h?Ih(h):void 0),[n,h]),pi((e=>{let[t]=e;(n||!n&&!0===t)&&_(Lh)}),[n]),function(e,t,n){ce((()=>{const a=e=>{const a=t.current,o=e.target;a&&o&&(a.contains(e.target)&&!o.classList.contains(Bh.backdrop)||(e.preventDefault(),e.stopPropagation(),n&&n()))};return e&&n&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}}),[e,t,n])}(n&&!d,y,m?void 0:h);const C=Tr(Bh.bubble,i,"menu-bubble",Bh[s]);if(p&&!E)return;const N=ge.createElement("div",{ref:y,id:a,className:Tr(Bh.wrapper,r,u&&Bh.inPortal),onMouseEnter:g,onMouseLeave:n?v:void 0},n&&!d&&ge.createElement("div",{className:Bh.backdrop,onClick:Io}),ge.createElement("div",{ref:b,className:C,onClick:c?h:void 0},t));return u?ge.createElement(zs,null,N):N};function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ph.apply(null,arguments)}const Mh=fe((function(e){let{isOpen:t,ref:n,selectedValue:a,items:o,withPortal:r,menuAnchor:i,menuPositionX:s,menuPositionY:c,shouldTranslateOptions:l,className:d,bubbleClassName:u,buttonClassName:m,iconClassName:p,fontIconClassName:f,itemDescriptionClassName:h,shouldCleanup:g,onSelect:v,onClose:w,getTriggerElement:y,getRootElement:b,getMenuElement:E,getLayout:k,onCloseAnimationEnd:C}=e,N=me();n&&(N=n);const S=i&&y&&b&&E?{anchor:i,getTriggerElement:y,getRootElement:b,getMenuElement:E,getLayout:k}:i&&b&&E?{anchor:i,getRootElement:b,getMenuElement:E,getLayout:k,positionX:s,positionY:c}:{anchor:i,positionX:s,positionY:c},A=Wo(((e,t)=>{e.stopPropagation(),null==v||v(t,e),w()}));return ge.createElement(Oh,Ph({menuRef:N,isOpen:t,type:"dropdown",withPortal:r,className:d,bubbleClassName:u,shouldCleanup:g,onClose:w,onCloseAnimationEnd:C},S),o.map(((e,t)=>{const n=Tr(Ah.item,(e.icon||e.fontIcon)&&Ah.item_with_icon,e.withDelimiter&&t>0&&Ah.delimiter,e.withDelimiterAfter&&Ah.delimiterAfter,a===e.value&&Ah.item_selected,m,"capture-scroll");return ge.createElement(Th,{key:e.value,item:e,shouldTranslate:l,className:n,iconClassName:p,fontIconClassName:f,itemClassName:"menuItemName",itemDescriptionClassName:h,onClick:A})})))})),Fh=fe((function(e){let{title:t,className:n,withNotch:a,closeClassName:o,menuItems:r,onClose:i,onBackButtonClick:s,onMenuItemClick:c}=e;const l=Ar(),d=me(),u=me(),[m,p]=ie(),f=Boolean(null==r?void 0:r.length),h=Boolean(m),g=Wo((()=>u.current)),v=Wo((()=>document.body)),w=Wo((()=>d.current)),y=Wo((()=>({withPortal:!0}))),b=Wo((()=>p(void 0))),E=Wo((()=>{if(h)b();else{const{right:e,y:t,height:n}=u.current.getBoundingClientRect();p({x:e,y:t+n})}}));return ge.createElement("div",{className:Tr(Ks.header,"with-notch-on-scroll",a&&"is-scrolled",!s&&Ks.header_wideContent,n,h&&"is-menu-open")},s&&ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:s,className:Ks.header_back},ge.createElement("i",{className:Tr(Ks.header_backIcon,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),void 0!==t&&ge.createElement("div",{className:Tr(Ks.title,Ks.singleTitle)},t),f&&ge.createElement(Vs,{ref:u,isSimple:!0,className:Tr(Ks.menuButton,o),ariaLabel:l("Menu"),onClick:E},ge.createElement("i",{className:Tr(Ks.menuIcon,"icon-menu-dots"),"aria-hidden":!0})),i&&ge.createElement(Vs,{isRound:!0,className:Tr(Ks.closeButton,o),ariaLabel:l("Close"),onClick:i},ge.createElement("i",{className:Tr(Ks.closeIcon,"icon-close"),"aria-hidden":!0})),f&&ge.createElement(Mh,{isOpen:h,ref:d,items:r,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:m,getTriggerElement:g,getRootElement:v,getMenuElement:w,getLayout:y,onSelect:c,onClose:b}))})),Rh={"tonscan.org":"TON Explorer","multisend.mytonwallet.io":"Multi-Send","localhost:4323":"Multi-Send"},Uh=[{value:"reload",name:"Reload",fontIcon:"menu-reload"},{value:"openInBrowser",name:"Open in Browser",fontIcon:"menu-globe"},{value:"copyUrl",name:"Copy Link",fontIcon:"menu-copy"},{value:"close",name:"Close",fontIcon:"menu-close",withDelimiter:!0}],Wh=fe(je((e=>{const{currentBrowserOptions:t}=e;return{url:null==t?void 0:t.url,title:null==t?void 0:t.title}}))((function(t){let{url:n,title:a}=t;const{closeBrowser:o,showNotification:r}=Ke(),i=Ar(),s=me(),{setupDappBridge:c}=function(t){const n=me(),a=Wo((a=>{var o;null===(o=n.current)||void 0===o||o.call(n);const r=a.target;n.current=(0,Do.kB)(Ro(t),new URL(t).origin,r.contentWindow,e.hUJ)}));return ce((()=>{if(t)return()=>{var e;null===(e=n.current)||void 0===e||e.call(n)}}),[t]),{setupDappBridge:a}}(n),l=de((()=>n&&new URL(n).host),[n]),d=Sh(a||l&&(Rh[l]||l)),u=Wo((e=>{if(!n)return;const t=s.current;switch(e){case"reload":t.src="about:blank",t.addEventListener("load",(()=>{t.src=n}),{once:!0});break;case"openInBrowser":ic(n,{isExternal:!0});break;case"copyUrl":dl(n),r({message:i("URL was copied!"),icon:"icon-copy"});break;case"share":kh(n,d);break;case"close":o()}}));return ge.createElement(Zs,{isOpen:Boolean(n),dialogClassName:"sszvWMpD",onClose:o},ge.createElement(Fh,{title:d,menuItems:Uh,onMenuItemClick:u,className:"ndvLaNkq"}),ge.createElement("iframe",{ref:s,title:d,src:n,className:"qm6h4mWP",allow:"web-share; clipboard-write",onLoad:c}))})));function Hh(e,t){let{rootRef:n,throttleMs:a,throttleScheduler:o,debounceMs:r,shouldSkipFirst:i,margin:s,threshold:c,isDisabled:d}=e;const u=me(),m=me(),p=me(0),f=me();m.current=t;const h=Wo((()=>{p.current++})),g=Wo((()=>{p.current&&(p.current--,!p.current&&f.current&&(f.current(),f.current=void 0))}));_p(h,g),ce((()=>{if(!d)return()=>{u.current&&(u.current.observer.disconnect(),u.current.callbacks.clear(),u.current=void 0)}}),[d]);const v=Wo(((e,t)=>{u.current||function(){const e=new Map,t=new Map;let d;function h(){if(p.current)return void(f.current=d);const n=Array.from(t.values());n.forEach((t=>{const a=e.get(t.target);a&&a(t,n)})),m.current&&m.current(n),t.clear()}d="function"==typeof o?(0,l.nb)(o,h):a?(0,l.nF)(h,a,!i):r?(0,l.sg)(h,r,!i):h;const g=new IntersectionObserver((e=>{e.forEach((e=>{t.set(e.target,e)})),p.current?f.current=d:d()}),{root:null==n?void 0:n.current,rootMargin:s?`${s}px`:void 0,threshold:c});u.current={observer:g,callbacks:e}}();const d=u.current;return d.observer.observe(e),t&&d.callbacks.set(e,t),()=>{t&&d.callbacks.delete(e),d.observer.unobserve(e)}}));return{observe:v,freeze:h,unfreeze:g}}function $h(e,t,n){const[a,o]=pe(!t);return function(e,t,n){const a=Wo(n);ce((()=>t?t(e.current,a):void 0),[a,t,e])}(e,t,(e=>{o(e.isIntersecting),n&&n(e)})),a}let Vh;const zh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Wo(e);ce((()=>{if(void 0===t)return;const e=setInterval(a,t);return n||a(),()=>clearInterval(e)}),[t,a,n])},Kh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=Wo(e);ce((()=>{if("number"==typeof t)return(0,l.Gf)(t,a)}),[t,a,...n])},qh="T1ztMNGQ",jh=i.p+"app-inactive.e835efd0bf0191aaa6ab.png",Yh=i.p+"app-inactive.70579bd9a710cd418aff.webp",Gh=function(){const t=Ar(),n=Wo((()=>{window.location.reload()}));return ge.createElement("div",{className:"cFGCnqcA"},ge.createElement("div",{className:"sRTywfr2"},ge.createElement("picture",{className:qh},ge.createElement("source",{src:Yh}),ge.createElement("img",{src:jh,alt:"",className:qh})),ge.createElement("h3",{className:"UervEVFY"},t("Such error, many tabs")),ge.createElement("div",{className:"rO8yQetD"},tr(t("$many_tabs_error_description",{app_name:e.C39}))),ge.createElement("div",{className:"u6bKEBnR"},ge.createElement(Vs,{isText:!0,className:"eymlW7_B",onClick:n},t("Reload App")))))};function Qh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const[t,n]=ie(!0),[a,o]=ie(!0),r=Wo((t=>{if(!t)return;const{scrollHeight:a,scrollTop:r,clientHeight:i}=t;n(r<e),o(a-r-i<e)}));return{isAtBeginning:t,isAtEnd:a,isScrolled:!t,handleScroll:Wo((e=>{r(e.target)})),update:r}}const Xh={root:"YO7I0Ma0"},Jh={"🥷":"1f977","🦄":"1f984","⚠️":"26a0"},Zh=new Set,eg=fe((function(e){let{from:t}=e;const n=t in Jh?Jh[t]:t,a=`./emoji/${n}.png`,[o,r]=ju(Zh.has(a)),i=Ep(o),s=Wo((()=>{r(),Zh.add(a)}));return ge.createElement("img",{ref:i,src:a,alt:t,className:Tr(Xh.root,Xh[`key-${n}`]),onLoad:s})})),tg={wrapper:"T7fZ5IMk",slide:"syDfunZP",modalDialog:"xRqyv_rX",header:"aDfdss28",withTopSpace:"dtjdV8GY",nestedTransition:"jX5Ya3FK",transitionContainer:"yVzk5dwl",developerCloseButton:"yn74reot",onlyTextHeader:"CgjtBlIK",headerInsideModal:"eFeOVzRI",languageHeader:"ZrejUKsI",headerBack:"ehDj7x2p",isInsideModal:"Wccw6pgw",hidden:"yTnK4aVo",iconChevron:"Qea3kUMy",headerBackInContent:"zvnNb8eo",headerTitle:"aZVKC5O6",modalHeader:"vwHnpdwF",content:"rgMxxE39",content_noScroll:"lh0I5gIh",contentNoScroll:"lh0I5gIh",withBottomSpace:"cjfvEx15",contentInModal:"ug6WizbB",contentFullSize:"BpFwAWae",blockTitle:"dBOj5NnG",menuIcon:"M1WSmGuc",themeWrapper:"cfK5v5m1",blockAbout:"yuZIbS8n",theme:"N5nUfRHH",theme_active:"eTa03cXj",themeActive:"eTa03cXj",themeIcon:"tZRnZj9J",themeIcon_active:"eEiBESrS",themeIconActive:"eEiBESrS",themeImg:"H_nvpBU5",colorList:"ftMWz1de",colorButton:"OaFvanYP",colorButtonCurrent:"GthJhaus",iconLock:"n1s4Ycb6",iconLockInverted:"r9kXSmsP",subBlockAsButton:"ImElqofC",block:"wJjymc4L",text:"sU0zQDmb",settingsBlockWithDescription:"xosGoD5d",settingsBlock:"_0TWKZFz4",iconChevronRight:"RHurCQ9b",iconQuestion:"CLKLBCVt",item:"o1nQhJ_F",draggable:"k2juknci",item_red:"yYJCYbbd",itemRed:"yYJCYbbd",item_small:"cC1nd9dM",itemSmall:"cC1nd9dM",item_lang:"kIWs2Jxk",itemLang:"kIWs2Jxk",item_wallet_version:"tTZZHEdN",itemWalletVersion:"tTZZHEdN",item_token:"LMTs4OeN",itemToken:"LMTs4OeN",item_disabled:"F3nzrEuV",itemDisabled:"F3nzrEuV",itemAutoLock:"TAmUTusj",itemInfo:"S5Kk31wp",small:"gq4usdgr",version:"oGJ2X15D",languageMain:"cIO_6vYD",languageNative:"NGS7pE5c",wideTooltip:"xZy_xEHS",disconnectButton:"Wu3RiwSF",dapps:"eyE78PWW",changePasswordButton:"xBpPU4Jb",passwordFormContent:"KQuDNpn5",passwordFormContentInModal:"OzmF3O5t",sticker:"aMwtPBfB",blockDescription:"HuH8igQi",emptyList:"ThoQya6m",emptyListTitle:"lek7Y5aS",dapp:"xc0VaBDP",backButton:"QlOjly_V",logo:"LQ5MMcSf",stickerNativeBiometric:"nLxfZG3p",pinPadHeader:"tnqhb1Qi",pinPadHeaderMinified:"K1fiksuZ",pinPadTitle:"MxOcmI0_",title:"sDP2AWSj",titleLink:"r7iIIH6q",heading:"Sh2kuIH2",github:"dBqNllGm",telegram:"sggkOqTT",tokenSortIcon:"V7Nh7XEi",tokenTitle:"wkk1b7Dc",tokenDescription:"cv6gw8az",tokenAmount:"BekK0Dwp",dot:"Zfi1H_we",dotLarge:"LIr9yHMx",contentRelative:"EiFz4WrA",sortableContainer:"zmQzVO7l",modalDialogWeb:"E67Qdj_t",modalContent:"mjHzkDZB",deleteText:"d8sxNodF",languageInfo:"AXAMGE3T",tokenInfo:"ll1f03qi",stickerAndTitle:"upR_yI1c",sideTitle:"atPnEcVz",aboutFooterWrapper:"EYMlspWb",aboutFooterContent:"U1sbe5pk",blockWalletVersionText:"poUctQOF",walletVersionInfo:"spNULnGc",walletVersionInfoRight:"Ez0t7GFF",walletVersionTitle:"DbBBKMBg",walletVersionTokens:"DUzHgWKY",walletVersionAddress:"xPrZcrFZ",walletVersionAmount:"nvPRmXTF",blockWalletVersionReadMore:"g3U3zj6y",nftPrimaryCell:"zpLwMrPQ",nftName:"JHu8TtpB",nftCollection:"mbtZbU1u",nftImage:"pifBd9KV",nftButtonUnhide:"_o8QIssq",account:"TXe6O6ZF",accountDisabled:"vf82b5zy"},ng=fe((function(t){let{isActive:n,isInsideModal:a,theme:o,headerClassName:r,handleBackClick:i}=t;const s=Ar();zi({isActive:n,onBack:i});const{handleScroll:c,isScrolled:l}=Qh(),d="light"===Sf(o)?Lf:Df,u=s("$about_extension_link_text",{app_name:e.C39});return ge.createElement("div",{className:tg.slide},a?ge.createElement(Fh,{title:s("About %app_name%",{app_name:e.C39}),withNotch:l,onBackButtonClick:i,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,r,"with-notch-on-scroll",l&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:i,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,s("Back"))),ge.createElement("span",{className:tg.headerTitle},s("About %app_name%",{app_name:e.C39}))),ge.createElement("div",{className:Tr(tg.content,a&&"custom-scroll",!a&&tg.content_noScroll),onScroll:a?c:void 0},ge.createElement("img",{src:d,alt:s("Logo"),className:tg.logo}),ge.createElement("h2",{className:tg.title},e.C39," ",e.hl5," ",e.vOV,!e.TI6&&ge.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",className:tg.titleLink,rel:"noreferrer"},"mytonwallet.io")),ge.createElement("div",{className:Tr(tg.blockAbout,!a&&"custom-scroll")},ge.createElement("p",{className:tg.text},tr(s("$about_description1"))),ge.createElement("p",{className:tg.text},tr(s("$about_description2"))),e.hL1?ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:Tr(tg.text,tg.heading)},ge.createElement(eg,{from:"🥷"})," ",s("What is TON Proxy?")),ge.createElement("p",{className:tg.text},tr(s("$about_extension_description1"))," ",ge.createElement("a",{href:"https://telegra.ph/TON-Sites-TON-WWW-and-TON-Proxy-09-29-2",target:"_blank",rel:"noopener noreferrer"},s("More info and demo."))),ge.createElement("h3",{className:Tr(tg.text,tg.heading)},ge.createElement(eg,{from:"🦄"})," ",s("What is TON Magic?")),ge.createElement("p",{className:tg.text},tr(s("$about_extension_description2"))),ge.createElement("p",{className:tg.text},s("$about_extension_description3")," ",ge.createElement("a",{href:"https://telegra.ph/Telegram--TON-11-10",target:"_blank",rel:"noopener noreferrer"},s("More info and demo.")))):ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:Tr(tg.text,tg.heading)},s("$about_proxy_magic_title",{ninja:ge.createElement(eg,{from:"🥷"}),unicorn:ge.createElement(eg,{from:"🦄"})})),ge.createElement("p",{className:tg.text},s("$about_proxy_magic_description",{extension_link:ge.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",rel:"noreferrer"},tr(u))}))),ge.createElement("h3",{className:Tr(tg.text,tg.heading)},ge.createElement("i",{className:Tr(tg.github,"icon-github"),"aria-hidden":!0})," ",s("Is it open source?")),ge.createElement("p",{className:tg.text},s("$about_wallet_github",{github_link:ge.createElement("a",{href:e.V3_,target:"_blank",rel:"noreferrer"},tr(s("$about_github_link_text")))})),ge.createElement("h3",{className:tg.heading},ge.createElement("i",{className:Tr(tg.telegram,"icon-telegram"),"aria-hidden":!0})," ",s("Is there a community?")),ge.createElement("p",{className:tg.text},s("$about_wallet_community",{community_link:ge.createElement("a",{href:"ru"===s.code?"https://t.me/MyTonWalletRu":"https://t.me/MyTonWalletEn",target:"_blank",rel:"noreferrer"},tr(s("$about_community_link_text")))}))),ge.createElement("div",{className:tg.aboutFooterWrapper},ge.createElement("div",{className:tg.aboutFooterContent},ge.createElement("a",{href:"https://mytonwallet.io/terms-of-use",target:"_blank",rel:"noreferrer",onClick:cc},s("Terms of Use")),ge.createElement("i",{className:tg.dotLarge,"aria-hidden":!0}),ge.createElement("a",{href:"https://mytonwallet.io/privacy-policy",target:"_blank",rel:"noreferrer",onClick:cc},s("Privacy Policy"))))))})),ag={wrapper:"ULZ34zm7",transitionContainer:"IpdZLqJd",transitionSlide:"XE9A_oIT",container:"PaAMLiEx",container_scrollable:"Kl8WYoh1",containerScrollable:"Kl8WYoh1",container_password:"UbkFqyhU",containerPassword:"UbkFqyhU",containerAlignTop:"kjX3jz7x",containerFullSize:"TyvpW2dz",aboutHeader:"fW4ULVz8",logo:"ehC1Upu8",appName:"IDG3Q9do",title:"GWv6k9kV",title_afterSmallSticker:"A9um3wzK",titleAfterSmallSticker:"A9um3wzK",titleSmallMargin:"XUVoSlvz",infoBlock:"PxIcz2Ce",text:"ehvMomrX",informationCheckbox:"EnuqqZk3",informationCheckboxContent:"GFpWMNm5",info:"WrpQj6v4",info_push:"I7MJaI4h",infoPush:"I7MJaI4h",info__space:"D8smEaJr",infoSpace:"D8smEaJr",infoPull:"NnW2gTZ2",infoSmallFont:"NNleMmCd",counter:"BMrG2A2B",counterTitle:"IFpNJ6G4",counterDigit:"FvuWBVMK",small:"I1fhFmAn",sticker:"hkc_A2ok",viewModeSticker:"lD3yvgO7",stickerAndTitle:"I_XB4JzC",backupNotice:"jSFFHbPH",backupNoticeButtons:"kUt_RfrB",modalSticker:"oxNcdksx",form:"VKREIrDv",formWidgets:"Vj7_u12z",passwordForm:"Stc9sPH6",errors:"vozeQrSV",passwordRules:"usE91GiK",passwordRule:"zwUB1a_J",valid:"tAmeBNo9",error:"B8vH7CYQ",buttons:"ODle5ROH",buttons__inner:"oNN6ymiQ",buttonsInner:"oNN6ymiQ",footerButton:"sarw89g5",btn:"SWvNin2D",btn_push:"W1k0H_HF",btnPush:"W1k0H_HF",btn_text:"qoCa264k",btnText:"qoCa264k",btn_about:"hc6SmKii",btnAbout:"hc6SmKii",btn_wide:"nfn0Ol3p",btnWide:"nfn0Ol3p",btn_mini:"Q2imCrap",btnMini:"Q2imCrap",btn_single:"uEEAE1sZ",btnSingle:"uEEAE1sZ",btnHalfWidth:"X7zz6SZl",modalDialog:"fGexmyHI",privateKey:"q7ZIxYSc",importingContent:"NH8rGjmE",footerError:"BZGziOTc",importButtonsBlock:"NM17kdjV",importButtonsBlockSimple:"PPE4xSFG",importText:"MHwkgrIZ",importButtons:"dYD_CpfV",biometricsStep:"t3qgjBKg",warning:"bs9tLaLO",biometricsError:"Es3mlsbs",stepTransition:"POUbGjea",passwordFormContainer:"t9A5nUYe",header:"iowmPhKV",headerTitle:"x58Cmt9r",pinPadHeader:"yHcMeGVS",headerBack:"ZzxVO58v",headerBackBlock:"NVF8z8CV",iconChevron:"vP8i059j",biometricsIcon:"ss3uFaAC",biometricsTitle:"VTH_ATCk",biometricsSubtitle:"C3vZhdz7",actionsSection:"Lfkf9AW5",importModalContent:"vb2ESy1T",disclaimerBackupDialog:"ZjhuaYXI"},og=fe((function(e){let{isActive:t,isLoading:n,error:a,method:o}=e;const{resetAuth:r,cleanAuthError:i,addAccount:s}=Ke(),c=Ar(),l="createAccount"!==o,d=Wo((e=>{s({method:l?"importMnemonic":"createAccount",password:e,isAuthFlow:!0})}));return ge.createElement("div",{className:Tr(ag.container,ag.container_scrollable,"custom-scroll")},ge.createElement(Cf,{isActive:t,isLoading:n,error:a,containerClassName:ag.passwordForm,submitLabel:c("Send"),cancelLabel:c("Back"),onSubmit:d,onCancel:r,onUpdate:i},ge.createElement("div",{className:ag.title},c("Enter your password"))))})),rg={suggestions:"wSbrkEKB",bottom:"YGdWEJ33",top:"jKY8_1nT",suggestion:"MtG_CWxm",active:"kdLCV21p"},ig=fe((function(e){let{position:t="bottom",suggestions:n,activeIndex:a,isInModal:o,onSelect:r}=e;const i=Ar(),s=e=>{e.preventDefault();const t=e.target.innerText.trim();r(t)};return n.length?ge.createElement("ul",{className:Tr(rg.suggestions,rg[t],o&&rg.embedded)},n.map(((e,t)=>ge.createElement("li",{key:e,role:"button",tabIndex:0,className:Tr(rg.suggestion,t===a&&rg.active),onMouseDown:s},e)))):ge.createElement("div",{className:rg.suggestions},ge.createElement("li",{className:rg.suggestion},i("No suggestions, you're on your own!")))})),sg={wrapper:"fZW_3WXP",wrapper_focus:"sqh1ynr8",wrapperFocus:"sqh1ynr8",wrapper_error:"z4J8kfq3",wrapperError:"z4J8kfq3",input:"L1vlW70a",label:"Qg48sdUG"},cg=fe((function(t){let{id:n,nextId:o,labelText:r,className:i,value:s="",isInModal:c,suggestionsPosition:l,inputArg:d,onInput:u,onEnter:m}=t;const[p,f,h]=ju(),[g,v]=ie(!1),[w,y]=ie([]),[b,E]=ie(0),[C,N]=ie(!1),[S,A]=ie([]),T=C&&s&&w.length>0;ce((()=>{(0,a.p)("getMnemonicWordList").then((e=>A(e??[])))}),[]),ce((()=>{const t=!s||C&&w.length>0||function(t,n){return t.length===e.PcM||n.includes(t)}(s,S);v(!t)}),[C,w.length,s,S]);const I=e=>{const t=S.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))).slice(0,7);u(e,d),y(t),E(0),N(!0)},B=Wo((e=>{if(!s)return;m&&!C&&m();const t=w[b];t&&(u(t,d),y([t]),E(0),N(!1),C&&e.preventDefault(),o&&(0,k.YS)((()=>{(0,k.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))})))}));ce((()=>p?Wr({onEnter:B,onTab:e=>{e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||B(e)},onUp:()=>{b>0&&E(b-1)},onDown:()=>{b<w.length-1&&E(b+1)}}):void 0));const _=Wo((e=>{u(e,d),N(!1),E(0),y([]),o&&(0,k.YS)((()=>{(0,k.YS)((()=>{const e=document.getElementById(o);null==e||e.focus(),null==e||e.select()}))}))}));return ge.createElement("div",{className:Tr(sg.wrapper,i,p&&sg.wrapper_focus,g&&sg.wrapper_error)},T&&ge.createElement(ig,{suggestions:w,activeIndex:b,position:l,isInModal:c,onSelect:_}),ge.createElement("label",{className:sg.label,htmlFor:n},r,"."),ge.createElement("input",{id:n,className:Tr(sg.input,""!==s&&sg.touched),type:"text",autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,spellCheck:!1,onChange:e=>{const t=e.target.value;I(t)},onFocus:e=>{I(e.target.value),f()},onBlur:e=>{e.target.blur(),h(),requestAnimationFrame((()=>{N(!1),y([])}))},onPaste:e=>{const t=e.clipboardData.getData("text");t&&I(t)},value:s,tabIndex:0,"data-focus-scroll-position":"top"===l?"end":"start"}))})),lg="L6u18JBd",dg="NvN6uNIF",ug="u7rnL9q6",mg="o4FCVeIa",pg="jCCt2XRK",fg="pfd8fIrT",hg=fe((function(t){var n;let{isActive:a,isInModal:o,checkIndexes:r,mnemonic:i,descriptionClassName:s,formClassName:l,errorClassName:d,onSubmit:u}=t;const m=Ar(),[p,f]=ie({}),[h,g]=ie(!1),v=Wo((e=>{e.preventDefault();const t=i&&(null==r?void 0:r.map((e=>i[e])));t&&(0,c.k)(t,Object.values(p))?u():g(!0)}));ce((()=>{a&&(f({}),g(!1))}),[a]);const w=Wo(((e,t)=>{f({...p,[t]:null==e?void 0:e.toLowerCase()})}));return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:s},tr(m("$mnemonic_check_words_list",null==r||null===(n=r.map((e=>e+1)))||void 0===n?void 0:n.join(", ")))),ge.createElement("form",{className:l,onSubmit:v,id:"check_mnemonic_form"},r.map(((t,n)=>ge.createElement(cg,{key:t,id:`check-mnemonic-${n}`,nextId:n+1<e.ow1?`check-mnemonic-${n+1}`:void 0,labelText:`${t+1}`,value:p[t],isInModal:o,suggestionsPosition:n<=1?"bottom":"top",inputArg:t,className:"_YK5KiZw",onInput:w})))),h&&ge.createElement("div",{className:d},tr(m("$mnemonic_check_error"))))})),gg=fe((function(t){let{isActive:n,checkIndexes:a,mnemonic:o}=t;const{closeCheckWordsPage:r}=Ke(),i=Wo((()=>{r({isBackupCreated:!0})})),s=Ar();return ge.createElement(ge.Fragment,null,ge.createElement($p,{tgsUrl:fp.bill,previewUrl:fp.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:lg}),ge.createElement("p",{className:Tr(mg,fg)},tr(s("$check_words_description"))),ge.createElement(hg,{descriptionClassName:Tr(mg,fg),formClassName:"ftYLMV0R",isActive:n,mnemonic:o,checkIndexes:a,errorClassName:"WeqRS7VQ",onSubmit:i}),ge.createElement("div",{className:dg},ge.createElement(Vs,{isPrimary:!0,forFormId:"check_mnemonic_form",className:ug},s("Continue"))))})),vg=fe((e=>{let{isActive:t,mnemonic:n,checkIndexes:a}=e;const{openMnemonicPage:o}=Ke(),r=Ar();return zi({isActive:t,onBack:o}),ge.createElement("div",{className:ag.wrapper},ge.createElement("div",{className:Tr(ag.container,"custom-scroll")},ge.createElement("div",{className:ag.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:o,className:ag.headerBackBlock},ge.createElement("i",{className:Tr(ag.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("span",{className:ag.headerTitle},r("Let's Check!"))),ge.createElement(gg,{isActive:t,mnemonic:n,checkIndexes:a})))})),wg=Oa.Z2,yg=fe((function(e){let{isActive:t,biometricsStep:n,error:a,isLoading:o}=e;const{afterCreateBiometrics:r,resetAuth:i,cancelCreateBiometrics:s}=Ke();Kh(r,t?wg:void 0,[t]);const c=Ar(),l=Boolean(n),d=Boolean(a&&!l),u=Sh(a,!0);return zi({isActive:t,onBack:i}),ge.createElement("div",{className:Tr(ag.container,ag.container_scrollable,"custom-scroll")},ge.createElement($p,{play:t,tgsUrl:fp.guard,previewUrl:fp.guardPreview,noLoop:!1,nonInteractive:!0,className:ag.sticker}),ge.createElement("div",{className:ag.title},c("Turn On Biometrics")),l&&ge.createElement("div",{className:ag.biometricsStep},c(1===n?"Step 1 of 2. Registration":"Step 2 of 2. Verification")),d&&ge.createElement("div",{className:Tr(ag.biometricsError)},ge.createElement("div",null,c(u||"Unknown error")),ge.createElement("div",null,c("Please try to confirm your biometrics again"))),ge.createElement("div",{className:ag.buttons},ge.createElement("div",{className:ag.buttons__inner},ge.createElement(Vs,{isDisabled:Boolean(n)||o,className:Tr(ag.btn,ag.btnHalfWidth),onClick:s},c("Cancel")),d&&ge.createElement(Vs,{isPrimary:!0,className:Tr(ag.btn,ag.btnHalfWidth),isDisabled:Boolean(n)||o,onClick:r},c("Try Again")))))})),bg=fe(je((e=>({pin:e.auth.password})))((t=>{let{isActive:n,method:a,pin:o}=t;const{confirmPin:r,cancelConfirmPin:i}=Ke(),s=Ar(),[c,d]=ie(""),[u,m]=ie(""),[p,f]=ie(!1),h="createAccount"!==a,g=Wo((()=>{i({isImporting:h})}));zi({isActive:n,onBack:g}),ce((()=>{n&&(d(""),m(""),f(!1))}),[n]);const v=Wo((e=>{d(e),m("")})),w=Wo((async e=>{e===o?(f(!0),await(0,l.v7)(1500),r({isImporting:h})):m(s("Codes don't match"))}));return ge.createElement("div",{className:Tr(ag.container,ag.containerFullSize)},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:g,className:ag.headerBack},ge.createElement("i",{className:Tr(ag.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,s("Back"))),ge.createElement("div",{className:ag.pinPadHeader},ge.createElement($p,{play:n,tgsUrl:fp.guard,previewUrl:fp.guardPreview,noLoop:!1,nonInteractive:!0}),ge.createElement("div",{className:ag.title},s(h?"Wallet is imported!":"Wallet is ready!"))),ge.createElement(vf,{isActive:n,title:p?s("Code set successfully"):u||s("Enter your code again"),type:p?"success":u?"error":void 0,length:e.NEx,value:c,onChange:v,onSubmit:w}))}))),Eg=fe((function(t){let{isActive:n}=t;const{skipCheckMnemonic:a,openAuthBackupWalletModal:o,resetAuth:r}=Ke(),i=Ar();zi({isActive:n,onBack:r});const s=!e.p8S;return ge.createElement("div",{className:ag.wrapper},ge.createElement("div",{className:Tr(ag.container,"custom-scroll")},ge.createElement("div",{className:ag.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:r,className:ag.headerBackBlock},ge.createElement("i",{className:Tr(ag.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("span",{className:ag.headerTitle}," ")),ge.createElement($p,{play:n,tgsUrl:fp.snitch,previewUrl:fp.snitchPreview,noLoop:!1,nonInteractive:!0,className:ag.sticker}),ge.createElement("div",{className:ag.title},i("Create Backup")),ge.createElement("div",{className:ag.info},ge.createElement("p",{className:ag.info__space},tr(i("$auth_backup_description1"))),ge.createElement("p",null,tr(i("$auth_backup_description2"))),ge.createElement("p",null,tr(i("$auth_backup_description3")))),ge.createElement("div",{className:ag.buttons},ge.createElement(Vs,{isPrimary:!0,className:Tr(ag.btn,ag.btn_wide,!s&&ag.btn_single),onClick:o},i("$back_up_auth")),s&&ge.createElement(Vs,{isDestructive:!0,isText:!0,className:Tr(ag.btn,ag.btn_push),onClick:a},i("Later")))))})),kg=fe((e=>{let{isActive:t,method:n}=e;const{startCreatingBiometrics:a,resetAuth:o,skipCreateBiometrics:r}=Ke(),i=Ar(),s="createAccount"!==n;return zi({isActive:t,onBack:o}),ge.createElement("div",{className:Tr(ag.container,ag.container_scrollable,"custom-scroll")},ge.createElement($p,{play:t,tgsUrl:fp.happy,previewUrl:fp.happyPreview,noLoop:!1,nonInteractive:!0,className:ag.sticker}),ge.createElement("div",{className:ag.title},i("Congratulations!")),ge.createElement("p",{className:ag.info},ge.createElement("b",null,i(s?"The wallet is imported":"The wallet is ready"),".")),ge.createElement("p",{className:ag.info},i("Create a password or use biometric authentication to protect it.")),ge.createElement("div",{className:ag.buttons},ge.createElement(Vs,{isPrimary:!0,className:ag.btn,onClick:a},i("Connect Biometrics")),ge.createElement(Vs,{isText:!0,className:Tr(ag.btn,ag.btn_text),onClick:r},i("Use Password"))))})),Cg=i.p+"settings_biometrics.507638446829e8e0d552.svg",Ng=i.p+"settings_face-id.9114cd96723fdb063bc4.svg",Sg=fe((e=>{let{isActive:t,isLoading:n}=e;const{afterCreateNativeBiometrics:a,skipCreateNativeBiometrics:o,resetAuth:r}=Ke(),i=Ar(),s=Zc(),c=el();return zi({isActive:t,onBack:r}),ge.createElement("div",{className:ag.container},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:r,className:ag.headerBack},ge.createElement("i",{className:Tr(ag.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("img",{src:s?Ng:Cg,alt:"",className:ag.biometricsIcon}),ge.createElement("div",{className:ag.biometricsTitle},i(s?"Use Face ID":c?"Use Touch ID":"Use Biometrics")),ge.createElement("div",{className:ag.biometricsSubtitle},i("You can connect your biometric data for more convenience")),ge.createElement("div",{className:ag.buttons},ge.createElement(Vs,{isPrimary:!0,className:ag.btn,isLoading:n,onClick:n?void 0:a},i(s?"Connect Face ID":c?"Connect Touch ID":"Connect Biometrics")),ge.createElement(Vs,{isText:!0,isDisabled:n,className:Tr(ag.btn,ag.btn_text),onClick:o},i("Not Now"))))})),Ag=/[`!@#$%^&*()_+\-=\]{};':"\\|,.<>?~]/,Tg=fe((function(t){let{isActive:a,isLoading:o,formId:r,onCancel:i,onSubmit:s,containerClassName:c}=t;const l=Ar(),d=n.pz||n.Ni,u=me(),[m,p]=ie(!1),[f,h]=ie(""),[g,v]=ie(""),[w,y,b]=ju(!1),[E,k,C]=ju(!1),[N,S]=ie(!1),[A,T]=ie(!1),[I,B,_]=ju(!1),x=a&&f.length>0&&g.length>0&&!N,D=N&&!w,L=(e=>{let{firstPassword:t="",secondPassword:n="",requiredMinLength:a=8,requiredLength:o,isOnlyNumbers:r}=e;const[i,s]=ie(!1),[c,l]=ie(!1),[d,u]=ie(!1),[m,p]=ie(!1),[f,h]=ie(!1),[g,v]=ie(!1);return ce((()=>{const e=Boolean(!o&&t.length<a||o&&t.length!==o);s(e),u(!r&&t.toLowerCase()===t),p(!r&&t.toUpperCase()===t),l(!/\d/.test(t)),v(Boolean(t&&t!==n)),h(!r&&!Ag.test(t))}),[t,n,a,r,o]),{invalidLength:i,noNumber:c,noUpperCase:d,noLowerCase:m,noEqual:g,noSpecialChar:f}})({firstPassword:f,secondPassword:g,isOnlyNumbers:d,requiredLength:d?e.NEx:void 0});hp(u,!a),ce((()=>{if(T(!1),""===f||!a||w)return void S(!1);const{noEqual:e,invalidLength:t}=L;I&&!m||!e||""===g?(!e||""===g||I&&!m)&&S(!1):(S(!0),T(!0)),d&&t&&!m&&S(!0)}),[a,f,g,L,I,w,m,d]);const O=Wo((e=>{h(e),m&&p(!1)})),P=Wo((e=>{v(e),m&&p(!1)})),M=Wo((e=>{if(Io(e),!x)return;if(f!==g)return p(!0),S(!0),void T(!0);const t=Object.values(L).find((e=>e));d||!t||E?(E&&C(),s(f,d)):k()}));return ge.createElement(ge.Fragment,null,ge.createElement("form",{id:r,className:Tr(ag.form,c),onSubmit:M},ge.createElement("div",{className:ag.formWidgets},ge.createElement(zp,{ref:u,type:"password",isRequired:!0,id:"first-password",inputMode:d?"numeric":void 0,hasError:D,placeholder:l("Enter your password..."),value:f,autoComplete:"new-password",onInput:O,onFocus:y,onBlur:b,className:ag.input,maxLength:d?e.NEx:void 0,enterKeyHint:"next"}),ge.createElement(zp,{type:"password",isRequired:!0,id:"second-password",inputMode:d?"numeric":void 0,placeholder:l("...and repeat it"),hasError:A,value:g,autoComplete:"new-password",onInput:P,onFocus:B,onBlur:_,className:ag.input,maxLength:d?e.NEx:void 0,enterKeyHint:"next"})),function(){if(A)return ge.createElement("div",{className:Tr(ag.errors,ag.error)},l("Passwords must be equal."));const{invalidLength:t,noUpperCase:n,noLowerCase:a,noNumber:o,noSpecialChar:r}=L;return d?ge.createElement("div",{className:ag.passwordRules},ge.createElement("span",{className:Ig(D,t||o)},l("Password must contain %length% digits.",{length:e.NEx}))):ge.createElement("div",{className:ag.passwordRules},l("To protect your wallet as much as possible, use a password with"),ge.createElement("span",{className:Ig(D,t)}," ",l("$auth_password_rule_8chars"),","),ge.createElement("span",{className:Ig(D,a)}," ",l("$auth_password_rule_one_small_char"),","),ge.createElement("span",{className:Ig(D,n)}," ",l("$auth_password_rule_one_capital_char"),","),ge.createElement("span",{className:Ig(D,o)}," ",l("$auth_password_rule_one_digit"),","),ge.createElement("span",{className:Ig(D,r)}," ",l("$auth_password_rule_one_special_char")),".")}(),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:i,className:Ks.button,isDisabled:o},l("Cancel")),ge.createElement(Vs,{isSubmit:!0,isPrimary:!0,isDisabled:A||""===f,isLoading:o,className:Ks.button},l("Continue")))),ge.createElement(Zs,{isOpen:E,isCompact:!0,onClose:C,title:l("Insecure Password")},ge.createElement("p",{className:Ks.text},l("Your have entered an insecure password, which can be easily guessed by scammers.")),ge.createElement("p",{className:Ks.text},l("Continue or change password to something more secure?")),ge.createElement("div",{className:Tr(Ks.buttons,Ks.buttonsNoExtraSpace)},ge.createElement(Vs,{isPrimary:!0,onClick:C,className:Ks.button},l("Change")),ge.createElement(Vs,{forFormId:r,isSubmit:!0,isDestructive:!0,className:Ks.button},l("Continue")))))}));function Ig(e,t){return Tr(ag.passwordRule,t?e?ag.invalid:void 0:ag.valid)}const Bg=fe((e=>{let{isActive:t,method:a,isLoading:o}=e;const{afterCreatePassword:r,resetAuth:i}=Ke(),s=Ar(),c="createAccount"!==a,l=function(e){switch(e){case"createAccount":return"auth_create_password";case"importMnemonic":return"auth_import_mnemonic_password";case"importHardwareWallet":return"auth_import_hardware_password"}}(a),d=!(n.uh||Jc());zi({isActive:t,onBack:i});const u=Wo(((e,t)=>{r({password:e,isPasswordNumeric:t})}));return ge.createElement("div",{className:Tr(ag.container,ag.container_scrollable,"custom-scroll")},ge.createElement($p,{play:t,tgsUrl:fp.guard,previewUrl:fp.guardPreview,noLoop:!1,nonInteractive:!0,className:ag.sticker}),ge.createElement("div",{className:Tr(ag.title,!d&&ag.titleSmallMargin)},s(d?"Congratulations!":"Create Password")),d&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:ag.info},ge.createElement("b",null,s(c?"The wallet is imported":"The wallet is ready"),".")),ge.createElement("p",{className:ag.info},s("Create a password to protect it."))),ge.createElement(Tg,{isActive:t,isLoading:o,formId:l,onCancel:i,onSubmit:u}))})),_g=fe((t=>{let{isActive:n,method:a}=t;const{createPin:o,resetAuth:r}=Ke(),i=Ar(),[s,c]=ie(""),d="createAccount"!==a;ce((()=>{n&&c("")}),[n]),zi({isActive:n,onBack:r});const u=Wo((async e=>{await(0,l.v7)(750),o({pin:e,isImporting:d})}));return ge.createElement("div",{className:Tr(ag.container,ag.containerFullSize)},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:r,className:ag.headerBack},ge.createElement("i",{className:Tr(ag.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("div",{className:ag.pinPadHeader},ge.createElement($p,{play:n,tgsUrl:fp.guard,previewUrl:fp.guardPreview,noLoop:!1,nonInteractive:!0}),ge.createElement("div",{className:ag.title},i(d?"Wallet is imported!":"Wallet is ready!"))),ge.createElement(vf,{isActive:n,title:i("Create a code to protect it"),length:e.NEx,value:s,onChange:c,onSubmit:u}))})),xg=Oa.Z2,Dg=fe((e=>{let{isActive:t}=e;const n=Ar(),[a,o]=ju(),[r,i]=ju(),[s,c]=ju();Kh(o,t?700:void 0),Kh(i,t?700+xg:void 0),Kh(c,t?700+2*xg:void 0);const l=Ep(a),d=Ep(r),u=Ep(s);return ge.createElement("div",{className:Tr(ag.container,"custom-scroll")},ge.createElement($p,{play:t,tgsUrl:fp.hello,previewUrl:fp.helloPreview,nonInteractive:!0,noLoop:!1}),ge.createElement("div",{className:ag.title},n("Creating Wallet...")),ge.createElement("div",{className:ag.counter},ge.createElement("p",{className:ag.counterTitle},n("On the count of three...")),ge.createElement("b",{ref:l,className:Tr(ag.counterDigit,"rounded-font")},"1"),ge.createElement("b",{ref:d,className:Tr(ag.counterDigit,"rounded-font")},"2"),ge.createElement("b",{ref:u,className:Tr(ag.counterDigit,"rounded-font")},"3")))})),Lg=fe((function(t){let{isOpen:n,onSkip:a,onClose:o}=t;const{openAuthBackupWalletModal:r}=Ke(),i=Wo((()=>{o(),r()})),s=Ar(),c=!e.p8S;return ge.createElement(Zs,{isOpen:n,onClose:o,forceBottomSheet:!0,nativeBottomSheetKey:"backup-warning",dialogClassName:ag.disclaimerBackupDialog},ge.createElement("p",{className:ag.backupNotice},tr(s("$auth_backup_warning_notice"))),ge.createElement("div",{className:ag.backupNoticeButtons},ge.createElement(Vs,{isPrimary:!0,className:Tr(ag.btn,ag.btn_wide,!c&&ag.btn_single),onClick:i},s("Back Up Now")),c&&ge.createElement(Vs,{isDestructive:!0,className:Tr(ag.btn,ag.btn_mini),onClick:a},s("Later"))))})),Og=fe((t=>{let{isActive:n,isImport:a}=t;const{skipCheckMnemonic:o,confirmDisclaimer:r,cancelDisclaimer:i}=Ke(),s=Ar(),[c,l,d]=ju(!1);zi({isActive:n,onBack:i});const u=Wo((e=>{e?(l(),a&&window.setTimeout(r,350)):d()}));bi("backup-warning",l);const m=Wo((()=>{u(!1)})),p=Wo((()=>{o(),m()}));return ge.createElement("div",{className:ag.wrapper},ge.createElement("div",{className:Tr(ag.container,ag.container_scrollable,"custom-scroll")},ge.createElement("div",{className:ag.stickerAndTitle},ge.createElement($p,{play:n,tgsUrl:fp.snitch,previewUrl:fp.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW,className:ag.sticker}),ge.createElement("div",{className:ag.title},s("Use Responsibly"))),ge.createElement("div",{className:ag.infoBlock},ge.createElement("p",{className:ag.text},tr(s("$auth_responsibly_description1",{app_name:e.C39}))),ge.createElement("p",{className:ag.text},tr(s("$auth_responsibly_description2"))),ge.createElement("p",{className:ag.text},tr(s("$auth_responsibly_description3",{app_name:e.C39}))),ge.createElement("p",{className:ag.text},tr(s("$auth_responsibly_description4")))),ge.createElement(vp,{id:"information-confirmed",checked:c,isDisabled:a&&c,className:ag.informationCheckbox,contentClassName:ag.informationCheckboxContent,onChange:u},s("I have read and accept this information")),!a&&ge.createElement(Lg,{isOpen:c,onClose:m,onSkip:p})))})),Pg=[...Array(e.xA_)].map(((e,t)=>({id:t,label:`${t+1}`}))),Mg=e.PcM,Fg=fe(je((e=>({error:e.auth.error,isLoading:e.auth.isLoading})))((t=>{let{isActive:n,isLoading:o,error:r}=t;const{afterImportMnemonic:i,resetAuth:s,cleanAuthError:l}=Ke(),d=Ar(),[u,m]=ie({}),{isPortrait:p}=ui(),f=Wo((t=>{var n;(e.Yyb.includes(t.length)||ml(t))&&(requestAnimationFrame((()=>{m(t)})),null!==(n=document.activeElement)&&void 0!==n&&n.id.startsWith("import-mnemonic-")&&document.activeElement.blur())})),h=Wo((e=>{var t;const n=Rg(e);if(1===n.length&&null!==(t=document.activeElement)&&void 0!==t&&t.id.startsWith("import-mnemonic-")){document.activeElement.value=n[0];const e=new Event("input");document.activeElement.dispatchEvent(e)}else f(n)}));((e,t)=>{ce((()=>{if(e)return document.addEventListener("paste",n,!1),()=>{document.removeEventListener("paste",n,!1)};function n(e){if(!e.clipboardData)return;const n=e.clipboardData.getData("text").substring(0,4096);n&&(e.preventDefault(),t(n))}}),[e,t])})(Boolean(n),h);const g=de((()=>{const t=(0,c.oE)(Object.values(u));return!e.Yyb.includes(t.length)&&!ml(t)||!!r}),[u,r]),v=Wo(((t,n)=>{l();const a=Rg(t);e.Yyb.includes(a.length)?f(a):m({...u,[n]:a[0].toLowerCase()})})),w=Wo((()=>{setTimeout((()=>{s()}),250)})),y=Wo((async()=>{if(g)return;const e=(0,c.oE)(Object.values(u));(12!==e.length||await(0,a.p)("validateMnemonic",e))&&i({mnemonic:e})}));return zi({isActive:n,onBack:w}),ce((()=>g||o?void 0:Wr({onEnter:{handler:y,noStopPropagation:!0}})),[y,o,g,u]),ge.createElement("div",{className:Tr(ag.container,ag.container_scrollable,"custom-scroll")},ge.createElement($p,{play:n,size:e.jzp,tgsUrl:fp.snitch,previewUrl:fp.snitchPreview,nonInteractive:!0,noLoop:!1,className:ag.sticker}),ge.createElement("div",{className:Tr(ag.title,ag.title_afterSmallSticker)},d("Enter Secret Words")),ge.createElement("div",{className:Tr(ag.info,ag.infoSmallFont,ag.infoPull)},tr(d(e.iAh?"$auth_import_mnemonic_description":"$auth_import_24_mnemonic_description"))),ge.createElement("div",{className:ag.importingContent},Pg.map(((t,n)=>{let{id:a,label:o}=t;return ge.createElement(cg,{key:a,id:`import-mnemonic-${a}`,nextId:a+1<e.xA_?`import-mnemonic-${a+1}`:void 0,labelText:o,value:u[a],suggestionsPosition:Ug(a,p),inputArg:a,onInput:v,onEnter:n===e.xA_-1?y:void 0})}))),ge.createElement("div",{className:ag.buttons},r&&ge.createElement("div",{className:ag.footerError},d(r)),ge.createElement("div",{className:ag.buttons__inner},ge.createElement(Vs,{onClick:w,className:ag.footerButton},d("Cancel")),ge.createElement(Vs,{isPrimary:!0,isDisabled:g,isLoading:o,className:ag.footerButton,onClick:y},d("Continue")))))})));function Rg(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(?:\r\n)+|[\r\n\s;,\t]+/g," ").trim().split(" ").map((e=>e.slice(0,Mg)))}function Ug(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e>5&&e<8||e>13&&e<16||e>21?"top":void 0}const Wg=fe((function(e){let{isActive:t,isLoading:n,onCancel:a,onClose:o}=e;const{importViewAccount:r}=Ke(),i=Ar(),s=me(),[c,l]=ie(""),[d,u]=ie(!1);hp(s,!t),zi({isActive:t,onBack:a});const m=Wo((e=>{l(e),d&&u(!1)}));return ge.createElement("div",{className:Ks.transitionContentWrapper},ge.createElement(Fh,{title:i("View Any Address"),onClose:o,onBackButtonClick:a}),ge.createElement("form",{action:"#",className:Tr(Ks.transitionContent,"custom-scroll"),onSubmit:function(e){if(Io(e),d||n)return;const t=c.trim().split(/\s+/),a={};var o;t.reduce(((e,t)=>va(t,"ton")?(a.ton=t,!0):va(t,"tron")?(a.tron=t,!0):e),!1)?(r({addressByChain:a}),null===(o=s.current)||void 0===o||o.blur()):u(!0)}},ge.createElement($p,{play:t,tgsUrl:fp.bill,previewUrl:fp.billPreview,noLoop:!1,nonInteractive:!0,className:ag.viewModeSticker}),ge.createElement(zp,{ref:s,value:c,hasError:d,placeholder:i("Wallet Address or Domain"),autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,enterKeyHint:"done",onInput:m}),ge.createElement("p",{className:ag.info},tr(i("$import_view_account_note"))),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,isSubmit:!0,className:Ks.buttonFullWidth,isLoading:n,isDisabled:d},i(d?"Invalid Address":"Continue")))))})),Hg=fe((function(t){let{customStickerClassName:n,customButtonWrapperClassName:a,isFullSizeButton:o,isActive:r,isFirstCheckboxSelected:i,isSecondCheckboxSelected:s,isThirdCheckboxSelected:c,textFirst:l,textSecond:d,textThird:u,onFirstCheckboxClick:m,onSecondCheckboxClick:p,onThirdCheckboxClick:f,onSubmit:h}=t;const g=Ar(),v=i&&s&&c,w=Wo((()=>{v&&h()}));return ge.createElement(ge.Fragment,null,ge.createElement($p,{tgsUrl:fp.bill,previewUrl:fp.billPreview,size:e.lWW,play:r,nonInteractive:!0,noLoop:!1,className:n||lg}),ge.createElement(vp,{checked:i,onChange:m},tr(l)),ge.createElement(vp,{checked:s,onChange:p},tr(d)),ge.createElement(vp,{checked:c,onChange:f},tr(u)),ge.createElement("div",{className:a||dg},ge.createElement(Vs,{isPrimary:!0,isDisabled:!v,className:o?ug:void 0,onClick:w},g("Understood"))))})),$g=fe((e=>{let{isActive:t}=e;const{openCreateBackUpPage:n,openMnemonicPage:a}=Ke(),[o,r]=ie(!1),[i,s]=ie(!1),[c,l]=ie(!1);zi({isActive:t,onBack:n});const d=Ar();return ge.createElement("div",{className:ag.wrapper},ge.createElement("div",{className:Tr(ag.container,"custom-scroll")},ge.createElement("div",{className:ag.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:n,className:ag.headerBackBlock},ge.createElement("i",{className:Tr(ag.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back"))),ge.createElement("span",{className:ag.headerTitle},d("Safety Rules"))),ge.createElement(Hg,{isActive:t,isFullSizeButton:!0,textFirst:d("$safety_rules_one"),textSecond:d("$safety_rules_two"),textThird:d("$safety_rules_three"),isFirstCheckboxSelected:o,onFirstCheckboxClick:r,isSecondCheckboxSelected:i,onSecondCheckboxClick:s,isThirdCheckboxSelected:c,onThirdCheckboxClick:l,onSubmit:a})))})),Vg=fe((function(e){let{mnemonic:t}=e;const n=Ar();return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Tr(mg,fg)},tr(n("$mnemonic_list_description"))),ge.createElement("p",{className:Tr(pg)},tr(n("$mnemonic_warning"))),ge.createElement("ol",{className:"Yaqcau6G"},null==t?void 0:t.map(((e,t)=>ge.createElement("li",{key:t,className:"qdW2OhFc"},e)))))})),zg=fe((function(t){let{isActive:n,mnemonic:a,onSubmit:o,buttonText:r}=t;return ge.createElement(ge.Fragment,null,ge.createElement($p,{tgsUrl:fp.bill,previewUrl:fp.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:lg}),ge.createElement(Vg,{mnemonic:a}),ge.createElement("div",{className:dg},ge.createElement(Vs,{isPrimary:!0,onClick:o,className:ug},r)))})),Kg=fe((e=>{let{isActive:t,mnemonic:n}=e;const{openAuthBackupWalletModal:a,openCheckWordsPage:o}=Ke(),r=Ar();zi({isActive:t,onBack:a});const i=(null==n?void 0:n.length)||0;return ge.createElement("div",{className:ag.wrapper},ge.createElement("div",{className:Tr(ag.container,ag.containerAlignTop,"custom-scroll")},ge.createElement("div",{className:ag.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:a,className:ag.headerBackBlock},ge.createElement("i",{className:Tr(ag.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("span",{className:ag.headerTitle},r("%1$d Secret Words",i))),ge.createElement(zg,{isActive:t,mnemonic:n,onSubmit:o,buttonText:r("Let's Check")})))})),qg=fe(je((e=>({hasAccounts:Boolean(e.currentAccountId),isLoading:e.auth.isLoading,theme:e.settings.theme})))((function(t){let{isActive:a,hasAccounts:o,isLoading:r,theme:i}=t;const{startCreatingWallet:s,startImportingWallet:c,openAbout:l,openHardwareWalletModal:d,resetAuth:u,openAuthImportWalletModal:m}=Ke(),p=Ar(),f="light"===Sf(i)?Lf:Df,[h,g]=ju(),v=Ep(h);return ge.createElement("div",{className:Tr(ag.container,"custom-scroll")},o&&ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:u,className:ag.headerBack},ge.createElement("i",{className:Tr(ag.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,p("Back"))),e.TI6?ge.createElement($p,{play:a,tgsUrl:fp.coreWalletLogo,previewUrl:fp.coreWalletLogoPreview,noLoop:!1,nonInteractive:!0}):ge.createElement("img",{ref:v,src:f,alt:e.C39,className:ag.logo,onLoad:g}),ge.createElement("div",{className:Tr(ag.appName,"rounded-font")},e.C39),ge.createElement("div",{className:ag.info},tr(p("$auth_intro"))),!e.TI6&&ge.createElement(Vs,{isText:!0,className:Tr(ag.btn,ag.btn_about),onClick:l},p("More about %app_name%",{app_name:e.C39}),ge.createElement("i",{className:"icon-chevron-right","aria-hidden":!0})),ge.createElement("div",{className:Tr(ag.importButtonsBlock,e.TI6&&ag.importButtonsBlockSimple)},ge.createElement(Vs,{isPrimary:!0,className:Tr(ag.btn,!e.TI6&&ag.btn_single,!e.TI6&&ag.btn_wide),isLoading:r,onClick:r?void 0:s},p("Create Wallet")),e.TI6?ge.createElement(ge.Fragment,null,ge.createElement("span",{className:ag.importText},p("or import from")),ge.createElement("div",{className:ag.importButtons},ge.createElement(Vs,{className:Tr(ag.btn,!n.sC&&ag.btn_single),onClick:r?void 0:c},p("Secret Words")),n.sC&&ge.createElement(Vs,{className:Tr(ag.btn,ag.btn_mini),onClick:r?void 0:d},p("Ledger")))):ge.createElement(Vs,{className:Tr(ag.btn,ag.btn_wide,ag.btn_single),onClick:r?void 0:m},p("Import Existing Wallet"))))}))),jg=Object.keys(Tn).length/2,Yg=fe(je((e=>({...(0,c.Up)(e.auth,["state","biometricsStep","error","mnemonic","mnemonicCheckIndexes","isLoading","method"]),theme:e.settings.theme})))((e=>{let{state:t,biometricsStep:a,error:o,isLoading:r,mnemonic:i,mnemonicCheckIndexes:s,method:c,theme:l}=e;const{closeAbout:d,closeImportViewAccount:u}=Ke(),{isPortrait:m}=ui(),p=Sh(t===Tn.ready?void 0:t,!0)??-1,[f,h]=ie(void 0),[g,v]=ie(p+1),w=Wo((()=>{v(p+1),h(p===Tn.confirmPin?Tn.createPin:void 0)}));function y(e,t,n){switch(n){case Tn.none:return ge.createElement(qg,{isActive:e});case Tn.createWallet:return ge.createElement(Dg,{isActive:e});case Tn.checkPassword:return ge.createElement(og,{isActive:e,isLoading:r,method:"createAccount",error:o});case Tn.createPin:return ge.createElement(_g,{isActive:e,method:"createAccount"});case Tn.confirmPin:return ge.createElement(bg,{isActive:e,method:"createAccount"});case Tn.createBiometrics:return ge.createElement(kg,{isActive:e,method:"createAccount"});case Tn.confirmBiometrics:return ge.createElement(yg,{isActive:e,isLoading:r,error:o,biometricsStep:a});case Tn.createNativeBiometrics:return ge.createElement(Sg,{isActive:e,isLoading:r});case Tn.createPassword:return ge.createElement(Bg,{isActive:e,isLoading:r,method:"createAccount"});case Tn.createBackup:return ge.createElement(Eg,{isActive:e});case Tn.disclaimerAndBackup:return ge.createElement(Og,{key:"create",isActive:e});case Tn.importWallet:return ge.createElement(Fg,{isActive:e});case Tn.importWalletCreatePin:return ge.createElement(_g,{isActive:e,method:"importMnemonic"});case Tn.importWalletConfirmPin:return ge.createElement(bg,{isActive:e,method:"importMnemonic"});case Tn.importWalletCheckPassword:return ge.createElement(og,{isActive:e,isLoading:r,method:"importMnemonic",error:o});case Tn.disclaimer:return ge.createElement(Og,{key:"import",isActive:e,isImport:!0});case Tn.importWalletCreateNativeBiometrics:return ge.createElement(Sg,{isActive:e,isLoading:r});case Tn.importWalletCreatePassword:return ge.createElement(Bg,{isActive:e,isLoading:r,method:c});case Tn.importWalletCreateBiometrics:return ge.createElement(kg,{isActive:e,method:c});case Tn.importWalletConfirmBiometrics:return ge.createElement(yg,{isActive:e,isLoading:r,error:o,biometricsStep:a});case Tn.about:return ge.createElement(ng,{isActive:e,theme:l,headerClassName:ag.aboutHeader,handleBackClick:d});case Tn.safetyRules:return ge.createElement($g,{isActive:e});case Tn.mnemonicPage:return ge.createElement(Kg,{isActive:e,mnemonic:i});case Tn.checkWords:return ge.createElement(vg,{isActive:e,mnemonic:i,checkIndexes:s});case Tn.importViewAccount:return ge.createElement(Wg,{isActive:e,isLoading:r,onCancel:u})}}return ge.createElement(ff,{name:m?n.Ni?"slideFade":"slideLayers":"semiFade",activeKey:p,renderCount:jg,shouldCleanup:!0,className:ag.transitionContainer,slideClassName:ag.transitionSlide,prevKey:f,nextKey:g,onStop:w,shouldWrap:!0},y)}))),Gg={spinner:"o7Soo94L",inner:"fnzgQDjn",spin:"dPrfSpVS",white:"ZwvOHvLC"},Qg=fe((function(e){let{ref:t,color:n,className:a}=e;const o=Ar(),r=Tr(Gg.spinner,n&&Gg[n],a);return ge.createElement("div",{ref:t,className:r,"aria-label":o("Loading...")},ge.createElement("i",{className:Tr(Gg.inner,"icon-spinner"),"aria-hidden":!0}))})),Xg={root:"h8WmgaJB",icon:"KW5fEe2q",rightItem:"yxdpwMGG",spinner:"_o9pbmfe"},Jg=fe((function(e){let{icon:t,label:n,className:a,isLoading:o,onClick:r}=e;return ge.createElement("button",{type:"button",className:Tr(Xg.root,a),onClick:r,disabled:o},ge.createElement("i",{className:Tr(Xg.icon,`icon-${t}`),"aria-hidden":!0}),ge.createElement("span",{className:Xg.label},n),o?ge.createElement(Qg,{className:Tr(Xg.rightItem,Xg.spinner)}):ge.createElement("i",{className:Tr(Xg.rightItem,"icon-chevron-right"),"aria-hidden":!0}))})),Zg=fe(je((e=>({isOpen:e.auth.isImportModalOpen})))((function(t){let{isOpen:a}=t;const{startImportingWallet:o,startImportViewAccount:r,openHardwareWalletModal:i,closeAuthImportWalletModal:s}=Ke(),c=Ar(),l=Wo((()=>{s(),o()})),d=Wo((()=>{s(),i()})),u=Wo((()=>{s(),r()}));return ge.createElement(Zs,{isOpen:a,title:c("Import Wallet"),hasCloseButton:!0,forceBottomSheet:!0,nativeBottomSheetKey:"import-account",contentClassName:ag.importModalContent,onClose:s},ge.createElement("div",{className:ag.actionsSection},ge.createElement(Jg,{icon:"key",label:c(e.TI6?"24 Secret Words":"12/24 Secret Words"),onClick:l}),n.sC&&ge.createElement(Jg,{icon:"ledger-alt",label:c("Ledger"),onClick:d})),!e.TI6&&ge.createElement("div",{className:ag.actionsSection},ge.createElement(Jg,{icon:"wallet-view",label:c("View Any Address"),onClick:u})))})));function ev(){return n.Ni?"slideFadeAndroid":n.pz?"slideLayers":"slideFade"}function tv(e,t){const n=Sh(t?e:void 0,!0)??-1,[a,o]=ie(),r=Wo((()=>{o(t?n+1:void 0)}));return ce((()=>{t&&setTimeout(r,300)}),[t,r]),{renderingKey:n,nextKey:a,updateNextKey:r}}function nv(t){const{result:n}=((e,t,n)=>{const[a,o]=ie(!1),[r,i]=ie(),[s,c]=ie(n);return ce((()=>{o(!0);let t=!1;return e().then((e=>{t||(o(!1),c(e))}),(e=>{t||(o(!1),i(e))})),()=>{t=!0}}),t),{isLoading:a,error:r,result:s}})((()=>t?async function(t){const n=await caches.open(e.F9m),a=await n.match(t);if(a){const e=await a.blob();return URL.createObjectURL(e)}const o=await fetch(t);if(!o.ok)throw new Error(`Image loading error: ${o.statusText}. URL: ${t}`);await n.put(t,o.clone());const r=await o.blob();return URL.createObjectURL(r)}(t):Promise.resolve(void 0)),[t]);return ce((()=>n?()=>{URL.revokeObjectURL(n)}:void 0),[n]),{imageUrl:n}}function av(e){const{mtwCardType:t,mtwCardTextType:n,mtwCardBorderShineType:a}=(null==e?void 0:e.metadata)||{},o=!!t&&"standard"!==t,r="standard"!==t?void 0:"dark"===n?"MtwCard__darkText":"MtwCard__lightText";return{backgroundImageUrl:e?Zo(e):void 0,withTextGradient:o,classNames:Tr(t&&`MtwCard__${t}`,r),borderShineType:a}}const ov=function(e){let{isActive:t,accountId:n,addressByChain:a,accountType:o,title:r,cardBackgroundNft:i,canEditAccount:s,onClick:c,onEdit:l}=e;const d=Ar(),u="hardware"===o,m="view"===o,p=Qe(a,1)?d("Multichain"):(0,Yt.W)((0,Ye.LG)(a)??"","mnemonic"!==o?3:4,4),{backgroundImageUrl:f,withTextGradient:h,classNames:g}=av(i),{imageUrl:v}=nv(f),w=Tr("bdfebopt",t&&"bMmcsmZO",v&&"HF2p9CT1",v&&g);return ge.createElement("div",{className:w,"aria-label":d("Switch Account"),onClick:t?void 0:()=>c(n),style:bp(v&&`--bg: url(${v})`)},r&&ge.createElement("span",{className:Tr("MUMjgNQ5",h&&"gradientText")},r),ge.createElement("div",{className:Tr("dhGETdr1",h&&"gradientText")},u&&ge.createElement("i",{className:"icon-ledger","aria-hidden":!0}),m&&ge.createElement("i",{className:"icon-eye-filled","aria-hidden":!0}),ge.createElement("span",null,p)),t&&s&&ge.createElement("div",{className:"FRX4SQTO",onClick:e=>{Io(e),l()}},ge.createElement("i",{className:"icon-pen","aria-hidden":!0})))},rv={accounts:"DP7r4ob0",accounts_two:"aMoUTjsw",accountsTwo:"aMoUTjsw",account:"feJs1qiP",account_current:"LGBe77Zo",accountCurrent:"LGBe77Zo",account_disabled:"QT4AQhSL",accountDisabled:"QT4AQhSL",account_inactive:"JLVV6MK1",accountInactive:"JLVV6MK1",accounts_single:"xq8sJcx0",accountsSingle:"xq8sJcx0",customCard:"QrKEFAWF",accountName:"xRepCoTw",button_current:"CMlJY5eP",buttonCurrent:"CMlJY5eP",accountFooter:"aSHneDhG",icon:"FzVzsW0Z",accountAddress:"U1ocd7xK",accountCheckMark:"WoJjd6rF",accountCheckMark_active:"Xs5JWZXM",accountCheckMarkActive:"Xs5JWZXM"},iv=fe((function(e){let{accountId:t,address:n,title:a,accountType:o,ariaLabel:r,isActive:i,isLoading:s,className:c,withCheckbox:l,cardBackgroundNft:d,onClick:u}=e;const{backgroundImageUrl:m,withTextGradient:p,classNames:f}=av(d),{imageUrl:h}=nv(m),g="hardware"===o,v="view"===o,w=Tr(c,rv.account,h&&rv.customCard,h&&f,i&&!l&&rv.account_current,s&&rv.account_disabled,!u&&rv.account_inactive);return ge.createElement("div",{key:t,className:w,onClick:u,style:bp(h&&`--bg: url(${h})`),"aria-label":r},a&&ge.createElement("span",{className:Tr(rv.accountName,p&&"gradientText")},a),ge.createElement("div",{className:Tr(rv.accountFooter,p&&"gradientText")},v&&ge.createElement("i",{className:Tr("icon-eye-filled",rv.icon),"aria-hidden":!0}),g&&ge.createElement("i",{className:Tr("icon-ledger",rv.icon),"aria-hidden":!0}),ge.createElement("span",{className:rv.accountAddress},(0,Yt.W)(n,g?3:4,4))),l&&ge.createElement("div",{className:Tr(rv.accountCheckMark,i&&rv.accountCheckMark_active)}))})),sv=fe((function(e){let{accountLength:t,labelText:n,children:a,className:o}=e;const r=Tr(o,rv.accounts,"custom-scroll",1===t&&rv.accounts_single,2===t&&rv.accounts_two);return ge.createElement(ge.Fragment,null,n&&ge.createElement("p",{className:rv.label},n),ge.createElement("div",{className:r},a))})),cv={modalDialog:"zdmLsynF",modalDialogInsideSettings:"kYjygKEY",slide:"a2oy8Zll",container:"eM1PpsST",containerStatic:"jHYtCW5T",content:"_3mWK1CH",iconBlockSlide:"WEcWgMzV",iconBlockSlideStatic:"VCK1YGjr",iconBlock:"KE3Egymz",mobile:"kpjonisY",ledgerIcon:"iuLLqpxI",textBlock:"bn1fb2en",textBlock_gap:"bBaOfZlx",textBlockGap:"bBaOfZlx",textBlock_success:"j8GYzR5R",textBlockSuccess:"j8GYzR5R",textBlock_small:"Rt2IdHAB",textBlockSmall:"Rt2IdHAB",text:"GuAw_sFJ",textIcon:"SOw0Xtct",text_failed:"XPczA9Ds",textFailed:"XPczA9Ds",text_connected:"YyHAVq6P",textConnected:"YyHAVq6P",text_success:"tTgIgIgG",textSuccess:"tTgIgIgG",actionBlock:"hiaAxVr_",actionBlock_single:"ApwM97qB",actionBlockSingle:"ApwM97qB",button:"LZNOcG4M",button_single:"Hm4XX1NN",buttonSingle:"Hm4XX1NN",accounts:"qG6SFrZs",accounts_two:"o_4z0gP4",accountsTwo:"o_4z0gP4",account:"_Vsrbub9",account_current:"uo8yhRNU",accountCurrent:"uo8yhRNU",addAccountContainer:"E5i9UUtD",addAccountIcon:"j5VZHMly",accountName:"V6_KYxce",accountFooter:"LXgNcuuY",accountCurrencyIcon:"g_b7EuV5",accountAddress:"pL4iTSDM",accountCheckMark:"mpVXcyoe",accountCheckMark_active:"lVx2a3if",accountCheckMarkActive:"lVx2a3if",sticker:"MfAU5ZEs",declinedLabel:"aWyFXa02",declinedLabelDetailed:"q1lhwUmL",dropdownBlock:"_2MGoq5H"};var lv=function(e){return e[e.Waiting=0]="Waiting",e[e.Error=1]="Error",e}(lv||{});const dv=fe((function(t){let{isActive:n,text:a,error:o,onClose:r,onTryAgain:i}=t;const s=Ar(),[c,l]=ie(lv.Waiting),[d,u]=ie(lv.Error);function m(t,n,c){switch(c){case lv.Waiting:return function(t){return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:s("Confirm via Ledger"),onClose:r}),ge.createElement("div",{className:cv.container},ge.createElement($p,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:cv.sticker,tgsUrl:fp.holdTon,previewUrl:fp.holdTonPreview}),ge.createElement("div",{className:Tr(cv.textBlock,cv.textBlock_small)},ge.createElement("span",{className:cv.text},a)),ge.createElement("div",{className:Tr(cv.actionBlock,cv.actionBlock_single)},ge.createElement(Vs,{onClick:r,className:Tr(cv.button,cv.button_single)},s("Cancel")))))}(t);case lv.Error:return function(t){const n=o&&["$hardware_blind_sign_not_enabled","$hardware_blind_sign_not_enabled_internal"].includes(o),a=n?ge.createElement("span",null,tr(s(o))):tr(s(o));return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:s("Confirm via Ledger"),onClose:r}),ge.createElement("div",{className:cv.container},ge.createElement($p,{size:e.igk,play:t,noLoop:!1,nonInteractive:!0,className:cv.sticker,tgsUrl:fp.holdTon,previewUrl:fp.holdTonPreview}),ge.createElement("div",{className:Tr(cv.declinedLabel,n&&cv.declinedLabelDetailed)},a),ge.createElement("div",{className:cv.actionBlock},ge.createElement(Vs,{onClick:r,className:cv.button},s("Cancel")),ge.createElement(Vs,{isPrimary:!0,onClick:i,className:cv.button},s("Try Again")))))}(t)}}return zi({isActive:n,onBack:r}),ce((()=>{o?(l(lv.Error),u(lv.Waiting)):(l(lv.Waiting),u(lv.Error))}),[o]),ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Tr(Ks.transitionSlide,cv.slide),activeKey:c,nextKey:d},m)})),uv="caret",mv="right",pv=fe((function(e){let{label:t,items:n,selectedValue:a,className:o,itemClassName:r,menuClassName:i,theme:s,arrow:c=uv,menuPositionX:l=mv,menuPositionY:d,disabled:u,shouldTranslateOptions:m,onChange:p,isLoading:f=!1,buttonPrefix:h}=e;const[g,v,w]=ju(),y=n.length>1,b=Boolean(t),E=de((()=>{let e=void 0!==a&&n.find((e=>e.value===a));return e||={value:"",name:""},{...e,isDisabled:!b&&u}}),[n,a,b,u]),k=Wo((e=>{e!==a&&(null==p||p(e))}));if(!n.length)return;const C=Tr(o,y&&Ah.interactive,b&&Ah.wide,b&&u&&Ah.disabled),N=Tr(Ah.button,y&&Ah.interactive,y&&i,s&&Ah[s],r),S=de((()=>y&&ge.createElement("i",{className:Tr(Ah.buttonIcon,"chevron"===c?"icon-chevron-down":"icon-caret-down"),"aria-hidden":!0})),[y,c]);return ge.createElement("div",{className:C,onClick:b&&!u&&y?v:void 0},t&&ge.createElement("span",{className:Ah.label},t),f?ge.createElement(Qg,{className:Ah.spinner}):ge.createElement(Th,{item:E,prefix:h,suffix:S,shouldTranslate:m,shouldUseSelectedName:!0,className:N,itemClassName:Tr("itemName",r),onClick:!b&&y?v:void 0}),y&&ge.createElement(Mh,{isOpen:g&&!f,menuPositionX:l,menuPositionY:d,items:n,shouldTranslateOptions:m,selectedValue:a,buttonClassName:r,onSelect:k,onClose:w}))})),fv=i.p+"desktop.5b697d2d91cbfdc91f29.png",hv=i.p+"desktop-dark.aacce131e03bae83c744.png",gv=i.p+"ios.5d8a0178f3ed44e81862.png",vv=i.p+"ios-dark.0ba8808ed3906393a417.png",wv=i.p+"mobile-bluetooth.7fea27504891420bc158.png",yv=i.p+"mobile-bluetooth-dark.9a47bff03978eddfd080.png",bv=i.p+"mobile-usb.165003c19b688130909d.png",Ev=i.p+"mobile-usb-dark.273f665b4cc76537f15b.png",kv={usb:"USB",bluetooth:"Bluetooth"},Cv=fe(je((e=>{const{hardwareState:t,isLedgerConnected:n,isTonAppConnected:a,availableTransports:o,lastUsedTransport:r}=e.hardware;return{state:t,isLedgerConnected:n,isTonAppConnected:a,availableTransports:o,lastUsedTransport:r,currentTheme:e.settings.theme}}))((function(t){let{isActive:a,isStatic:o,state:r,isLedgerConnected:i,isTonAppConnected:s,availableTransports:c,lastUsedTransport:l,currentTheme:d,className:u,onConnected:m,onBackButtonClick:p,onCancel:f,onClose:h}=t;const{initializeHardwareWalletModal:g,initializeHardwareWalletConnection:v}=Ke(),w=Ar(),{isPortrait:y}=ui(),[b,E]=ie(l),k=Sf(d),C=!1===i,N=!1===s,S=r===Un.ConnectedWithSingleWallet||r===Un.ConnectedWithSeveralWallets,A=r===Un.Connecting,T=r===Un.WaitingForRemoteTab,I=w(S?"Ledger Connected!":"Connect Ledger"),B=!f,_=de((()=>(c||[]).map((e=>({value:e,name:kv[e]})))),[c]),{shouldRender:x,ref:D}=Rs({isOpen:Boolean(_.length>1&&b),withShouldRender:!0});zi({isActive:a,onBack:f??h}),ce((()=>{b||(null!=c&&c.length?E(null==c?void 0:c[0]):n.ZH&&E("bluetooth"))}),[c,b]),ce((()=>{a&&g()}),[a]),pi((e=>{let[t]=e;l&&t!==l&&E(l)}),[l]);const L=Wo((e=>{n.Fe||setTimeout((()=>{m(e)}),500)}));ce((()=>{S&&a&&L(r===Un.ConnectedWithSingleWallet)}),[S,a,r,L]);const O=Wo((()=>{const e=B?h:f;(0,zf.rt)(),e()})),P=Wo((()=>{b&&v({transport:b})}));function M(){const t="dark"===k,a={desktop:t?hv:fv,mobileUsb:t?Ev:bv,ios:t?vv:gv,mobileBluetooth:t?yv:wv};return e.UMQ?n.pz?a.ios:"bluetooth"===b?a.mobileBluetooth:a.mobileUsb:n.Ni?a.mobileUsb:a.desktop}function F(t,a){return ge.createElement(ge.Fragment,null,o?ge.createElement("div",{className:tg.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:t,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,w("Back"))),ge.createElement("span",{className:tg.headerTitle},I)):ge.createElement(Fh,{title:I,onBackButtonClick:p,onClose:p?void 0:t}),ge.createElement("div",{className:Tr(cv.container,o&&cv.containerStatic,o&&"static-container")},ge.createElement(ff,{activeKey:e.UMQ?"bluetooth"!==b?1:2:0,name:"semiFade",className:Tr(cv.iconBlock,(y||n.pz)&&cv.mobile),slideClassName:o?cv.iconBlockSlideStatic:cv.iconBlockSlide},ge.createElement(Tf,{url:M(),imageClassName:cv.ledgerIcon})),a))}function R(){return T?F(O,ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(cv.textBlock,cv.textBlock_gap)},ge.createElement("span",{className:cv.text},ge.createElement("i",{className:Tr(cv.textIcon,"icon-dot"),"aria-hidden":!0}),w("Switch to the newly opened tab to connect Ledger.")),ge.createElement("span",{className:cv.text},ge.createElement("i",{className:Tr(cv.textIcon,"icon-dot"),"aria-hidden":!0}),w("Once connected, switch back to this window to proceed."))),ge.createElement("div",{className:Tr(cv.actionBlock,cv.actionBlock_single)},ge.createElement(Vs,{className:Tr(cv.button,cv.button_single),onClick:O},w(B?"Cancel":"Back"))))):F(h,ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(cv.textBlock,S&&cv.textBlock_success)},ge.createElement("span",{className:Tr(cv.text,C&&cv.text_failed,i&&cv.text_connected,S&&cv.text_success)},ge.createElement("i",{className:Tr(cv.textIcon,i?"icon-accept":"icon-dot"),"aria-hidden":!0}),w("Connect your Ledger")),ge.createElement("span",{className:Tr(cv.text,N&&cv.text_failed,s&&cv.text_connected,S&&cv.text_success)},ge.createElement("i",{className:Tr(cv.textIcon,s?"icon-accept":"icon-dot"),"aria-hidden":!0}),w("Unlock it and open the TON App"))),x&&ge.createElement("div",{ref:D,className:cv.dropdownBlock},ge.createElement(pv,{label:w("Connection Type"),items:_,selectedValue:b,theme:"light",arrow:"chevron",disabled:A,className:Tr(cv.item,cv.item_small),onChange:E})),function(){const e=r===Un.Failed;return n.Fe&&S?ge.createElement("div",{className:Tr(cv.actionBlock,S&&cv.actionBlock_single)},ge.createElement(Vs,{isDisabled:A,className:Tr(cv.button,S&&cv.button_single),onClick:h},w("Continue"))):ge.createElement("div",{className:cv.actionBlock},ge.createElement(Vs,{className:cv.button,onClick:B?h:f},w(B?"Cancel":"Back")),ge.createElement(Vs,{isPrimary:!0,isLoading:A,isDisabled:A||S||!(null!=c&&c.length),className:cv.button,onClick:P},w(e?"Try Again":"Continue")))}()))}return ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll",u),slideClassName:Ks.transitionSlide,activeKey:T?1:0},R)}))),Nv=fe((function(e){let{className:t}=e;return ge.createElement("div",{className:Tr("JOe_K6bB",t)})})),Sv={container:"DL3GDV2h",tooltip:"pPTN8epJ",small:"S0YjnQBy",medium:"fisd9cYz",arrow:"mw4HrHNN",icon:"DsxlgjFS",fontIcon:"T3riE15T","color-warning":"G6MdAror",colorWarning:"G6MdAror"},Av=.6875*n.$,Tv=2*n.$,Iv=fe((e=>{let{message:t,emoji:a,size:o="medium",type:r="hint",iconClassName:i,tooltipClassName:s}=e;const[c,l,d]=ju(),{shouldRender:u,ref:m}=Rs({isOpen:c,withShouldRender:!0}),p="warning"===r&&Sv[`color-${r}`],f=me(),h=me(),g=me(),v=me(),w=ke(),y=Wo((e=>{e.target.closest(`[data-tooltip-key="${w}"]`)||d()}));return ce((()=>{if(c)return document.addEventListener("touchstart",y),()=>{document.removeEventListener("touchstart",y)}}),[c,d,y]),ce((()=>{if(!f.current||!h.current)return;const{top:e,left:t,width:n}=f.current.getBoundingClientRect(),{width:a,height:o}=h.current.getBoundingClientRect(),r=(window.innerWidth-a)/2,i=t-r+n/2-Av/2,s=i<Tv?Tv-i:0,c=`top: ${e-o-Av}px;`,l=`left: ${r-s}px;`,d=`left: ${i+s}px;`,u=`top: ${o-Av/2-1}px;`;g.current=`${c} ${l}`,v.current=`${u} ${d}`}),[u]),ge.createElement(ge.Fragment,null,u&&ge.createElement(zs,null,ge.createElement("div",{ref:m,className:Sv.container,onClick:Io,style:g.current},ge.createElement("div",{ref:h,className:Tr(Sv.tooltip,Sv[o],p,s)},t),ge.createElement("div",{className:Sv.arrow,style:v.current}))),function(){const e=Tr(Sv.icon,i,Sv[o],p),t=n.TF?Io:void 0;return a?ge.createElement("span",{ref:f,className:e,"data-tooltip-key":w,onClick:t,onMouseEnter:l,onMouseLeave:d},ge.createElement(eg,{from:a})):ge.createElement("i",{ref:f,className:Tr(e,Sv.fontIcon,"warning"===r?"icon-exclamation":"icon-question"),"data-tooltip-key":w,onClick:t,onMouseEnter:l,onMouseLeave:d})}())})),Bv="rtKXhN4A",_v="LUz47fCn",xv="dqbsWkDq",Dv="ut5A6NM6",Lv="ooIjdCk3",Ov="lvIWoC_b",Pv="TBS2qSdm",Mv="URk9skQT",Fv="IpEvYlyO",Rv="mtQbMtDU",Uv="leFXfJnu",Wv="iNOlk2G5",Hv="TddQIzLn",$v="Kgein0KH",Vv="by1Uv_HG",zv="nBWVm1mf",Kv="_ogqtbzH",qv="Uyz5mVM_",jv="e3oGDhNq",Yv="tO1IUhnj",Gv="u2wkCYw7",Qv="z0IluCrP",Xv="JYgy9un6",Jv="US9q0wug",Zv="A7lv8DFx",ew="fHoMTSia",tw="if1jAISL",nw=fe((function(t){let{dapp:n,className:a,onDisconnect:o}=t;const{deleteDapp:r}=Ke(),i=Ar(),{name:s,iconUrl:c,url:l,isUrlEnsured:d}=n||{},u=de((()=>l?new URL(l).host:void 0),[l]),m=Boolean(o&&l),p=Wo((()=>{o(l)}));return ge.createElement("div",{className:Tr("naRjGTN0",a)},c?ge.createElement("img",{src:c,alt:i("Logo"),className:xv}):ge.createElement("div",{className:Tr(xv,"RGl7OFHd")},ge.createElement("i",{className:Tr("Utxlqsar","icon-laptop"),"aria-hidden":!0})),ge.createElement("div",{className:"cL2nTyJm"},ge.createElement("span",{className:"IZ831cu4"},s),ge.createElement("span",{className:"ODsQl3Iq"},!d&&ge.createElement(Iv,{message:ge.createElement(ge.Fragment,null,ge.createElement("b",null,i("Unverified Source")),ge.createElement("p",{className:"B9KF5fSL"},tr(i("$reopen_in_iab",{browserButton:e.UMQ&&null!=l&&l.startsWith("http")?ge.createElement("button",{className:"Go1goEAT",onClick:function(){r({url:l,uniqueId:nu(n)}),ic(l)}},i("MyTonWallet Browser")):ge.createElement("b",null,i("MyTonWallet Browser"))})))),type:"warning",size:"small",iconClassName:"rYesJSbN"}),u)),m&&ge.createElement(Vs,{isSmall:!0,isPrimary:!0,className:"Dpv9gVfh",onClick:p},i("Disconnect")))})),aw=fe((function(t){let{isActive:n,error:a,onSubmit:o,onCancel:r,onClose:i}=t;const{clearDappConnectRequestError:s}=Ke(),c=Ar();return zi({isActive:n,onBack:r}),ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:c("Enter Password"),onClose:i}),ge.createElement(Cf,{isActive:n,error:a,withCloseButton:e.UMQ,submitLabel:c("Connect"),cancelLabel:c("Cancel"),onSubmit:o,onCancel:r,onUpdate:s}))})),ow=fe(je((e=>{var t;const n=at(e),a=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state),{state:o,dapp:r,error:i,accountId:s,permissions:c,proof:l}=e.dappConnectRequest||{};return{state:o,hasConnectRequest:a,dapp:r,error:i,requiredPermissions:c,requiredProof:l,currentAccountId:s||e.currentAccountId,accounts:n,settingsByAccountId:e.settings.byAccountId}}))((function(e){let{state:t,hasConnectRequest:n,dapp:a,error:o,requiredPermissions:r,requiredProof:i,accounts:s,currentAccountId:c,settingsByAccountId:l}=e;const{submitDappConnectRequestConfirm:d,submitDappConnectRequestConfirmHardware:u,cancelDappConnectRequestConfirm:m,setDappConnectRequestState:p,resetHardwareWalletConnect:f}=Ke(),h=Ar(),[g,v]=ie(c),[w,y,b]=ju(!1),E=n,{renderingKey:k,nextKey:C}=tv(t??0,E),N=de((()=>Object.entries(s||{})),[s]),S=void 0===a;ce((()=>{c&&v(c)}),[c]);const A=s&&Qe(s,1),T=Wo((async()=>{b();const e=Xe(s[g].type),t="hardware"===s[g].type,{isPasswordRequired:n,isAddressRequired:a}=r||{};e||(!i||!t&&a&&!n?(d({accountId:g}),m()):t?(f(),p({state:Rn.ConnectHardware})):im()?d({accountId:g,password:await sm()}):requestAnimationFrame((()=>{p({state:Rn.Password})})))})),I=Wo((()=>{p({state:Rn.Info})})),B=Wo((()=>{u({accountId:g})})),_=Wo((e=>{d({accountId:g,password:e})}));function x(){return ge.createElement(sv,{accountLength:N.length,labelText:h("Select wallet to use on this dapp")},N.map((e=>{let[t,{title:n,addressByChain:a,type:o}]=e;return function(e,t,n,a){const o=!Boolean(t.ton)||Xe(n)?void 0:()=>v(e),r=(0,Ye.LG)(t)??"",{cardBackgroundNft:i}=(null==l?void 0:l[e])||{};return ge.createElement(iv,{key:e,accountId:e,address:r,title:a,ariaLabel:h("Switch Account"),accountType:n,isActive:e===g,isLoading:S,onClick:o,cardBackgroundNft:i})}(t,a,o,n)})))}function D(e,t,n){switch(n){case Rn.Info:return ge.createElement(ff,{name:"semiFade",activeKey:S?0:1,slideClassName:Jv},ge.createElement(Fh,{title:h("Connect Dapp"),onClose:m}),S?ge.createElement("div",{className:Tr(Ks.transitionContent,Zv)},ge.createElement("div",{className:Tr("wOmNbpWs",_v)},ge.createElement(Nv,{className:jv}),ge.createElement("div",{className:"cAdLb2FM"},ge.createElement(Nv,{className:Yv}),ge.createElement(Nv,{className:Gv}))),ge.createElement("div",{className:"cWnAUfkt"},A&&x())):function(){const e=Boolean(g&&Xe(null==s?void 0:s[g].type));return ge.createElement("div",{className:Tr(Ks.transitionContent,Zv)},ge.createElement(nw,{dapp:a,className:Tr(_v,"AxygZABC")}),A&&x(),ge.createElement("div",{className:Ov},ge.createElement(Vs,{isPrimary:!0,isDisabled:e,className:Ks.buttonFullWidth,onClick:y},h("Connect"))))}());case Rn.Password:return ge.createElement(aw,{isActive:e,error:o,onSubmit:_,onCancel:I,onClose:m});case Rn.ConnectHardware:return ge.createElement(Cv,{isActive:e,onConnected:B,onClose:I});case Rn.ConfirmHardware:return ge.createElement(dv,{isActive:e,text:h("Please confirm operation on your Ledger"),error:o,onTryAgain:B,onClose:I})}}return ge.createElement(ge.Fragment,null,ge.createElement(Zs,{isOpen:E,dialogClassName:Bv,nativeBottomSheetKey:"dapp-connect",forceFullNative:k!==Rn.Info,onClose:m,onCloseAnimationEnd:m},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:k,nextKey:C},D)),ge.createElement(Zs,{isOpen:w,isCompact:!0,title:h("Dapp Permissions"),onClose:b},ge.createElement("div",{className:"d20jMAO6"},h("$dapp_can_view_balance",{dappname:ge.createElement("strong",null,null==a?void 0:a.name)})),ge.createElement("div",{className:"XvGbWtVh"},ge.createElement(Vs,{onClick:b,className:Pv},h("Cancel")),ge.createElement(Vs,{isPrimary:!0,onClick:T,className:Pv},h("Connect")))))}))),rw=fe(je((e=>{const t=at(e);return{toncoinBalance:Ht(e),currentAccountId:e.currentAccountId,accounts:t}}))((function(t){var n;let{dapp:a,toncoinBalance:o,currentAccountId:r,accounts:i,customTokenBalance:s,customTokenSymbol:c,customTokenDecimals:l}=t;const d=void 0!==s?s:o,u=c||e.Tu9.symbol,m=void 0!==l?l:e.Tu9.decimals;return ge.createElement("div",{className:Vv},ge.createElement("div",{className:Dv},ge.createElement("div",{className:zv},null==i||null===(n=i[r])||void 0===n?void 0:n.title),ge.createElement("div",{className:Kv},sr((0,Pt.nI)(d,m),u))),ge.createElement(nw,{dapp:a,className:qv}))}))),iw=fe((function(e){let{rows:t}=e;return ge.createElement("div",{className:Tr(Ks.transitionContent,Zv)},ge.createElement("div",{className:Vv},ge.createElement("div",{className:"YHLHftpe"},ge.createElement(Nv,{className:Tr(Yv,Qv)}),ge.createElement(Nv,{className:Tr(Gv,Xv)})),ge.createElement("div",{className:"VzwVb3o_"},ge.createElement(Nv,{className:jv}),ge.createElement("div",{className:"L8RwZKiN"},ge.createElement(Nv,{className:Tr(Yv,Qv)}),ge.createElement(Nv,{className:Tr(Gv,Xv)})))),null==t?void 0:t.map(sw))}));function sw(e){let{isLarge:t,hasFee:n}=e;return ge.createElement("div",{className:"XcidIimi"},ge.createElement(Nv,{className:Tr("oRChyGCN",t&&"q_gxYI6j")}),ge.createElement(Nv,{className:Tr("IVSbVRoG",t&&"qNqaxuw6")}),n&&ge.createElement(Nv,{className:"lbFcqU2u"}))}const cw=[{isLarge:!1,hasFee:!1}],lw=fe(je((e=>(0,c.Up)(e.currentDappSignData,["dapp","isLoading","payloadToSign"])))((function(e){let{dapp:t,isLoading:n,payloadToSign:a}=e;const{closeDappSignData:o,submitDappSignDataConfirm:r}=Ke(),i=Ar(),s=Sh(a,!0),c=void 0===t;return ge.createElement(ff,{name:"semiFade",activeKey:c?0:1,slideClassName:Jv},ge.createElement(Fh,{title:i("Sign Data"),onClose:o}),c?ge.createElement(iw,{rows:cw}):ge.createElement("div",{className:Tr(Ks.transitionContent,Zv)},ge.createElement(rw,{dapp:t}),function(){switch(null==s?void 0:s.type){case"text":{const{text:e}=s;return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Lv},i("Message")),ge.createElement("div",{className:Tr(Fv,Uv)},e))}case"binary":{const{bytes:e}=s;return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Lv},i("Binary Data")),ge.createElement("div",{className:Tr(Fv,Rv)},e),ge.createElement("div",{className:ew},i("The binary data content is unclear. Sign it only if you trust the service.")))}case"cell":{const{cell:e,schema:t}=s;return ge.createElement(ge.Fragment,null,!!t&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Lv},i("Cell Schema")),ge.createElement("div",{className:Tr(Fv,Uv)},t)),ge.createElement("p",{className:Lv},i("Cell Data")),ge.createElement("div",{className:Tr(Mv,Fv,Rv)},e),ge.createElement("div",{className:ew},i("The binary data content is unclear. Sign it only if you trust the service.")))}}}(),ge.createElement("div",{className:Tr(Ks.buttons,tw)},ge.createElement(Vs,{className:Ks.button,onClick:o},i("Cancel")),ge.createElement(Vs,{isPrimary:!0,isSubmit:!0,isLoading:n,className:Ks.button,onClick:r},i("Sign")))))}))),dw={sticker:"BQ2dFF1C",amount:"ZK1jiZZ7",amount_purple:"A4q4bGl9",amountPurple:"A4q4bGl9",amount_green:"juLGV08g",amountGreen:"juLGV08g",amountSymbol:"pIw09HQw",amountFraction:"AxDVO85U",buttons:"VBRINuzy",buttonsAfterNft:"kg0TjtvC",button:"ONW_pS7t"},uw=fe((function(e){let{isActive:t,onClose:n,type:a="transfer"}=e;const o=Ar();zi({isActive:t,onBack:n}),ce((()=>t?Wr({onEnter:n}):void 0),[t,n]);const r=o("signData"===a?"Data Signed!":"Transaction Sent!");return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:r,onClose:n}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement($p,{play:t,noLoop:!1,nonInteractive:!0,className:dw.sticker,tgsUrl:fp.thumbUp,previewUrl:fp.thumbUpPreview}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:n,isPrimary:!0},o("Close")))))})),mw=fe(je((e=>(0,c.Up)(e.currentDappSignData,["isLoading","state","error"])))((function(t){let{isLoading:n,state:a,error:o}=t;const{setDappSignDataScreen:r,submitDappSignDataPassword:i,clearDappSignDataError:s,closeDappSignData:c,cancelDappSignData:l}=Ke(),d=Ar(),u=a!==xn.None,{renderingKey:m,nextKey:p,updateNextKey:f}=tv(a,u),h=Wo((()=>{a===xn.Password&&r({state:xn.Initial})})),g=Wo((e=>{i({password:e})})),v=Wo((()=>{l(),f()}));function w(t,a,r){switch(r){case xn.Initial:return ge.createElement(lw,null);case xn.Password:return function(t){return ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:d("Sign Data"),onClose:c}),ge.createElement(Cf,{isActive:t,isLoading:n,error:o,withCloseButton:e.UMQ,submitLabel:d("Sign"),cancelLabel:d("Back"),onSubmit:g,onCancel:h,onUpdate:s}))}(t);case xn.Complete:return ge.createElement(uw,{isActive:t,onClose:c,type:"signData"})}}return ge.createElement(Zs,{hasCloseButton:!0,isOpen:u,dialogClassName:Bv,nativeBottomSheetKey:"dapp-sign-data",noBackdropClose:!0,forceFullNative:m===xn.Password,onClose:c,onCloseAnimationEnd:v},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:m,nextKey:p},w))})));function pw(e,t,n){const a=function(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t),t|=0;return t}(n),o=1e4*Math.sin(a),r=o-Math.floor(o);return Math.floor(r*(t-e+1))+e}const fw=new Set(["jWBTC","oWBTC","BTC"]),hw=new Set(["jUSDT","oUSDT","USDT","jUSDC","oUSDC","USDC","USD₮"]),gw=new Set(["USD","RUB","EUR","CNY"]);function vw(t){return gw.has(t)?5:hw.has(t)?4:fw.has(t)?3:t===e.Tu9.symbol?2:1}function ww(e,t,n,a){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(e&&t&&n&&a))return;let r,i=n.symbol,s=a.symbol;const c=new Mt.z(e),l=new Mt.z(t);if(c.eq(0)||l.eq(0))return;const d=vw(i);if(vw(s)<d){i=a.symbol,s=n.symbol;const e=c.div(t),l=o&&e.gte(1e3);r=ir(e.toNumber(),l?0:4)}else{const t=l.div(e),n=o&&t.gte(1e3);r=ir(t.toNumber(),n?0:4)}return{firstCurrencySymbol:i,secondCurrencySymbol:s,price:r}}const yw=i.p+"chain_avalanche.f5a22f3024a79c2a9f7e.svg",bw=i.p+"chain_bitcoin.f45ee04748fc010b73f0.svg",Ew=i.p+"chain_bitcoincash.e58775a726a28f67a7ab.svg",kw=i.p+"chain_bnb.01e2f3e1ea67de53c558.svg",Cw={avalanche:yw,bitcoin:bw,bitcoin_cash:Ew,binance_smart_chain:kw,binance_dex:kw,cardano:i.p+"chain_cardano.687768b5a8564f340656.svg",cosmos:i.p+"chain_cosmos.a7db04679752fce24427.svg",dash:i.p+"chain_dash.cda178d1c80b14b84c65.svg",doge:i.p+"chain_doge.299dffe46d1d20ecb64e.svg",eos:i.p+"chain_eos.5d77746a1d3fe4f879d9.svg",ethereum:i.p+"chain_ethereum.3af0d0aca7d489e97c88.svg",ethereum_classic:i.p+"chain_ethereumclassic.7a2a50f776866f7dc57f.svg",internet_computer:i.p+"chain_internetcomputer.a779e5a83feca271c1b5.svg",iota:i.p+"chain_iota.74e7a3ff559ca5be6171.svg",litecoin:i.p+"chain_litecoin.200bd2979f34cbf91fee.svg",monero:i.p+"chain_monero.80470738ce04482ad225.svg",polkadot:i.p+"chain_polkadot.ce8946cba8f597bc6435.svg",ripple:i.p+"chain_ripple.d4675f4b4373f6c8fdf4.svg",solana:i.p+"chain_solana.3628ba06de78d3bc2018.svg",stellar:i.p+"chain_stellar.f7eb720521e4d55bb082.svg",ton:i.p+"chain_ton.65285e35dece81bdab6c.svg",tron:i.p+"chain_tron.78feaed45ec98c6779ca.svg",zcash:i.p+"chain_zcash.51dd09d4e46c4b2f1ace.svg"};function Nw(e){return e?Cw[e]??e:""}const Sw=i.p+"coin_btc.887dcd8a09b641cd64fc.png",Aw=i.p+"coin_my.0333e30adb78820c4490.svg",Tw={ton:i.p+"coin_ton.3ad15a82e5688b967ed1.png",btc:Sw,trx:i.p+"coin_trx.e9458515724ddbb167c8.svg",usdt:i.p+"coin_usdt.954394d1344db6c259d1.svg",my:Aw},Iw={wrapper:"XPeM0_U7",icon:"FoSSGfFn",large:"wjhynzvL","x-large":"CRkmFyTA",xLarge:"CRkmFyTA","x-small":"TGv989qd",xSmall:"TGv989qd",small:"Zb5vM0UM",middle:"d5dxI69w",fallbackIcon:"p13LUS2n",blockchainIcon:"CMIQ9vCY"},Bw=fe((function(e){let{token:t,size:n,withChainIcon:a,className:o,iconClassName:r,children:i}=e;const{symbol:s,image:c,chain:l}=t,d=Tw[s.toLowerCase()]||c,[u,m]=ju(!1);return ge.createElement("div",{className:Tr(Iw.wrapper,o)},u?ge.createElement("div",{className:Tr(Iw.icon,n&&Iw[n],r,Iw.fallbackIcon)},t.symbol.slice(0,1)):ge.createElement("img",{src:d,alt:s,className:Tr(Iw.icon,n&&Iw[n],r),draggable:!1,onError:m}),a&&l&&ge.createElement("img",{src:Nw(l),alt:"",className:Tr(Iw.blockchainIcon,n&&Iw[n]),draggable:!1}),i)})),_w=[6e-6,6e-6,1e-5*.06,3e-4*.06,6e-6,15e-5],xw=.07,Dw={lightTheme:"120, 121, 122",darkTheme:"240, 241, 242",cardLightText:"250, 250, 250",cardDarkText:"10, 10, 10",cardGoldText:"101, 73, 16",purple:"96, 107, 215",green:"43, 196, 105"};function Lw(e){return e[(0,La.yT)(0,e.length-1)]}const Ow=fe(je((e=>({theme:e.settings.theme})))((function(e){let{ref:t,cols:a,rows:o,cellSize:r,skin:i,className:s,theme:c}=e,l=me();t&&(l=t);const u=r*n.Lv,m=Sf(c),p=Dw[i??`${m}Theme`],f=me({opacityValues:[],steps:[],lastSpeedChangeAt:void 0,isRendered:!1}),h=$h(l,Vh),g=El,v=Os((()=>h()&&!g()),[h,g]);return le((()=>{const e=f.current;if(e.isRendered&&!v())return;const t=l.current,n=t.getContext("2d"),r=a*u,i=o*u;let s,c=!1;t.width=r,t.height=i,e.lastSpeedChangeAt=void 0;const m={ctx:n,cols:a,rows:o,width:r,height:i,cellSizeDpr:u,color:p};return(0,d.iT)((()=>{if(c||e.isRendered&&!v())return!1;const t=performance.now();return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{ctx:a,cols:o,rows:r,cellSizeDpr:i,width:s,height:c,color:l}=e,d=performance.now(),u=!!t.lastSpeedChangeAt&&d-t.lastSpeedChangeAt>=3e3;!u&&t.lastSpeedChangeAt||(t.lastSpeedChangeAt=d),a.clearRect(0,0,s,c);for(let e=0;e<r;e++)for(let r=0;r<o;r++){t.steps[e]??=[],t.opacityValues[e]??=[],u?t.steps[e][r]=Lw(_w)*(t.steps[e][r]<0?-1:1):t.steps[e][r]??=Lw(_w);let o=t.opacityValues[e][r]??.18*Math.random()+xw;o+=t.steps[e][r]*n,(o>.25||o<xw)&&(t.steps[e][r]*=-1,o=Br(o,xw,.25)),t.opacityValues[e][r]=o,a.fillStyle=`rgba(${l}, ${o})`,a.fillRect(r*i,e*i,i,i),t.isRendered||=!0}}(m,e,s?t-s:0),s=t,!0}),k.RK),()=>{c=!0}}),[a,o,u,v,p]),ge.createElement("canvas",{ref:l,style:`width: ${r*a}px; height: ${r*o}px`,className:Tr("_5lZqlhE",s)})}))),Pw={wrapper:"iXsFkRU7",center:"FEWWktrI",right:"FXNTlsIy",interactive:"O6dWAwYM",content:"GAvxZ7xR",spoiler:"ynSPM0hu",left:"DSH91Ntx",fixedWidth:"CBhjF9XS"},Mw=function(e){let{isActive:t,rows:n,cols:a,cellSize:o=0,align:r="left",maskSkin:i,shouldHoldSize:s,className:c,maskClassName:l,contentClassName:d,children:u}=e;const{setIsSensitiveDataHidden:m}=Ke(),{ref:p}=Rs({isOpen:!t,noMountTransition:!t,className:"slow"}),{shouldRender:f,ref:h}=Rs({isOpen:t,withShouldRender:!0,className:"slow"}),g=Tr(Pw.wrapper,c,t&&Pw.interactive,Pw[r]),v=Tr(Pw.spoiler,l,Pw[r]),w=bp(`--spoiler-width: calc(${o*a}px + var(--sensitive-data-extra-width, 0px))`,`min-height: ${o*n}px`,(t||s)&&"min-width: var(--spoiler-width);"),y=Tr(Pw.content,d,t&&Pw.fixedWidth);return ge.createElement("div",{style:w,className:g,onClick:t?function(e){Io(e),m({isHidden:!1}),il()}:void 0},f&&ge.createElement(Ow,{ref:h,cols:a,rows:n,cellSize:o,skin:i,className:v}),ge.createElement("div",{ref:p,className:y},u))},Fw="voGmKods",Rw="JKuqFIMs",Uw="vPKs_EfD",Ww="ithY1XA8",Hw="MwNQsICc",$w="pEdRQT_R",Vw="lp28p1if",zw="O_xYgdgM",Kw="mNtPH759",qw="koKI7xJv",jw="PQ56yxoE",Yw="cPGOyB7W",Gw="fY8lBeMI",Qw="oLA5mzy7",Xw="X1ICSpcc",Jw="r0qJPY3I",Zw=fe((function(t){let{isPending:n,isError:a,color:o="Gray",appTheme:r}=t;const{shouldRender:i,ref:s}=Rs({isOpen:n,withShouldRender:!0}),c=`iconClock${o}`;return ge.createElement(ge.Fragment,null,a&&ge.createElement("i",{className:Tr("QEx5s5VW","icon-close-filled"),"aria-hidden":!0}),i&&ge.createElement("div",{ref:s,className:"hJkwVF68"},ge.createElement($p,{play:!0,size:e.wg4,nonInteractive:!0,noLoop:!1,forceOnHeavyAnimation:!0,tgsUrl:fp[r][c],previewUrl:fp[r].preview[c]})))})),ey=new Set(["new","waiting","confirming","exchanging","sending","hold"]),ty=new Set(["failed","expired","refunded","overdue"]),ny=new Set(["expired","failed"]),ay=fe((function(t){let{ref:n,tokensBySlug:a,activity:o,isLast:r,isActive:i,appTheme:s,addressByChain:c,isSensitiveDataHidden:l,isFuture:d,onClick:u}=t;const m=Ar(),{id:p,timestamp:f,status:h,from:g,to:v,cex:w}=o,y=de((()=>{if(g&&a)return Wd(a,g)}),[g,a]),b=de((()=>{if(v&&a)return Wd(a,v)}),[v,a]),E=Number(o.fromAmount),k=Number(o.toAmount),C="pending"===h||ey.has((null==w?void 0:w.status)??""),N=ny.has(h)||ty.has((null==w?void 0:w.status)??""),S="hold"===(null==w?void 0:w.status),A=de((()=>pw(5,13,f.toString())),[f]),T=g===e.Tu9.slug,I=$d({from:y,to:b,toAddress:null==w?void 0:w.payoutAddress,addressByChain:c});return ge.createElement(Vs,{ref:n,className:Tr(Fw,r&&Ww,i&&Uw,u&&Rw),onClick:u&&(()=>u(p)),isSimple:!0},function(){let e="ubpNbJEy",t="Green";return N?(e=Jw,t="Red"):S&&(e=void 0,t="Gray"),ge.createElement("i",{className:Tr("icon-swap",Hw,e),"aria-hidden":!0},ge.createElement(Zw,{isPending:C,isError:N,color:t,appTheme:s}))}(),ge.createElement("div",{className:$w},ge.createElement("div",{className:Tr(Kw,d&&zw)},m(S||N||d?"$swap_action":C?"Swapping":"Swapped")),function(){const t=Tr(N&&"zT_yLEe8",S&&"aPXkRlmy");return ge.createElement(Mw,{isActive:l,cols:A,rows:2,cellSize:8,align:"right",contentClassName:Yw},ge.createElement("span",{className:Tr("i_ICee_w",t)},cr(Math.abs(E),(null==y?void 0:y.symbol)||e.Tu9.symbol,!0)),ge.createElement("i",{className:Tr("O_3HTad8","icon-chevron-right",t),"aria-hidden":!0}),ge.createElement("span",{className:Tr("mTZ6NzL2",t)},cr(Math.abs(k),(null==b?void 0:b.symbol)||e.Tu9.symbol,!0)),y&&ge.createElement(Bw,{token:y,size:"x-small",className:Gw}),b&&ge.createElement(Bw,{token:b,size:"x-small",className:Gw}))}()),ge.createElement("div",{className:Vw},function(){if(d)return ge.createElement("div",null);const t=(0,Oa.fU)(f);let n="";const a=null==w?void 0:w.status;return"expired"===a||"overdue"===a?n=m("Expired"):"refunded"===a?n=m("Refunded"):"hold"===a?n=m("On Hold"):"failed"===a||N?n=m("Failed"):"waiting"!==a||T||I?C&&(n=m("In Progress")):n=m("Waiting for Payment"),ge.createElement("div",{className:qw},n&&ge.createElement("span",{className:jw},n),n&&`${e.MS3}∙${e.MS3}`,t)}(),function(){const e=ww(o.fromAmount,o.toAmount,y,b);if(!e)return;const[t,n]=e.price.split(".");return ge.createElement("div",null,e.firstCurrencySymbol," ≈ ",ge.createElement("span",{className:jw},t,ge.createElement("small",null,".",n," ",e.secondCurrencySymbol)))}()))}));function oy(e){var t;let{address:n,chain:a,currentAccountId:o,accounts:r,savedAddresses:i}=e;if(!n)return;const s=r?Object.keys(r).find((e=>{var t;return e!==o&&(null===(t=r[e].addressByChain)||void 0===t?void 0:t[a])===n})):void 0;return s?r[s].title:null==i||null===(t=i.find((e=>e.address===n&&e.chain===a)))||void 0===t?void 0:t.name}const ry=i.p+"scam.8fb66536b659fd1bbfc6.svg",iy=new Set([void 0,"unstakeRequest","nftTrade","auctionBid","liquidityDeposit"]),sy=fe((function(t){let{ref:n,tokensBySlug:a,transaction:o,isActive:r,annualYield:i,yieldType:s,savedAddresses:c,isLast:l,appTheme:d,withChainIcon:u,doesNftExist:m,isSensitiveDataHidden:p,isFuture:f,accounts:h,currentAccountId:g,baseCurrency:v,onClick:w}=t;const{openNftAttributesModal:y}=Ke(),b=Ar(),{txId:E,amount:k,fromAddress:C,toAddress:N,timestamp:S,comment:A,encryptedComment:T,isIncoming:I,type:B,metadata:_,slug:x,nft:D,extra:L,status:O}=o,P=nn.has(B),M=an.has(B),F=a[x],{chain:R}=F||{},U=I?C:N,W=de((()=>{if(R)return oy({address:U,chain:R,currentAccountId:g,accounts:h,savedAddresses:c})}),[h,U,R,g,c])||(null==_?void 0:_.name),H=de((()=>M?function(e){if(null!=e&&e.name){const t=(0,ga.u_)(e.name);if(t)return`.${t.zone.suffixes[0]}`}return"DNS"}(D):""),[M,D]),$=de((()=>pw(5,13,S.toString())),[S]),V=cy(o,f),z=ly(o,f),K=f||"failed"===O?"future":"past";let q,j="Gray";"failed"===O||"burn"===B?(q=Jw,j="Red"):I?(q="Zw8K7_jM",j="Green"):"stake"===B?(q="eSMoqURj",j="PurpleWhite"):iy.has(B)&&(q=Xw,j="Blue");const Y=Wo((e=>{e.stopPropagation(),il(),y({nft:D})}));return ge.createElement(Vs,{ref:n,className:Tr(Fw,l&&Ww,r&&Uw,w&&Rw,"full"===V?"WHdvfTWr":"left"===V?"h_nAGYlh":void 0),onClick:w&&(()=>w(E)),isSimple:!0},function(){let e;return e=P?"icon-earn":"callContract"===B||"contractDeploy"===B?"icon-cog":M?Tr("rounded-font","phy9vVLZ"):"mint"===B?"icon-magic-wand":"burn"===B?"icon-fire":"auctionBid"===B?"icon-auction-alt":"nftTrade"===B?I?"icon-tag":"icon-purchase":"liquidityDeposit"===B?"icon-can-in":"liquidityWithdraw"===B?"icon-can-out":I?"icon-receive-alt":"icon-send-alt",ge.createElement("i",{className:Tr(Hw,e,q),"aria-hidden":!0},M&&ge.createElement("span",{style:M?`font-size: ${100*Math.min(1,4/H.length)}%`:void 0},H),ge.createElement(Zw,{isPending:"pending"===O,isError:"failed"===O,color:j,appTheme:d}))}(),ge.createElement("div",{className:$w},ge.createElement("div",{className:Tr(Kw,z&&"none"===V&&zw)},dn(o,K,b),un(o)&&ge.createElement("img",{src:ry,alt:b("Scam"),className:"q57qlNaF"})),function(){const t=pn(o),n="noSign"===t;if("hide"!==t)return ge.createElement(Mw,{isActive:p,cols:$,rows:2,cellSize:8,align:"right",contentClassName:Tr(Yw,q!==Xw&&q)},cr((0,Pt.nI)(n?(0,ma.wg)(k):k,(null==F?void 0:F.decimals)??e.I04),(null==F?void 0:F.symbol)||e.Tu9.symbol,n,void 0,!I),F&&ge.createElement(Bw,{token:F,size:"x-small",className:Gw}))}()),ge.createElement("div",{className:Vw},function(){const t=[],n=`${e.MS3}∙${e.MS3}`;if("failed"===o.status&&t.push(n,b("Failed")),fn(o).includes("list")){const a=(null==L?void 0:L.dex)&&e.S7e[L.dex],o=(null==L?void 0:L.marketplace)&&e.fSo[L.marketplace];t.push(n,b(a||o?"$transaction_on":I?"$transaction_from":"$transaction_to",{address:ge.createElement("span",{className:jw},u&&Boolean(R)&&ge.createElement("i",{className:Tr("cSKmXwko",`icon-chain-${R.toLowerCase()}`),"aria-label":R}),a||o||W||(0,Yt.W)(U,e.bOf))}))}return gn(o)&&t.push(n,b("at %annual_yield%",{annual_yield:ge.createElement("span",{className:jw},s," ",i,"%")})),f||t.push(n,(0,Oa.fU)(S)),ge.createElement("div",{className:qw},t.slice(1))}(),function(){if("hide"!==pn(o)&&F)return ge.createElement(Mw,{isActive:p,cols:Math.round(3+($-5)/3),rows:2,cellSize:8,align:"right"},mr(k,v,F))}()),D&&ge.createElement("div",{className:Tr(Qw,"e3BuV9xi",!m&&"ajtoDEwn","transaction-nft"),onClick:m?Y:void 0,"data-nft-address":null==D?void 0:D.address,"data-tx-id":E},ge.createElement("img",{src:D.thumbnail,alt:D.name,className:"D2P00KCV"}),ge.createElement("div",{className:"q0pHgkH5"},ge.createElement("div",{className:"nyPEMK4u"},D.name),ge.createElement("div",{className:"Qpo6_7BK"},D.collectionName))),mn(o)&&function(){const e=Tr(Qw,"HZlzXBrP",!I&&"pDncMEIU",q);return ge.createElement("div",{className:e},T&&ge.createElement("i",{className:Tr("gBryI_V5","icon-lock"),"aria-hidden":!0}),T?ge.createElement("i",null,b("Encrypted Message")):A)}())}));function cy(e,t){return(e.nft||mn(e))&&ly(e,t)?function(e){return"hide"===pn(e)}(e)?"full":e.nft||e.isIncoming?"left":"none":"none"}function ly(e,t){return t&&"failed"!==e.status&&!fn(e).includes("list")&&!gn(e)}function dy(e){let{activity:t,isLast:n,isActive:a,isSensitiveDataHidden:o,isFuture:r,withChainIcon:i,tokensBySlug:s,swapTokensBySlug:c,appTheme:l,nftsByAddress:d,currentAccountId:u,stakingStateBySlug:m,savedAddresses:p,accounts:f,baseCurrency:h,onClick:g}=e;var v;if("swap"===t.kind)return ge.createElement(ay,{activity:t,tokensBySlug:c,isLast:n,isActive:a,appTheme:l,addressByChain:null==f||null===(v=f[u])||void 0===v?void 0:v.addressByChain,isSensitiveDataHidden:o,isFuture:r,onClick:g});{const e=Boolean(t.nft&&(null==d?void 0:d[t.nft.address])),{annualYield:c,yieldType:v}=m[t.slug]??{};return ge.createElement(sy,{currentAccountId:u,transaction:t,tokensBySlug:s,isActive:a,annualYield:c,yieldType:v,isLast:n,savedAddresses:p,withChainIcon:i,appTheme:l,doesNftExist:e,isSensitiveDataHidden:o,isFuture:r,accounts:f,baseCurrency:h,onClick:g})}}function uy(e,t){return"swap"===e.kind?4:function(e,t){return 4+(e.nft?3.875:0)+(mn(e)?2.375:0)-("none"!==cy(e,t)?1.25:0)}(e,t)}const my=fe(je((e=>{const{dapp:t}=e.currentDappTransfer,n=at(e);return{currentAccount:null==n?void 0:n[e.currentAccountId],toncoinBalance:Ht(e),dapp:t}}))((function(t){let{currentAccount:n,toncoinBalance:a,dapp:o}=t;const{cancelDappTransfer:r,setDappTransferScreen:i}=Ke(),s=Ar(),c=Wo((()=>{i({state:Bn.Initial})}));return ge.createElement("div",{className:Ks.transitionContent},ge.createElement("div",{className:Vv},ge.createElement("div",{className:Dv},ge.createElement("div",{className:zv},null==n?void 0:n.title),ge.createElement("div",{className:Kv},sr((0,Pt.nI)(a),e.Tu9.symbol))),ge.createElement(nw,{dapp:o,className:qv})),ge.createElement("div",{className:"LiakNgEl"},ge.createElement("span",null,tr(s("$dapp_ledger_warning1"))),ge.createElement("span",null,tr(s("$dapp_ledger_warning2")))),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{className:Ks.button,onClick:r},s("Cancel")),ge.createElement(Vs,{isPrimary:!0,isSubmit:!0,className:Ks.button,onClick:c},s("Agree"))))}))),py="DZJAgO1_",fy="frL0b5SW",hy="l7Jv2Ysl",gy="cjX8maBi",vy="nfp5rpIc",wy="qBj00Hsz",yy=fe((function(t){let{nft:n,isStatic:a,withTonExplorer:o,withMediaViewer:r}=t;const{openMediaViewer:i}=Ke(),s=Ar(),c=de((()=>s("Open on %ton_explorer_name%",{ton_explorer_name:jo("ton")}).join("")),[s]),l=e=>{e.stopPropagation(),ic(Xo(n.address,Ve().settings.isTestnet))},d=Wo((()=>{i({mediaId:n.address,mediaType:qn.Nft})}));if(!n)return ge.createElement("div",{className:Tr(py,a&&fy)},ge.createElement($p,{play:!0,noLoop:!1,nonInteractive:!0,size:e.YO8,className:hy,tgsUrl:fp.wait,previewUrl:fp.waitPreview}),ge.createElement("div",{className:gy},ge.createElement("div",{className:vy},"NFT"),ge.createElement("div",{className:wy},s("Name and collection are not available. Please check back later."))));const u=n.name||(0,Yt.W)(n.address);return ge.createElement("div",r?{role:"button",tabIndex:0,"aria-label":s("NFT"),className:Tr(py,"GU6t4snd",a&&fy),onClick:d}:{className:Tr(py,a&&fy)},ge.createElement(ge.Fragment,null,ge.createElement("img",{src:n.thumbnail,alt:u,className:hy}),ge.createElement("div",{className:gy},ge.createElement("div",{className:vy},u,o&&ge.createElement("i",{className:Tr("DNxf1fb1","icon-tonexplorer-small"),onClick:l,title:c,"aria-label":c,role:"button",tabIndex:0})),ge.createElement("div",{className:wy},n.collectionName))))})),by=350,Ey="r5lsJ1c8",ky=fe((function(e){let{isOpen:t,address:n,chain:a,onClose:o}=e;const{removeFromSavedAddress:r,showNotification:i}=Ke(),s=Ar(),c=Wo((()=>{r({address:n,chain:a}),i({message:s("Address removed from saved"),icon:"icon-trash"}),o()}));return ge.createElement(Zs,{title:s("Delete Saved Address"),isCompact:!0,isOpen:t,onClose:o},ge.createElement("p",{className:Ey},s("Are you sure you want to remove this address from your saved ones?")),ge.createElement("p",{className:Ey},s("You will be able to save it again via Transaction Info with this address.")),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:o,className:Ks.button},s("Cancel")),ge.createElement(Vs,{isDestructive:!0,onClick:c,className:Ks.button},s("Delete"))))})),Cy=fe((function(e){let{isMenuOpen:t,contentRef:n,contentClassName:a}=e;const{shouldRender:o,ref:r}=Rs({isOpen:t,withShouldRender:!0});if(le((()=>{n.current&&(Is(n.current,"qhlMQSuq",o),Is(n.current,"y0lYOYF9",o&&!t),a&&Is(n.current,a,o))}),[a,n,t,o]),Us({className:"with-menu-backdrop",isActive:t}),o)return ge.createElement("div",{ref:r,className:Tr("aLk6q3zd",t&&"LULg10Df")})})),Ny={wrapper:"qrcsFk0p",button:"tQGrt_Qw",button_spoiler:"RpBIB1I4",buttonSpoiler:"RpBIB1I4",icon:"RdTchw5a",iconCaretDown:"DdQbhVKr",iconStar:"p87ao4no",iconShare:"GuQHudIr",nameInput:"lL2_LCB0",shortAddress:"hofQbGX_",scam:"nwdDECq8",revealSpoiler:"W5z38O2d",scamImage:"KBuV_80E",chainIcon:"xEGdgotG",meaningfulPart:"tKeqWu_9",menuIcon:"iyUEV5xt",dimmedPart:"NNrfqpvB",menu:"E31wd_4J",menuItem:"HbftB0iE"};function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sy.apply(null,arguments)}const Ay=3*n.$,Ty=n.$,Iy=fe(je((e=>{const t=ct(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:Ct(e,e.currentAccountId),isTestnet:e.settings.isTestnet}}))((function(e){let{chain:t,address:a,addressName:o,addressUrl:r,isScam:i,isTransaction:s,text:c="",spoiler:l,spoilerRevealText:d,spoilerCallback:u,copyNotification:m,noSavedAddress:p,noExplorer:f,className:h,textClassName:g,savedAddresses:v,isTestnet:w,isMultichainAccount:y,noDimming:b,withShareInMenu:E}=e;const{showNotification:k,addSavedAddress:C}=Ke(),N=me(),S=me(),A=me(),T=Ar(),[I,B,_]=ju(),[x,D,L]=ju(),[O,P]=ie(o),[M,,F]=ju(Boolean(l)),R=de((()=>Boolean(a&&t&&(v||[]).find((e=>e.address===a&&e.chain===t)))),[a,t,v]);r=r??(t?Qo(t,a,w):void 0);const U=T(R?"Remove From Saved":"Save Address"),W=T("View on Explorer"),H=Boolean(!i&&!p&&a),$=Boolean(!f&&r);ce((()=>{I&&P("")}),[I]);const V=Wo((()=>{O&&a&&t&&(C({address:a,chain:t,name:O}),k({message:T("Address was saved!"),icon:"icon-star"}),_())}));ce((()=>I?Wr({onEnter:V}):void 0),[V,I]),hp(N,!I);const z=Wo((()=>{m&&(k({message:m,icon:"icon-copy"}),dl(a||c))})),K=Wo((()=>{kh(r,t?jo(t):void 0)})),q=Wo((()=>{ic(r,{title:jo(t),subtitle:qo(r)})})),{isActionsMenuOpen:j,menuAnchor:Y,menuPositionY:G,menuItems:Q,handleMenuShow:X,handleMenuItemSelect:J,closeActionsMenu:Z}=function(e,t){const[a,o]=ie("top"),[r,i]=ie(),s=Wo((()=>i(void 0))),c=Boolean(r),l=de((()=>{const{isAddressAlreadySaved:e,isWalletAddress:a,isTransaction:o,withSavedAddresses:r,withExplorer:i,withShare:s}=t,c=[{name:r||a?"Copy Address":o?"Copy Transaction ID":"Copy",fontIcon:"copy",value:"copy"}];return r&&c.push({name:e?"Remove From Saved":"Save Address",fontIcon:e?"star-filled":"star",value:"addressBook"}),(o||s)&&c.push({name:"Share Link",fontIcon:n.pz?"share-ios":"share-android",value:"share"}),i&&c.push({name:"View on Explorer",fontIcon:"tonexplorer",value:"explorer"}),c}),[t]),d=Wo((t=>{var n;null===(n=e[t])||void 0===n||n.call(e),s()})),u=Wo((e=>{let t;if(Io(e),e.type.startsWith("touch")){const{changedTouches:n,touches:a}=e;t=a.length>0?a[0].clientX:n[0].clientX}else t=e.clientX;const{top:n,bottom:a}=e.currentTarget.getBoundingClientRect(),r=l.length*Ay,s=Va().height;a+r+-16+Ty>=s?(o("bottom"),i({x:t,y:n})):(o("top"),i({x:t,y:a+-16}))}));return{isActionsMenuOpen:c,menuAnchor:r,menuPositionY:a,menuItems:l,handleMenuShow:u,handleMenuItemSelect:d,closeActionsMenu:s}}({copy:z,share:K,addressBook:R?D:B,explorer:q},{isAddressAlreadySaved:R,isWalletAddress:Boolean(a&&t&&p&&!s),isTransaction:s,withSavedAddresses:H,withExplorer:$,withShare:E}),ee=!l&&n.TF&&Q.length>1,te=Wo((()=>document.body)),ne=Wo((()=>A.current)),ae=Wo((()=>({withPortal:!0,preferredPositionY:G}))),oe=function(e){let{onClick:t,onStart:n,onEnd:a,threshold:o=by}=e;const r=me(!1),i=me(!1),s=me(void 0),c=ue((e=>{const t="button"in e&&0===e.button||"touches"in e&&e.touches.length>0;!i.current&&t&&(i.current=!0,s.current=window.setTimeout((()=>{null==n||n(),r.current=!0}),o))}),[n,o]),l=ue((e=>{i.current&&(r.current?null==a||a():null==t||t(e),r.current=!1,i.current=!1,window.clearTimeout(s.current))}),[a,t]);return ye((()=>()=>{window.clearTimeout(s.current)})),{onMouseDown:c,onMouseUp:l,onMouseLeave:l,onTouchStart:c,onTouchEnd:l,onTouchCancel:l}}({onClick:X,onStart:z}),re=Wo((()=>{F(),null==u||u()}));function se(e){let n=e;if(!b&&!s&&e===a&&e.length>2*Yt.V){const t=e.substring(0,Yt.V),a=e.length-Yt.V,o=e.substring(Yt.V,a),r=e.substring(a);n=ge.createElement(ge.Fragment,null,ge.createElement("span",{className:Ny.meaningfulPart},t),ge.createElement("span",{className:Ny.dimmedPart},o),ge.createElement("span",{className:Ny.meaningfulPart},r))}else!b&&s&&(n=ge.createElement("span",{className:Ny.dimmedPart},e));return ge.createElement("span",{className:Tr(Ny.button,i&&Ny.scam,g),tabIndex:0,role:"button",title:ee?void 0:T("Copy"),onClick:ee?void 0:z},i&&ge.createElement("img",{src:ry,alt:T("Scam"),className:Ny.scamImage}),y&&!s&&ge.createElement("i",{className:Tr(Ny.chainIcon,`icon-chain-${t}`),"aria-label":t}),n,Boolean(o)&&ge.createElement("span",{className:Tr(Ny.shortAddress,i&&Ny.scam)},(0,Yt.W)(a)),Boolean(m)&&!ee&&ge.createElement("i",{className:Tr(Ny.icon,"icon-copy"),"aria-hidden":!0}))}return ge.createElement(ge.Fragment,null,ge.createElement(Cy,{isMenuOpen:j&&ee,contentRef:S}),ge.createElement("div",Sy({ref:S,className:Tr(Ny.wrapper,h)},ee&&!j&&{...oe,tabIndex:0,role:"button"},{onContextMenu:ee?Io:void 0}),function(){const e=o||a||c;if(!l)return se(e);const t=M||!e;return ge.createElement(ff,{activeKey:t?1:0,name:"fade",className:Ny.commentContainer},t?ge.createElement("span",{className:Tr(Ny.button,Ny.button_spoiler,g)},ge.createElement("i",null,l)," ",ge.createElement("span",{onClick:re,tabIndex:0,role:"button",className:Ny.revealSpoiler},d)):se(e))}(),function(){if(ee){const e=Tr(Ny.icon,Ny.iconCaretDown,"icon-caret-down",i&&Ny.scam);return ge.createElement(ge.Fragment,null,ge.createElement("i",{className:e,"aria-hidden":!0}),ge.createElement(Mh,{ref:A,withPortal:!0,shouldTranslateOptions:!0,isOpen:j,items:Q,menuPositionY:G,menuAnchor:Y,getLayout:ae,getMenuElement:ne,getRootElement:te,bubbleClassName:Ny.menu,buttonClassName:Ny.menuItem,fontIconClassName:Ny.menuIcon,onSelect:J,onClose:Z}))}return ge.createElement(ge.Fragment,null,H&&ge.createElement("span",{className:Ny.button,title:U,"aria-label":U,tabIndex:0,role:"button",onClick:R?D:B},ge.createElement("i",{className:Tr(Ny.icon,Ny.iconStar,R?"icon-star-filled":"icon-star"),"aria-hidden":!0})),s&&ge.createElement("span",{className:Ny.button,title:T("Share Link"),"aria-label":T("Share Link"),onClick:K},ge.createElement("i",{className:Tr(Ny.icon,Ny.iconShare,"icon-link"),"aria-hidden":!0})),$&&ge.createElement("a",{href:r,className:Ny.button,title:W,"aria-label":W,target:"_blank",rel:"noreferrer noopener",onClick:cc},ge.createElement("i",{className:Tr(Ny.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))}()),a&&ge.createElement(ge.Fragment,null,ge.createElement(Zs,{title:T("Save Address"),isCompact:!0,isOpen:I,onClose:_},ge.createElement("p",null,T("You can save this address for quick access while sending.")),ge.createElement(zp,{ref:N,placeholder:T("Name"),onInput:P,value:O,maxLength:255,className:Ny.nameInput}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:_,className:Ks.button},T("Cancel")),ge.createElement(Vs,{onClick:V,isPrimary:!0,isDisabled:!O,className:Ks.button},T("Save")))),ge.createElement(ky,{isOpen:x,address:a,chain:t,onClose:L})))}))),By=fe(je((e=>({tokensBySlug:e.tokenInfo.bySlug,baseCurrency:e.settings.baseCurrency})))((function(t){let{label:n,amountsBySlug:a,nftCount:o,tokensBySlug:r,baseCurrency:i}=t;const s=[];o&&s.push(ge.createElement("span",{className:Wv},`${o} NFT${o>1?"s":""}`));for(const[t,n]of Object.entries(a)){s.length&&s.push(" + ");const a=r[t]??e.Bx3;s.push(ge.createElement("span",{className:Wv},sr((0,Pt.nI)(n,a.decimals),a.symbol)))}if(!Ge(a)){const e=function(e,t){return Object.entries(e).reduce(((e,n)=>{let[a,o]=n;const r=t[a];return r?e+(0,Pt.CF)(o,r.decimals).toNumber()*r.price:e}),0)}(a,r);s.push(` (${sr(e,ur(i))})`)}return ge.createElement(ge.Fragment,null,ge.createElement("span",{className:Lv},n),ge.createElement("div",{className:Tr(Fv,Rv)},s))}))),_y=fe((function(e){let{transaction:t,tokensBySlug:n}=e;const a=Ar(),o=me(),[r,i]=ju(!1);ce((()=>{const e=o.current;e&&e.scrollWidth<=e.clientWidth&&i()}),[i]);const s=function(){const{payload:e,rawPayload:o}=t;if(e&&!Bt(e)&&!_t(e))switch(e.type){case"comment":return e.comment;case"tokens:burn":{const{slug:t,amount:o}=e,r=n[t],i=(null==r?void 0:r.decimals)??It.fI,s=(null==r?void 0:r.symbol)??"";return a("$dapp_transfer_tokens_burn",{amount:sr((0,Pt.nI)(o,i),s,2)})}case"dns:change-record":{const{record:t}=e,n="unknown"!==t.type?t.type:t.key;return"wallet"===t.type&&t.value?a("$dapp_dns_set_wallet_payload",{address:t.value}):"wallet"!==t.type||t.value?t.value?a("$dapp_dns_change_record_payload",{category:n,value:t.value}):a("$dapp_dns_delete_record_payload",{category:n}):a("$dapp_dns_delete_wallet_payload")}case"token-bridge:pay-swap":return a("$dapp_token_bridge_pay_swap_payload",{swapId:e.swapId});case"liquid-staking:deposit":return a("$dapp_liquid_staking_deposit_payload");case"liquid-staking:vote":return a("$dapp_liquid_staking_vote_payload",{votingAddress:e.votingAddress,vote:e.vote});case"single-nominator:change-validator":return a("$dapp_single_nominator_change_validator_payload",{address:e.address});case"single-nominator:withdraw":return a("$dapp_single_nominator_withdraw_payload",{amount:(0,Pt.nI)(e.amount)});case"vesting:add-whitelist":return a("$dapp_vesting_add_whitelist_payload",{address:e.address});case"unknown":return o;default:return JSON.stringify(e,void 0,2).replace(`/"${ma.tH}/g`,'"')}}();if(s)return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Lv},function(){var e;switch(null===(e=t.payload)||void 0===e?void 0:e.type){case"comment":return a("Comment");case"unknown":return a("Payload");default:return a("Nested Transaction")}}()),ge.createElement("div",{ref:o,className:Tr(Fv,r&&Rv)},s,!r&&ge.createElement("div",{className:"l7ty8x8l",onClick:i},a("View"))),t.isDangerous&&ge.createElement("div",{className:ew},tr(a("$hardware_payload_warning"))))})),xy=fe((function(e){let{transaction:t,tokensBySlug:n,isActive:a,onClose:o,onBack:r}=e;const i=Ar();return zi({isActive:a,onBack:r}),ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:i("Transaction Info"),onBackButtonClick:r,onClose:o}),ge.createElement("div",{className:Tr(Ks.transitionContent,"yj9FIjaY")},t&&ge.createElement(Dy,{transaction:t,tokensBySlug:n})))}));function Dy(t){let{transaction:n,tokensBySlug:a}=t;const o=Ar(),r=de((()=>{const{amount:t,payload:a}=n,o={};return _t(a)&&(o[a.slug]=a.amount),(0n!==t||!Bt(a)&&Ge(o))&&(o[e.Tu9.slug]=t),o}),[n]),i=de((()=>({[e.Tu9.slug]:n.networkFee})),[n.networkFee]);return ge.createElement(ge.Fragment,null,Bt(n.payload)&&ge.createElement(yy,{nft:n.payload.nft}),ge.createElement("p",{className:Lv},o("Receiving Address")),ge.createElement(Iy,{chain:e.Tu9.chain,address:n.displayedToAddress,isScam:n.isScam,className:Tr(Mv,"NfKwqXNd"),copyNotification:o("Address was copied!")}),!Ge(r)&&ge.createElement(By,{label:Bt(n.payload)?o("Additional Amount Sent"):o("Amount"),amountsBySlug:r}),ge.createElement(By,{label:o("Fee"),amountsBySlug:i}),ge.createElement(_y,{transaction:n,tokensBySlug:a}))}const Ly={exact:"",approximate:"~ ",lessThan:"< "},Oy={slug:"__stars__",symbol:e.xFF,decimals:0},Py={slug:"__unknown__",symbol:"",decimals:0},My={[e.Tu9.slug]:"icon-chain-ton",[e.X7T.slug]:"icon-chain-tron"},Fy=fe((function(e){var t;let{terms:n,token:a,precision:o,shouldPreferIcons:r,termClassName:i,symbolClassName:s}=e;const c=(null===(t=Gn(ea(a.slug)))||void 0===t?void 0:t.nativeToken)??Py,l=[Ly[o]];return function(e){const t=[];let n;for(const[a,o]of Object.entries(e)){if(void 0===o)continue;const e={tokenType:a,amount:o};n||=e,Number(o)&&t.push(e)}return 0===t.length&&t.push(n??{tokenType:"native",amount:0}),t}(n).forEach(((e,t)=>{let{tokenType:n,amount:o}=e;t>0&&l.push(" + ");const d="stars"===n?Oy:"native"===n?c:a,u=r?My[d.slug]:void 0;"bigint"==typeof o&&(o=(0,Pt.nI)(o,d.decimals));let m=u?ge.createElement("i",{className:Tr(u,"hrsxYQfo"),"aria-label":d.symbol}):d.symbol;s&&(m=ge.createElement("span",{className:s},m)),l.push(ge.createElement("span",{className:Tr("KQKXQCYl",i)},sr(o,"",void 0,!0),m))})),l})),Ry=fe((function(e){let{className:t,isStatic:n,terms:a,token:o,precision:r,keepDetailsButtonWithoutFee:i,onDetailsClick:s}=e;const c=Ar();let l;return a&&o&&(l=c("exact"===r?"$fee_value_with_colon":"$fee_value",{fee:ge.createElement(Fy,{terms:a,token:o,precision:r})})),ge.createElement(Uy,{className:t,isStatic:n,onDetailsClick:l||i?s:void 0,transitionKey:l?1:0},l)}));function Uy(e){let{className:t,isStatic:n,onDetailsClick:a,children:o,transitionKey:r=0}=e;const i=Ar();return ge.createElement(ff,{name:"fade",activeKey:r+(a?65536:0),className:Tr("fJgsdA7d",t,n&&"swvIvbGd")},o,Boolean(o)&&a&&" · ",a&&ge.createElement("span",{role:"button",tabIndex:0,className:"K7iB61lh",onClick:()=>a()},i("Details"),ge.createElement("i",{className:Tr("icon-chevron-right","WDhuwtt6"),"aria-hidden":!0})))}const Wy=[{isLarge:!1,hasFee:!1},{isLarge:!0,hasFee:!0}],Hy=fe(je((e=>{var t,n,a;const{isLoading:o,dapp:r,transactions:i,emulation:s}=e.currentDappTransfer,c=e.currentAccountId,l=ct(e),d=at(e),{amountsBySlug:u,isScam:m,isDangerous:p,nftCount:f}=Lt(e);return{transactions:i,totalAmountsBySlug:u,emulation:s,isScam:m,isDangerous:p,nftCount:f,dapp:r,isLoading:o,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(t=e.swapTokenInfo)||void 0===t?void 0:t.bySlug,theme:e.settings.theme,baseCurrency:e.settings.baseCurrency,nftsByAddress:null==l||null===(n=l.nfts)||void 0===n?void 0:n.byAddress,currentAccountId:c,stakingStateBySlug:Ca(e,c),savedAddresses:null==l?void 0:l.savedAddresses,accounts:d,insufficientTokens:Ot(e),balancesBySlug:null==l||null===(a=l.balances)||void 0===a?void 0:a.bySlug}}))((function(t){var n;let{transactions:a,totalAmountsBySlug:o,emulation:r,isScam:i,isDangerous:s,nftCount:c,dapp:l,isLoading:d,tokensBySlug:u,swapTokensBySlug:m,theme:p,baseCurrency:f,nftsByAddress:h,currentAccountId:g,stakingStateBySlug:v,savedAddresses:w,accounts:y,insufficientTokens:b,balancesBySlug:E,onClose:k}=t;const{closeDappTransfer:C,showDappTransferTransaction:N,submitDappTransferConfirm:S}=Ke(),A=Ar(),T=Sf(p),I=Sh(a,!0),B=de((()=>function(e,t){return e?e.map(((e,n)=>({...e,index:n,sortingCost:$y(e,t)}))).sort(((e,t)=>t.sortingCost-e.sortingCost)):e}(I,u)),[I,u]),_=void 0===l,x=!b,D=de((()=>function(t,n,a){if(!t||!n||!a)return{balance:(null==n?void 0:n[e.Tu9.slug])??0n,symbol:e.Tu9.symbol,decimals:e.Tu9.decimals};const o=[],r=[];for(const[e,i]of Object.entries(t)){const t=n[e]??0n,s=a[e];if(!s)continue;const{symbol:c,decimals:l,priceUsd:d=0}=s;if(t<i){const n=i-t,a=(0,Pt.CF)(n,l).toNumber()*d;o.push({slug:e,insufficientUsdValue:a,balance:t,symbol:c,decimals:l})}else{const n=(0,Pt.CF)(i,l).toNumber()*d;r.push({slug:e,transactionUsdValue:n,balance:t,symbol:c,decimals:l})}}if(o.length>0){const e=o.reduce(((e,t)=>t.insufficientUsdValue>e.insufficientUsdValue?t:e));return{balance:e.balance,symbol:e.symbol,decimals:e.decimals}}if(r.length>0){const e=r.reduce(((e,t)=>t.transactionUsdValue>e.transactionUsdValue?t:e));return{balance:e.balance,symbol:e.symbol,decimals:e.decimals}}return{balance:n[e.Tu9.slug]??0n,symbol:e.Tu9.symbol,decimals:e.Tu9.decimals}}(o,E,u)),[o,E,u]);function L(t){const{payload:n}=t,a=[];if(Bt(n))a.push("1 NFT");else if(_t(n)){const{slug:t,amount:o}=n,{decimals:r,symbol:i}=u[t]??e.Bx3;a.push(sr((0,Pt.nI)(o,r),i))}return a.push(sr((0,Pt.nI)(t.amount+t.networkFee),e.Tu9.symbol)),ge.createElement("div",{key:t.index,className:"qfq9TmLL",onClick:()=>N({transactionIdx:t.index})},t.isScam&&ge.createElement("img",{src:ry,alt:A("Scam"),className:"gw394drP"}),ge.createElement("span",{className:Tr("rqZIiXwE",t.isScam&&$v)},a.join(" + "))," ",ge.createElement("span",{className:Tr("p87NWFTH",t.isScam&&$v)},A("$transaction_to",{address:(0,Yt.W)(t.displayedToAddress)})),ge.createElement("i",{className:Tr("gKLbD42t","icon-chevron-right"),"aria-hidden":!0}))}return ge.createElement(ff,{name:"semiFade",activeKey:_?0:1,slideClassName:Jv},ge.createElement(Fh,{title:A(Bt(null==I||null===(n=I[0])||void 0===n?void 0:n.payload)?"Send NFT":"Send Transaction"),onClose:C}),_?ge.createElement(iw,{rows:Wy}):ge.createElement("div",{className:Tr(Ks.transitionContent,Zv)},ge.createElement(rw,{dapp:l,customTokenBalance:D.balance,customTokenSymbol:D.symbol,customTokenDecimals:D.decimals}),s&&ge.createElement("div",{className:Tr("Jgu5kw0W",ew)},tr(A("$hardware_payload_warning"))),function(){if(!I)return;const e=c>0||!Ge(o);return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Lv},A("$many_transactions",I.length,"i")),ge.createElement("div",{className:Hv},null==B?void 0:B.map(L)),I.length>1&&e&&ge.createElement(By,{label:A("Total Amount"),amountsBySlug:o,nftCount:c}))}(),function(){var t;if(null==r||null===(t=r.activities)||void 0===t||!t.length)return;const{activities:n,realFee:a}=r;return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Lv},A("Preview")," ",ge.createElement(Iv,{message:tr(A("$preview_not_guaranteed")),type:"warning",size:"small"})),ge.createElement("div",{className:Tr(Hv,"ZCewpbCA")},n.map(((e,t)=>ge.createElement(dy,{key:e.id,activity:e,isFuture:!0,isLast:t===n.length-1,tokensBySlug:u,swapTokensBySlug:m,appTheme:T,nftsByAddress:h,currentAccountId:g,stakingStateBySlug:v,savedAddresses:w,accounts:y,baseCurrency:f})))),0n!==a&&ge.createElement(Ry,{terms:{native:a},token:e.Tu9,precision:"approximate",className:"ClQaAvrV"}))}(),ge.createElement("div",{className:Ov},!x&&ge.createElement("div",{className:"IHLQKILq"},A("Not Enough %symbol%",{symbol:b})),ge.createElement("div",{className:Tr(Ks.buttons,tw)},ge.createElement(Vs,{className:Ks.button,onClick:k},A("Cancel")),ge.createElement(Vs,{isPrimary:!0,isSubmit:!0,isLoading:d,isDisabled:i||!x,className:Ks.button,onClick:!i&&x?S:void 0},A("Send"))))))})));function $y(t,n){const a=(0,Pt.CF)(t.amount+t.networkFee,e.Tu9.decimals).toNumber();let o=n[e.Tu9.slug].priceUsd*a;if(_t(t.payload)){const{amount:e,slug:a}=t.payload,r=n[a];r&&(o+=r.priceUsd*(0,Pt.CF)(e,r.decimals).toNumber())}else Bt(t.payload)&&(o+=1e9);return o}const Vy=fe(je((e=>{const{isDangerous:t}=Lt(e);return{currentDappTransfer:e.currentDappTransfer,tokensBySlug:e.tokenInfo.bySlug,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isDangerous:t}}))((function(t){let{currentDappTransfer:{isLoading:n,viewTransactionOnIdx:a,state:o,transactions:r,emulation:i,error:s},tokensBySlug:c,isMediaViewerOpen:l,isDangerous:d}=t;const{setDappTransferScreen:u,clearDappTransferError:m,submitDappTransferPassword:p,submitDappTransferHardware:f,closeDappTransfer:h,cancelDappTransfer:g}=Ke(),v=Ar(),w=o!==Bn.None,{renderingKey:y,nextKey:b,updateNextKey:E}=tv(o,w),k=de((()=>function(e,t,n){let a=0;if(e&&(a+=3*e.length,e.length>1&&(a+=5.125)),t)for(const e of t)a+=uy(e,!0);return n&&(a+=4.6),a>=14.5}(r,null==i?void 0:i.activities,d)),[r,i,d]),C=Wo((()=>{o!==Bn.Confirm&&o!==Bn.Password||u({state:Bn.Initial})})),N=Wo((e=>{p({password:e})})),S=Wo((()=>{f()})),A=Wo((()=>{g(),E()}));function T(t,o,i){switch(i){case Bn.Initial:return ge.createElement(Hy,{onClose:h});case Bn.WarningHardware:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:v("Send Transaction"),onClose:h}),ge.createElement(my,null));case Bn.Confirm:return ge.createElement(xy,{transaction:void 0!==a?null==r?void 0:r[a]:void 0,tokensBySlug:c,isActive:t,onBack:C,onClose:h});case Bn.Password:return function(t){return ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:v("Confirm Action"),onClose:h}),ge.createElement(Cf,{isActive:t,isLoading:n,error:s,withCloseButton:e.UMQ,submitLabel:v("Send"),cancelLabel:v("Back"),onSubmit:N,onCancel:C,onUpdate:m}))}(t);case Bn.ConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:S,onClose:h});case Bn.ConfirmHardware:return ge.createElement(dv,{text:v("Please confirm transaction on your Ledger"),error:s,onTryAgain:f,onClose:h});case Bn.Complete:return ge.createElement(uw,{isActive:t,onClose:h})}}return ge.createElement(Zs,{hasCloseButton:!0,isOpen:w&&!l,noBackdropClose:!0,dialogClassName:Tr(Bv,k&&"ow4XXlQr"),nativeBottomSheetKey:"dapp-transfer",forceFullNative:(k||y===Bn.Password)&&y!==Bn.Complete,onClose:h,onCloseAnimationEnd:A},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:y,nextKey:b,onStop:E},T))}))),zy=(0,_a.F3)("Dialog",{web:()=>i.e(564).then(i.bind(i,94564)).then((e=>new e.DialogWeb))}),Ky=fe(je((e=>(0,c.Up)(e,["dialogs"])))((t=>{var n,a;let{dialogs:o}=t;const{dismissDialog:r}=Ke(),s=Ar(),[c,l,d]=ju(),u=o[o.length-1],m=s((null==u?void 0:u.title)??"Something went wrong"),p=(null==u?void 0:u.buttons)??{confirm:{}},f=Boolean(null==u||null===(n=u.buttons)||void 0===n?void 0:n.cancel),h=s(p.confirm.title??"OK"),g=f?s((null===(a=p.cancel)||void 0===a?void 0:a.title)??"Cancel"):void 0,v=e.UMQ&&"string"==typeof(null==u?void 0:u.message),w=Wo((()=>{p.confirm.action&&async function(e){switch(e){case"openBluetoothSettings":{const{openSystemBluetoothSettings:e}=await Promise.all([i.e(973),i.e(612),i.e(115),i.e(355)]).then(i.bind(i,56876));e();break}case"signOutAll":{const{signOut:e}=Ke();e({level:"all"});break}}}(p.confirm.action),v?r():d()}));if(ce((()=>{u?v?f?zy.confirm({title:m,message:s(u.message),okButtonTitle:h,cancelButtonTitle:g}).then((e=>{e.value?w():r()})):zy.alert({title:m,message:s(u.message),buttonTitle:h}).then(w):l():d()}),[g,h,u,f,v,s,m]),u)return ge.createElement(Zs,{isOpen:c,isCompact:!0,title:m,noBackdropClose:u.noBackdropClose,isInAppLock:u.isInAppLock,onClose:d,onCloseAnimationEnd:r},ge.createElement("div",null,"string"==typeof u.message?tr(s(u.message,u.entities)):u.message),ge.createElement("div",{className:Ks.footerButtons},f&&ge.createElement(Vs,{onClick:d},g),ge.createElement(Vs,{isPrimary:!0,isDestructive:p.confirm.isDestructive,onClick:w},h)))}))),qy=fe(je((e=>{const{isAppUpdateAvailable:t}=e;return{isAppUpdateAvailable:t}}))((function(t){let{isAppUpdateAvailable:n}=t;const a=Ar(),[o,r]=ie(!1),[i,s]=ie(!1),[c,l]=ju(!1);ce((()=>{var e,t,n;const a=null===(e=window.electron)||void 0===e?void 0:e.on(mh.UPDATE_ERROR,(()=>{r(!1)})),o=null===(t=window.electron)||void 0===t?void 0:t.on(mh.UPDATE_DOWNLOADED,(()=>{r(!0)}));return null===(n=window.electron)||void 0===n||n.getIsAutoUpdateEnabled().then(s),()=>{null==a||a(),null==o||o()}}),[]);const d=Wo((async()=>{if(!c)if(i){var t;if(o)return l(),void await(null===(t=window.electron)||void 0===t?void 0:t.installUpdate());n&&window.location.reload()}else window.open(`${e.yq6}/get`,"_blank","noopener")})),{ref:u,shouldRender:m}=Rs({isOpen:o||n,withShouldRender:!0});return m?ge.createElement("div",{ref:u,className:Tr("m3oYVPLL",c&&"Hz_3Tm4Q"),onClick:d},ge.createElement("div",{className:"cAAhDZj9"},ge.createElement("i",{className:Tr("icon-update","O2khIMww")})),ge.createElement("div",{className:"vvQKF4lC"},a("Update %app_name%",{app_name:e.C39}))):null}))),jy="o0YiMAP8",Yy="B1_vmNNd",Gy="F4gGoZNE",Qy="oUKLixL4",Xy="Pgysk0gP",Jy=fe((function(t){let{children:a,withTitle:o}=t;const r=me();(e=>{const t=me(!1),a=me(window.screenX),o=me(window.screenY),r=me(0);ce((()=>{const i=e.current;if(!i||!n.cp||!n.MP)return;const s=e=>{r.current=0,t.current&&(e.preventDefault(),e.stopPropagation(),t.current=!1)},c=e=>{t.current&&(e.preventDefault(),e.stopPropagation())},l=e=>{1===e.buttons&&(r.current+=Math.sqrt((a.current-window.screenX)**2+(o.current-window.screenY)**2),a.current=window.screenX,o.current=window.screenY,!t.current&&r.current>5&&(t.current=!0))},d=e=>{var t;e.currentTarget===e.target&&(null===(t=window.electron)||void 0===t||t.handleDoubleClick())};return i.addEventListener("click",s),i.addEventListener("mousedown",c),i.addEventListener("mousemove",l),i.addEventListener("dblclick",d),()=>{i.removeEventListener("click",s),i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",l),i.removeEventListener("dblclick",d)}}),[e])})(r);const i=Wo((()=>{var e;null===(e=window.electron)||void 0===e||e.minimize()})),s=Wo((async()=>{var e,t,n;await(null===(e=window.electron)||void 0===e?void 0:e.getIsMaximized())?null===(t=window.electron)||void 0===t||t.unmaximize():null===(n=window.electron)||void 0===n||n.maximize()})),c=Wo((()=>{var e;null===(e=window.electron)||void 0===e||e.close()})),l=Wo((()=>{var e;null===(e=window.electron)||void 0===e||e.handleDoubleClick()}));return n.H8?ge.createElement("div",{ref:r,className:jy,onDoubleClick:l},ge.createElement("div",{className:Yy},Boolean(a)&&ge.createElement("div",{className:Qy},a),o&&ge.createElement("div",{className:Gy},e.C39)),ge.createElement("div",{className:"hKXvGlWy"},ge.createElement(qy,null),ge.createElement("div",{className:Xy,onClick:i},ge.createElement("i",{className:"icon-windows-minimize"})),ge.createElement("div",{className:Xy,onClick:s},ge.createElement("i",{className:"icon-windows-maximize"})),ge.createElement("div",{className:Xy,onClick:c},ge.createElement("i",{className:"icon-windows-close"})))):ge.createElement("div",{ref:r,className:jy,onDoubleClick:l},ge.createElement("div",{className:Yy},o&&ge.createElement("div",{className:Gy},e.C39),ge.createElement("div",{className:Qy},ge.createElement(qy,null),a)))}));function Zy(e){const t=me(!1);return ce((()=>{n.pz&&!e&&t.current&&(co(),t.current=!1)}),[e]),{disableSwipeToClose:Wo((()=>{n.pz&&!t.current&&(so(),t.current=!0)})),enableSwipeToClose:Wo((()=>{n.pz&&t.current&&(co(),t.current=!1)}))}}function eb(e,n,a){let o=e;o.startsWith("http:")||o.startsWith("https:")||(o=`https://${o}`),function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zo;try{if(!e.match(Vo))return!1;const t=new URL(e);return n.has(t.protocol)}catch(e){return(0,t.SJ)("isValidUrl",e),!1}}(o)?Ke().addSiteToBrowserHistory({url:o}):o=`https://www.google.com/search?q=${encodeURIComponent(e)}`,ic(o,{isExternal:n,title:a,subtitle:qo(o)})}const tb=function(e){let{containerRef:t,isDisabled:n,shouldPreventDefault:a=!1,contentSelector:o}=e;ce((()=>{const e=t.current;if(!n&&e)return e.addEventListener("wheel",r,{passive:!a}),()=>{e.removeEventListener("wheel",r)};function r(t){if(!t.deltaX){const n=o?e.querySelector(o):e;if(!n)return;n.scrollLeft+=t.deltaY/4,a&&t.preventDefault()}}}),[t,o,n,a])};function nb(e){const t=me(),n=me();return n.current!==e&&(t.current=n.current),n.current=e,t.current}const ab="dNJuuV1f",ob="yWoCn5kk",rb="d8pMxoBU",ib=fe((function(e){let{category:t,sites:n}=e;const{openSiteCategory:a}=Ke(),o=Ar(),[r,i]=de((()=>n.length<=4?[n,[]]:[n.slice(0,3),n.slice(3,7)]),[n]);function s(){a({id:t.id})}return ge.createElement("div",{className:"MEbg8jIh"},ge.createElement("h3",{className:"P97rYp1K",role:"button",tabIndex:0,onClick:s},o(t.name)),ge.createElement("div",{className:Tr("uC9KwIK7",i.length>0&&"db2WsIPg"),onClick:i.length>0?s:void 0},r.map((e=>ge.createElement("button",{key:`${e.url}-${e.name}`,type:"button",className:Tr(ab,rb),onClick:t=>{Io(t),ic(e.url,{isExternal:e.isExternal,title:e.name,subtitle:qo(e.url)})}},ge.createElement(Tf,{url:e.icon,alt:e.name,imageClassName:ob})))),i.length>0&&ge.createElement("div",{className:Tr("qqdPrxSH",rb)},i.map((e=>ge.createElement(Tf,{key:`${e.url}-${e.name}`,url:e.icon,alt:e.name,className:Tr(ab,"rQOZaBwJ"),imageClassName:ob}))))))})),sb=[],cb="B18NDC8N",lb="ws8erUzz",db=Oa.Z2,ub=[{name:"Fanzee Battles",manifestUrl:"https://battles-tg-app.fanz.ee/tc-manifest.json",originalUrl:"https://t.me/fanzeebattlesbot",replacementUrl:"https://t.me/battlescryptobot?start=myTonWallet"},{name:"Hamster Kombat",manifestUrl:"https://hamsterkombatgame.io/tonconnect-manifest.json",originalUrl:"https://hamsterkombatgame.io/",replacementUrl:"https://t.me/hamster_kombat_bot/start"},{name:"Dogs",manifestUrl:"https://cdn.onetime.dog/manifest.json",originalUrl:"https://onetime.dog",replacementUrl:"https://t.me/dogshouse_bot/join"},{name:"Earn",manifestUrl:"https://cdn.joincommunity.xyz/earn/manifest.json",originalUrl:"https://earncommunity.xyz",replacementUrl:"https://t.me/earn?startapp"}].reduce(((e,t)=>{let{originalUrl:n,replacementUrl:a}=t;return e[n]=a,e}),{}),mb=fe((function(e){let{iconUrl:t,name:n,url:a,mode:o,isExternal:r}=e;const{updateDappLastOpenedAt:i}=Ke(),s=Ar(),c=Wo((async()=>{await ic(ub[a]||a,{isExternal:r}),setTimeout((()=>{i({url:a})}),db)}));return ge.createElement("button",{type:"button",className:Tr("uOCr1XIF","pill"===o?"x3JEisHt":"in10zDBl"),onClick:c},function(){const e="pill"===o?cb:lb,n=de((()=>ge.createElement("div",{className:Tr(xv,"RGl7OFHd",e)},ge.createElement("i",{className:Tr("JdTfrjba","icon-laptop"),"aria-hidden":!0}))),[e]);return ge.createElement(Tf,{url:t,className:e,imageClassName:"ZwXhUWQR",alt:s("Icon"),fallback:n})}(),ge.createElement("span",{className:"mqKHkpx5"},n))})),pb={rootSlide:"ZqS6W7iF",slide:"FbWMWVID",list:"eHKjqPA4",landscapeList:"ajulW8PQ",suggestionsMenu:"AcA4Inhz",suggestions:"Rr_OedMn",suggestion:"goh_kbKG",suggestionIcon:"BHtFAOhh",suggestionAddress:"hX1s9Ru4",clearSuggestion:"k4u3y6_t",item:"gSQkL6Gj",trendingImage:"bIf54cAx",imageWrapperScalable:"jnZY0Ppv",trending:"dsHH5C4L",badge:"PI6bQC1A",imageWrapper:"oZIOx6b0",infoWrapper:"SmLsrv__",extended:"Qe5qRpIb",withBorder:"yvQQOHrd",badgeLabel:"vHZqxLRV",image:"RpIwnHrh",title:"ToW8q6Vp",description:"kd6qUnJ8",telegram:"Y4mdR7QN",emptyList:"OLtywBQ9",emptyListLoading:"i6uQ6HHm",searchWrapper:"VQJfovbk",searchContainer:"Wr0eK8xW",searchIcon:"DdYW9BBn",searchInput:"Gy204QbI",sectionHeader:"HElxzEtm",trendingSection:"bX0D8BEZ",trendingList:"bZc6NN6v"},fb=new Set(["https://checkin.mytonwallet.org"]),hb=fe(je((e=>{const{dapps:t=sb}=ct(e)||{},{dappLastOpenedDatesByUrl:n}=ct(e)||{};return{dapps:t,dappLastOpenedDatesByUrl:n}}))((function(e){let{dapps:t,dappLastOpenedDatesByUrl:a}=e;const{openSettingsWithState:o,closeExplore:r}=Ke(),i=Ar(),s=me(),c=de((()=>{const e=t.slice().filter((e=>!fb.has(e.url))).map((e=>({...e,lastOpenedAt:null==a?void 0:a[e.url]}))).sort(gb),n=new Set;return e.filter((e=>{let{url:t}=e;return!n.has(t)&&(n.add(t),!0)}))}),[a,t]),l=c.length>3?"tile":"pill",d="pill"===l,u=d?cb:lb,m=Tr("nA5QFADu",d?"YTIqRcid":"y5gkmCay",!c.length&&"RcpQnS7j","dapps-feed");if(tb({containerRef:s,isDisabled:n.TF||0===c.length,shouldPreventDefault:!0,contentSelector:".dapps-feed"}),c.length)return ge.createElement("div",{className:"_3Om0rcJ",ref:s},ge.createElement("h2",{className:pb.sectionHeader},i("Connected")),ge.createElement("div",{className:m},null==c?void 0:c.map((e=>function(e,t){const{iconUrl:n,name:a,url:o}=e,r=`dapp-${o}-${nu(e)}`;return ge.createElement(mb,{key:r,iconUrl:n,name:a,url:o,mode:t,isExternal:!!e.sse})}(e,l))),!!c.length&&ge.createElement("div",{className:"kqZ8FwHA",role:"button",tabIndex:0,title:d?i("Settings"):void 0,"aria-label":d?i("Settings"):void 0,onClick:function(){r(void 0,{forceOnHeavyAnimation:!0}),o({state:$n.Dapps},{forceOnHeavyAnimation:!0})}},ge.createElement("div",{className:Tr("S5zvywKS",u)},ge.createElement("i",{className:"icon-params","aria-hidden":!0})),!d&&ge.createElement("span",{className:"CDOOWV_8"},i("Settings")))))})));function gb(e,t){const n=e.lastOpenedAt||0,a=t.lastOpenedAt||0;return n!==a?a-n:t.connectedAt-e.connectedAt}const vb=e=>{const{className:t,href:n,children:a,onClick:o,clickArg:r,isDestructive:i}=e,s=Wo((e=>{if(!o)return e.stopPropagation(),void e.preventDefault();o(e,r)})),c=Wo((e=>{if("Enter"===e.code||"Space"===e.code)return o?void o(e):(e.stopPropagation(),void e.preventDefault())})),l=Tr("eMFKmXs8",t,i&&"C84vY_ER");return n?ge.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:l},a):ge.createElement("div",{role:"button",tabIndex:0,className:l,onClick:s,onKeyDown:c},a)},wb=fe((function(e){let{site:{url:t,icon:n,name:a,description:o,isExternal:r,extendedIcon:i,withBorder:s,badgeText:c},isTrending:l,isInList:d,className:u}=e;return ge.createElement("div",{className:Tr(pb.item,i&&l&&pb.extended,l&&pb.trending,!d&&s&&pb.withBorder,u),tabIndex:0,role:"button",onClick:function(){il(),ic(t,{isExternal:r,title:a,subtitle:qo(t)})}},ge.createElement(Tf,{url:i&&l?i:n,className:Tr(pb.imageWrapper,!l&&pb.imageWrapperScalable),imageClassName:Tr(pb.image,l&&pb.trendingImage)}),ge.createElement("div",{className:pb.infoWrapper},ge.createElement("b",{className:pb.title},a,!l&&Jo(t)&&ge.createElement("i",{className:Tr(pb.telegram,"icon-telegram-filled"),"aria-hidden":!0}),d&&c&&ge.createElement("div",{className:pb.badgeLabel},c)),ge.createElement("div",{className:pb.description},o)),!d&&c&&ge.createElement("div",{className:pb.badge},c))})),yb=fe((function(e){var t,n;let{isSuggestionsVisible:a,searchSuggestions:o,searchValue:r,onSiteClick:i,onSiteClear:s,onClose:c}=e;const l=Ar();return ge.createElement(Oh,{type:"suggestion",noBackdrop:!0,isOpen:Boolean(a&&!o.isEmpty),className:pb.suggestions,bubbleClassName:pb.suggestionsMenu,onClose:c},null==o||null===(t=o.history)||void 0===t?void 0:t.map((e=>ge.createElement(vb,{key:`history-${e}`,className:pb.suggestion,onClick:i,clickArg:e},ge.createElement("i",{className:Tr(pb.suggestionIcon,r.length?"icon-search":"icon-globe"),"aria-hidden":!0}),ge.createElement("span",{className:pb.suggestionAddress},qo(e)),ge.createElement("button",{className:pb.clearSuggestion,type:"button","aria-label":l("Clear"),title:l("Clear"),onMouseDown:t=>s(t,e),onClick:Io},ge.createElement("i",{className:"icon-close","aria-hidden":!0}))))),null==o||null===(n=o.sites)||void 0===n?void 0:n.map((e=>ge.createElement(wb,{key:`site-${e.url}-${e.name}`,className:pb.suggestion,site:e}))))})),bb=fe(je((e=>{var t;return{categories:null===(t=e.exploreData)||void 0===t?void 0:t.categories}}))((function(e){let{id:t,withNotch:n,categories:a}=e;const{closeSiteCategory:o}=Ke(),r=Ar(),{isPortrait:i}=ui(),s=de((()=>{var e;return null===(e=a||[])||void 0===e?void 0:e.find((e=>t===e.id))}),[a,t]);return ge.createElement("div",{className:Tr("xWsj5_Wk",i&&"with-notch-on-scroll",n&&"is-scrolled")},ge.createElement(Vs,{className:"P2bhPLw0",isSimple:!0,isText:!0,onClick:o},ge.createElement("i",{className:Tr("FmQAR1hK","icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("h3",{className:"kW1ssngj"},r((null==s?void 0:s.name)||"")))}))),Eb=fe((function(e){let{isActive:t,categoryId:n,sites:a}=e;const{closeSiteCategory:o}=Ke(),{isPortrait:r}=ui();zi({isActive:t,onBack:o});const{handleScroll:i,isScrolled:s}=Qh();return ge.createElement("div",{onScroll:r?i:void 0,className:Tr("LxPuuiTJ","custom-scroll")},r&&ge.createElement(bb,{id:n,withNotch:s}),ge.createElement("div",{className:"Eml6INN5"},a.map((e=>ge.createElement(wb,{key:`${e.url}-${e.name}`,site:e,isInList:!0})))))}));var kb=function(e){return e[e.main=0]="main",e[e.category=1]="category",e}(kb||{});const Cb=fe(je((e=>{const{browserHistory:t,currentSiteCategoryId:a}=ct(e)||{},{categories:o,sites:r}=e.exploreData||{};return{sites:r,categories:o,shouldRestrict:e.restrictions.isLimitedRegion&&(n.ZH||n.xy),browserHistory:t,currentSiteCategoryId:a}}))((function(t){let{isActive:a,categories:o,sites:r,shouldRestrict:i,browserHistory:s,currentSiteCategoryId:c,onScroll:l}=t;const{loadExploreSites:d,getDapps:u,removeSiteFromBrowserHistory:m,openSiteCategory:p,closeSiteCategory:f}=Ke(),h=me(),g=me(void 0),v=me(),w=me(),y=Ar(),{isLandscape:b,isPortrait:E}=ui(),[k,C]=ie(""),[N,S,A]=ju(!1),[T,I,B]=ju(!1),{renderingKey:_}=tv(c||0,!!a),x=Uo(nb(_)),{disableSwipeToClose:D,enableSwipeToClose:L}=Zy(a),{handleScroll:O,isScrolled:P}=Qh();ce((()=>_?Ih(f):void 0),[f,_]);const M=de((()=>function(e,t){if(e)return t?e.filter((e=>!e.canBeRestricted)):e}(r,i)),[r,i]),F=de((()=>function(e,t,n){const a=e.toLowerCase(),o=null==t?void 0:t.filter((e=>e.toLowerCase().includes(a))),r=a.length&&n?n.filter((e=>{let{url:t,name:n,description:o}=e;return t.toLowerCase().includes(a)||n.toLowerCase().includes(a)||o.toLowerCase().includes(a)})):void 0;return{history:o,sites:r,isEmpty:((null==o?void 0:o.length)||0)+((null==r?void 0:r.length)||0)===0}}(k,s,M)),[s,k,M]),{trendingSites:R,allSites:U}=de((()=>(M||[]).reduce(((e,t)=>(t.isFeatured&&e.trendingSites.push(t),e.allSites[t.categoryId]||(e.allSites[t.categoryId]=[]),e.allSites[t.categoryId].push(t),e)),{trendingSites:[],allSites:{}})),[M]);ce((()=>{if(n.TF&&null!=M&&M.length)return ef(v.current,{onSwipeRightStart:()=>{f(),D()},onCancel:()=>{p({id:x.current}),L()}})}),[D,L,null==M?void 0:M.length,x]),tb({containerRef:w,isDisabled:n.TF||0===R.length,shouldPreventDefault:!0,contentSelector:`.${pb.trendingList}`});const W=de((()=>null==o?void 0:o.filter((e=>{var t;return(null===(t=U[e.id])||void 0===t?void 0:t.length)>0}))),[o,U]);ce((()=>{a&&(u(),d({isLandscape:b}))}),[a,b]);const H=Wo((()=>{F.isEmpty||(n.Ni?g.current=window.setTimeout(I,300):I())})),$=Wo((()=>{T&&B(),window.clearTimeout(g.current)}));pi((e=>{let[t]=e;(t&&!N||F.isEmpty)&&$(),N&&!F.isEmpty&&H()}),[N,F.isEmpty]);const V=Wo(((e,t)=>{il(),B();const n=(o=t,null==(a=r)?void 0:a.find((e=>{let{url:t}=e;return t===o})));var a,o;eb(t,null==n?void 0:n.isExternal,null==n?void 0:n.name)})),z=Wo(((e,t)=>{Io(e),m({url:t})}));function K(e){C(e.target.value)}const q=Wo((()=>{var e;null===(e=h.current)||void 0===e||e.blur()}));function j(e){Io(e),q(),k.length>0&&(eb(k),C(""))}function Y(e,t,n){switch(n){case kb.main:return ge.createElement("div",{className:Tr(pb.slide,"custom-scroll"),onScroll:E?O:l},ge.createElement("div",{className:Tr(pb.searchWrapper,"with-notch-on-scroll",P&&"is-scrolled")},ge.createElement("form",{action:"#",onSubmit:j,className:pb.searchContainer,autoComplete:"off"},ge.createElement("i",{className:Tr(pb.searchIcon,"icon-search"),"aria-hidden":!0}),ge.createElement("input",{name:"explore-search",className:pb.searchInput,placeholder:y("Search or enter address"),value:k,autoCorrect:!1,autoCapitalize:"none",spellCheck:!1,inputMode:"url",onChange:K,onFocus:S,onBlur:A})),ge.createElement(yb,{isSuggestionsVisible:T,searchSuggestions:F,searchValue:k,onSiteClick:V,onSiteClear:z,onClose:q})),ge.createElement(hb,null),Boolean(R.length)&&ge.createElement("div",{ref:w,className:pb.trendingSection},ge.createElement("h2",{className:pb.sectionHeader},y("Trending")),ge.createElement("div",{className:pb.trendingList},R.map((e=>ge.createElement(wb,{key:`${e.url}-${e.name}`,site:e,isTrending:!0}))))),Boolean(null==W?void 0:W.length)&&ge.createElement(ge.Fragment,null,ge.createElement("h2",{className:pb.sectionHeader},y("All Dapps")),ge.createElement("div",{className:Tr(pb.list,b&&pb.landscapeList)},W.map((e=>ge.createElement(ib,{key:e.id,category:e,sites:U[e.id]}))))));case kb.category:{const t=U[_];if(!t)return;return ge.createElement(Eb,{key:_,isActive:e,categoryId:_,sites:t})}}}return void 0===M?ge.createElement("div",{className:Tr(pb.emptyList,pb.emptyListLoading)},ge.createElement(Qg,null)):0===M.length?ge.createElement("div",{className:pb.emptyList},ge.createElement($p,{play:a,tgsUrl:fp.happy,previewUrl:fp.happyPreview,size:e.igk,className:pb.sticker,noLoop:!1,nonInteractive:!0}),ge.createElement("p",{className:pb.emptyListTitle},y("No partners yet"))):ge.createElement(ff,{ref:v,name:ev(),activeKey:_?kb.category:kb.main,withSwipeControl:!0,className:pb.rootSlide},Y)}))),Nb=fe((function(e){let{isActive:t,isStatic:n,hardwareWallets:a,accounts:o,onBackButtonClick:r,onCancel:i,onClose:s}=e;const{afterSelectHardwareWallets:c,loadMoreHardwareWallets:l}=Ke(),d=Ar(),[u,m]=ie([]),p=!i;zi({isActive:t,onBack:i??s});const f=Wo((e=>{u.includes(e)?m(u.filter((t=>t!==e))):m(u.concat([e]))})),h=Wo((()=>{c({hardwareSelectedIndices:u}),s()})),g=de((()=>Object.values(o??[]).map((e=>{let{addressByChain:{ton:t}}=e;return t})).filter(Boolean)),[o]),v=Wo((()=>{var e;const t=a??[],n=(null===(e=t[t.length-1])||void 0===e?void 0:e.index)??0;l({lastIndex:n})})),w=!u.length,y=u.length?d("%1$d Selected",u.length):d("Select Ledger Wallets");return ge.createElement(ge.Fragment,null,n?ge.createElement("div",{className:tg.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:s,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back"))),ge.createElement("span",{className:tg.headerTitle},y)):ge.createElement(Fh,{title:y,onBackButtonClick:r,onClose:r?void 0:s}),ge.createElement("div",{className:Tr(cv.container,n&&cv.containerStatic,n&&"static-container")},function(){const e=a??[],t=Tr(cv.accounts,1===e.length&&cv.accounts_two,"custom-scroll");return ge.createElement("div",{className:t},e.map((e=>{let{address:t,balance:n,index:a}=e;return function(e,t,n,a){const o=a||u.includes(n);return ge.createElement("div",{key:e,className:Tr(cv.account,o&&cv.account_current),onClick:a?void 0:()=>f(n)},ge.createElement("span",{className:cv.accountName},ge.createElement("i",{className:Tr(cv.accountCurrencyIcon,"icon-ton"),"aria-hidden":!0}),sr((0,Pt.nI)(t),"",3)),ge.createElement("div",{className:cv.accountFooter},ge.createElement("span",{className:cv.accountAddress},(0,Yt.W)(e,4,4))),ge.createElement("div",{className:Tr(cv.accountCheckMark,o&&cv.accountCheckMark_active)}))}(t,n,a,g.includes(t))})),ge.createElement(Vs,{className:cv.addAccountContainer,onClick:v},d("Add Wallet"),ge.createElement("i",{className:Tr(cv.addAccountIcon,"icon-plus"),"aria-hidden":!0})))}(),ge.createElement("div",{className:cv.actionBlock},ge.createElement(Vs,{className:cv.button,onClick:p?s:i},d(p?"Cancel":"Back")),ge.createElement(Vs,{isPrimary:!0,isDisabled:w,onClick:h,className:cv.button},d("Add")))))}));var Sb=function(e){return e[e.Password=0]="Password",e[e.Connect=1]="Connect",e[e.SelectWallets=2]="SelectWallets",e}(Sb||{});const Ab=fe(je((e=>{const t=at(e),{hardwareWallets:n}=e.hardware;return{accounts:t,hardwareWallets:n,areSettingsOpen:e.areSettingsOpen}}))((function(e){let{isOpen:t,noBackdropClose:n,onClose:a,hardwareWallets:o,accounts:r,areSettingsOpen:i}=e;const{afterSelectHardwareWallets:s}=Ke(),[c,l]=ie(Sb.Connect),[d]=ie(Sb.SelectWallets),u=Wo((()=>{s({hardwareSelectedIndices:[o[0].index]}),a()})),m=Wo((e=>{e?u():l(Sb.SelectWallets)})),p=Wo((()=>{l(Sb.Connect)}));function f(e,t,n){switch(n){case Sb.Connect:return ge.createElement(Cv,{isActive:e,onConnected:m,onClose:a});case Sb.SelectWallets:return ge.createElement(Nb,{isActive:e,accounts:r,hardwareWallets:o,onClose:a})}}return ge.createElement(Zs,{isOpen:t,hasCloseButton:!0,onClose:a,onCloseAnimationEnd:p,dialogClassName:Tr(cv.modalDialog,i&&cv.modalDialogInsideSettings),noBackdropClose:n},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:c,nextKey:d},f))})));function Tb(){const{safeAreaTop:t}=Va(),{safeAreaInset:a,contentSafeAreaInset:o}=e.tKX?no():{};return e.UMQ?Math.max(Xc(),jc,t):e.tKX?a.top+o.top:t+(n.cp&&!n.ig?3*n.$:0)+(n.By&&n.H8&&e.hL1?30:0)}function Ib(e){const{rootMargin:t,threshold:n=[0],isDisabled:a,targetRef:o,cb:r}=e,[i,s]=ie(!0);return ce((()=>{if(a||!o.current)return;const e=new IntersectionObserver((e=>{const t=e[0];s(t.isIntersecting),null==r||r(t)}),{rootMargin:t,threshold:n});return e.observe(o.current),()=>{e.disconnect()}}),[t,n,a,o,r]),{isVisible:i}}const Bb=document.querySelector('meta[name="viewport"]'),_b=(null==Bb?void 0:Bb.getAttribute("content"))||"",xb="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover",Db={root:"o0ZmVyIN",purple:"DJCb7ytz",tokenIcon:"O2XO33Bj",chainIcon:"UKA4ZfVj",green:"IHTEYaZx",twoIcons:"UD000onR",nftIcon:"kRGDvyHS",stacked:"gdAuuzmF",image:"Q3m3aAJ1",text:"LrHNEZly",bold:"GQC2YXcS",nftTitle:"BAWd380W",address:"gWbbue48"},Lb=fe((function(e){let{tokenIn:t,imageUrl:n,text:a,withChainIcon:o,tokenOut:r,secondText:i,color:s,className:l}=e;const d=Ar(),u=Tr(Db.root,s&&Db[s],r&&Db.twoIcons,l),m=!!n,p=de((()=>(0,c.Am)(Array.isArray(n)?n:[n])),[n]);return ge.createElement("div",{className:u},t&&!m&&ge.createElement(Bw,{token:t,withChainIcon:o,size:"small",className:Db.tokenIcon}),m&&ge.createElement("div",{className:Tr(Db.nftIcon,Array.isArray(n)&&n.length>1&&Db.stacked)},p.map((e=>ge.createElement("img",{src:e,alt:"",key:e,className:Db.image}))),o&&(null==t?void 0:t.chain)&&ge.createElement("img",{src:Nw(t.chain),alt:"",className:Db.chainIcon,draggable:!1})),ge.createElement("span",{className:Db.text},i?a?d("%amount% to %address%",{amount:ge.createElement("span",{className:Tr(Db.bold,m&&Db.nftTitle)},a),address:ge.createElement("span",{className:Tr(Db.bold,Db.address)},i)}):d("$transaction_to",{address:ge.createElement("span",{className:Db.bold},i)}):ge.createElement("span",{className:Db.bold},a)),r&&ge.createElement(Bw,{token:r,withChainIcon:o,size:"small",className:Db.tokenIcon}))}));let Ob=(0,n.v3)();function Pb(){const t=ve();return ye((()=>{e.UMQ&&!Ob&&Ku.isSupported().then((e=>{Ob=e.supported,t()}))})),Ob}const Mb="erx70q4_",Fb="Jag9KEHr",Rb="fVQ8S1pD",Ub="Pne6FnQc",Wb="eBKrZtom",Hb="U6ZAbMe2",$b="pUMdj3j5",Vb=fe((function(e){let{address:t,name:a,chain:o,isHardware:r,isSavedAddress:i,deleteLabel:s,onClick:c,onDeleteClick:l}=e;const d=()=>{c(t)},u=e=>{Io(e),l(t)};return ge.createElement("div",{tabIndex:-1,role:"button",onMouseDown:n.TF?void 0:d,onClick:n.TF?d:void 0,className:"WI13wV5I"},ge.createElement("span",{className:"ZEsl45OR"},ge.createElement("span",{className:"HLnOPUyB"},a||(0,Yt.W)(t)),r&&ge.createElement("i",{className:Tr("bdYXzf2H","icon-ledger"),"aria-hidden":!0})),i&&l&&ge.createElement("span",{className:"ozjjQpYQ"},ge.createElement("span",{tabIndex:-1,role:"button",className:"UWDrZutz",onMouseDown:u},s)),a&&ge.createElement("span",{className:"sDGTQ4jr"},o&&ge.createElement("i",{className:Tr("g2vfXFiv",`icon-chain-${o}`),"aria-hidden":!0}),(0,Yt.W)(t)),i&&l&&ge.createElement("span",{className:"rO6SGoH9",role:"button",tabIndex:-1,onMouseDown:u,onClick:Io,"aria-label":s},ge.createElement("i",{className:"icon-trash","aria-hidden":!0})))})),zb=fe(je((e=>{const t=ct(e);return{savedAddresses:null==t?void 0:t.savedAddresses,isMultichainAccount:Ct(e,e.currentAccountId),accounts:at(e)}}))((function(t){let{isOpen:n,currentChain:a,currentAddress:o="",otherAccountIds:r,accounts:i,savedAddresses:s,isMultichainAccount:c,onAddressSelect:l,onSavedAddressDelete:d,onClose:u}=t;const m=Ar(),p=de((()=>{if(s&&0!==s.length)return s.filter((e=>(!a||e.chain===a)&&Kb(e,o))).map((e=>ge.createElement(Vb,{key:`saved-${e.address}-${e.chain}`,address:e.address,name:e.name,chain:c?e.chain:void 0,deleteLabel:m("Delete"),isSavedAddress:!0,onClick:l,onDeleteClick:d})))}),[o,c,a,m,l,d,s]),f=de((()=>{if(!r||0===r.length)return;const t=(null==s?void 0:s.map((e=>`${e.chain}:${e.address}`)))??[],n=new Set;return r.reduce(((o,r)=>{const s=i[r];return Object.keys(s.addressByChain).forEach((r=>{const i=s.addressByChain[r],l=`${r}:${i}`;!i||n.has(l)||a&&r!==a||!c&&r!==e.Tu9.chain||t.includes(`${r}:${i}`)||(n.add(l),o.push({name:s.title||(0,Yt.W)(i),address:i,chain:r,isHardware:"hardware"===s.type}))})),o}),[]).filter((e=>Kb(e,o))).map((e=>{let{address:t,name:n,chain:a,isHardware:o}=e;return ge.createElement(Vb,{key:`address-${t}-${a}`,address:t,name:n,chain:c?a:void 0,isHardware:o,onClick:l})}))}),[r,s,i,a,c,o,l]);if(Boolean((null==f?void 0:f.length)||(null==p?void 0:p.length)))return ge.createElement(Oh,{positionX:"right",type:"suggestion",noBackdrop:!0,bubbleClassName:"keyC_8Hs",isOpen:n,onClose:u},p,f)})));function Kb(e,t){const n=t.toLowerCase(),{address:a,name:o}=e;return a.toLowerCase().startsWith(n)||a.toLowerCase().endsWith(n)||o.toLowerCase().split(/\s+/).some((e=>e.startsWith(n)))}const qb="vnQc1YiQ",jb="input-clear-button",Yb=fe((function(e){let{ref:t,label:a,value:o,chain:r,isStatic:i,withQrScan:s,address:c,addressName:l,addressBookChain:d,accounts:u,currentAccountId:m,savedAddresses:p,validateAddress:f,error:h,onInput:g,onClose:v}=e;const{showNotification:w,requestOpenQrScanner:y}=Ke(),b=Ar(),E=me(),[k,C]=ie(),[N,S]=ie(),[A,T,I]=ju(),[B,_,x]=ju(),[D,L]=ie(n.Et),O=Pb(),P=ke("address-"),M=r?va(o,r):void 0,F=o.length>0&&!M?b("Incorrect address"):void 0,R=de((()=>u?Object.keys(u).filter((e=>e!==m)):[]),[m,u]),U=de((()=>R.length>0||p&&p.length>0),[R.length,p]),W=de((()=>r&&o?oy({address:o,chain:r,currentAccountId:m,savedAddresses:p,accounts:u}):void 0),[u,r,m,p,o]),H=D&&!o,$=s&&O,V=$||H||!!o.length;ye((()=>()=>{E.current&&window.clearTimeout(E.current)}));const z=de((()=>{if(!c)return;const e=W||l,t=!e&&c.length>22?(0,Yt.W)(c,11)||"":c;return ge.createElement(ge.Fragment,null,e&&ge.createElement("span",{className:"S1nUS2km"},e),ge.createElement("span",{className:Tr("DdHkCftA",!e&&"m2Fe0uv6")},e?(0,Yt.W)(c,4):t))}),[c,W,l]),K=Wo((async()=>{try{const{type:e,text:t}=await ul();if("text/plain"===e){const e=t.trim();g(e,!0),j(e)}}catch(e){w({message:b("Error reading clipboard")}),L(!1)}})),q=Wo((()=>{n.pz&&(0,n.v3)()?alert("Scanning is temporarily not available"):(y(),v())})),j=Wo((e=>{f&&(e&&r&&va(e,r)||!e)&&f({address:e})})),Y=Wo((()=>{_(),U&&(n.Ni?E.current=window.setTimeout(T,300):T())})),G=Wo((e=>{var t;if(x(),(null===(t=e.relatedTarget)||void 0===t?void 0:t.id)===jb)return X(),void j(o);let n=o;(0,ga.iy)(o)&&o!==o.toLowerCase()?(n=o.toLowerCase().trim(),g(n)):o!==o.trim()&&(n=o.trim(),g(n)),requestAnimationFrame((()=>{X(),j(n)}))})),Q=Wo((()=>{g(""),j()})),X=Wo((()=>{U&&A&&(I(),E.current&&window.clearTimeout(E.current))})),J=Wo((e=>{C(e),S(r),I()})),Z=Wo((()=>{C(void 0),S(void 0)})),ee=Wo((e=>{g(e,!0),I()}));return ge.createElement(ge.Fragment,null,ge.createElement(zp,{id:P,ref:t,className:Tr(i&&"Nrn6AoJg",V&&"K9Nd_zOE"),isRequired:!0,isStatic:i,label:a,placeholder:b("Wallet address or domain"),value:o,error:F||h,autoCorrect:!1,valueOverlay:F?void 0:z,onInput:g,onFocus:Y,onBlur:G},function(){const e=Tr("L_5kIPIy",B&&"BJFtkvaJ");return ge.createElement(ff,{className:"ayhHYxLn",activeKey:o.length?0:1,name:"fade"},o.length?ge.createElement("div",{className:e},ge.createElement(Vs,{isSimple:!0,id:jb,className:Tr(qb,"tl4TUzu3"),onClick:Q,ariaLabel:b("Clear")},ge.createElement("i",{className:"icon-close-filled","aria-hidden":!0}))):ge.createElement("div",{className:e},$&&ge.createElement(Vs,{isSimple:!0,className:qb,onClick:q,ariaLabel:b("Scan QR Code")},ge.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),H&&ge.createElement(Vs,{isSimple:!0,className:qb,onClick:K,ariaLabel:b("Paste")},ge.createElement("i",{className:"icon-paste","aria-hidden":!0}))))}()),U&&ge.createElement(ge.Fragment,null,ge.createElement(zb,{isOpen:A,currentChain:d,currentAddress:o,otherAccountIds:R,onAddressSelect:ee,onSavedAddressDelete:J,onClose:I}),ge.createElement(ky,{isOpen:Boolean(k),address:k,chain:N,onClose:Z})))})),Gb="gRT6bZt3",Qb="BrPVwQU4",Xb="Ps7kqvix",Jb="Dnc6lzH5",Zb="W2G5uyVG",eE="hdNHgPt2",tE="jQftqhh0",nE="uM1QBU1t",aE=new Set([Ln.Password,Ln.ConnectHardware,Ln.ConfirmHardware]),oE=fe(je((e=>{const{currentDomainLinking:t,mediaViewer:{mediaId:n}}=e,a=rt(e),o=ct(e),{byAddress:r}=(null==o?void 0:o.nfts)||{},i=t.address?null==r?void 0:r[t.address]:void 0,s=i?Ta(e,i):"";return{isMediaViewerOpen:Boolean(n),currentDomainLinking:t,byAddress:r,tonBalance:Ht(e),accounts:at(e),savedAddresses:null==o?void 0:o.savedAddresses,currentLinkedWalletAddress:s,currentTonAddress:null==a?void 0:a.addressByChain.ton}}))((function(t){let{currentDomainLinking:{address:n,state:a,error:o,isLoading:r,realFee:i,walletAddress:s="",walletAddressName:c="",resolvedWalletAddress:l,txId:d},isMediaViewerOpen:u,byAddress:m,tonBalance:p,accounts:f,savedAddresses:h,currentTonAddress:g,currentLinkedWalletAddress:v}=t;const{startDomainLinking:w,cancelDomainLinking:y,clearDomainLinkingError:b,submitDomainLinking:E,submitDomainLinkingHardware:k,checkDomainLinkingDraft:C,checkLinkingAddress:N,setDomainLinkingWalletAddress:S,showActivityInfo:A}=Ke(),T=Ar(),I=a!==Ln.None&&!u,{renderingKey:B,nextKey:_}=tv(a??0,I),x=n?null==m?void 0:m[n]:void 0,D=i?p<i:void 0,L=aE.has(B),O=de((()=>i?{native:i}:void 0),[i]),P=v?"Change Linked Wallet":"Link to Wallet",M=va(s,"ton"),F=Wo((e=>{S({address:e})})),R=M&&s!==v&&!D&&!r;Ms((e=>{let[t]=e;!t&&I&&F(s||v||g)}),[I,v,s,g]),ce((()=>{I&&C({nft:x})}),[x,I]);const U=Wo((e=>{R&&E({password:e})})),W=Wo((()=>{R&&k()})),H=Wo((()=>{y(),A({id:d})}));function $(t,n,a){switch(a){case Ln.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:T(P),onClose:y}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement("div",{className:Jb},ge.createElement(yy,{nft:x,withMediaViewer:!0}),ge.createElement(Yb,{withQrScan:!0,value:s,currentAccountId:"",addressBookChain:"ton",chain:"ton",accounts:f,savedAddresses:h,validateAddress:N,label:T(v?"Linked Wallet":"Wallet"),address:l||s,addressName:c,onInput:F,onClose:y})),ge.createElement(Ry,{terms:O,token:e.Tu9,precision:"exact"}),ge.createElement("div",{className:Tr(Ks.buttons,Zb)},ge.createElement(Vs,{isPrimary:!0,isDestructive:D,isDisabled:!R,isLoading:!i||r,className:eE,onClick:w},T(D?"Insufficient Balance":"Link")))));case Ln.Password:return function(e){return ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:T("Confirm Linking"),onClose:y}),ge.createElement(Cf,{isActive:e,error:o,isLoading:r,submitLabel:T("Confirm"),cancelLabel:T("Cancel"),onSubmit:U,onCancel:y,onUpdate:b,skipAuthScreen:!0},ge.createElement(Lb,{imageUrl:null==x?void 0:x.thumbnail,text:(null==x?void 0:x.name)??"1 domain",className:tl()?void 0:Xb})))}(t);case Ln.ConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:W,onClose:y});case Ln.ConfirmHardware:return ge.createElement(dv,{text:T("Please confirm transaction on your Ledger"),error:o,onClose:y,onTryAgain:W});case Ln.Complete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:T("Domain has been linked!"),onClose:y}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement($p,{play:e,noLoop:!1,nonInteractive:!0,className:Qb,tgsUrl:fp.thumbUp,previewUrl:fp.thumbUpPreview}),ge.createElement(yy,{nft:x,withMediaViewer:!0}),!!d&&ge.createElement("div",{className:Tr(tE,nE)},ge.createElement(Vs,{onClick:H},T("Details"))),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{className:eE,onClick:y,isPrimary:!0},T("Close")))))}(t)}}return ge.createElement(Zs,{isOpen:I,nativeBottomSheetKey:"link-domain",forceFullNative:L,dialogClassName:Gb,onClose:y},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:B,nextKey:_},$))}))),rE=fe((function(e){let{nfts:t,isStatic:n,className:a}=e;const o=Ar(),[r,,i]=ju(!0),s=r&&t.length>11,c=de((()=>s?t.slice(0,10):t),[s,t]);return ge.createElement("div",{className:Tr("OW45fd9i",n&&"h6wiRr_r","custom-scroll",a)},c.map((function(e){return ge.createElement("div",{key:e.address,className:"HmnTdlh8"},ge.createElement("img",{src:e.thumbnail,alt:e.name,className:"H3EA9Tak"}),ge.createElement("span",{className:"_gZbYTeY"},e.name||e.address))})),s&&ge.createElement("button",{type:"button",className:"T7bQHi3K",onClick:()=>i()},"+",o("%amount% NFTs",{amount:t.length-10})))})),iE=new Set([Dn.Password,Dn.ConnectHardware,Dn.ConfirmHardware]),sE=fe(je((e=>{var t;const{currentDomainRenewal:n,mediaViewer:{mediaId:a}}=e,{byAddress:o}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{};return{isMediaViewerOpen:Boolean(a),currentDomainRenewal:n,byAddress:o,tonBalance:Ht(e)}}))((function(t){let{currentDomainRenewal:{addresses:n,state:a,error:o,isLoading:r,realFee:i,txId:s},isMediaViewerOpen:c,byAddress:l,tonBalance:d}=t;const{startDomainsRenewal:u,cancelDomainsRenewal:m,clearDomainsRenewalError:p,submitDomainsRenewal:f,submitDomainsRenewalHardware:h,checkDomainsRenewalDraft:g,showActivityInfo:v}=Ke(),w=Ar(),y=ve(),b=a!==Dn.None&&!c,{renderingKey:E,nextKey:k}=tv(a??0,b),C=de((()=>(n||[]).map((e=>null==l?void 0:l[e])).filter(Boolean)),[n,l]),N=i?d<i:void 0,S=iE.has(E),A=de((()=>i?{native:i}:void 0),[i]),T=Date.now()+Oa.UX,I=de((()=>C.map((e=>null==e?void 0:e.thumbnail)).filter(Boolean).slice(0,3)),[C]);zh(y,b?Oa.pY:void 0,!0),ce((()=>{b&&g({nfts:C})}),[C,b]);const B=Wo((e=>{f({password:e})})),_=Wo((()=>{h()})),x=Wo((()=>{m(),v({id:s})}));function D(t,a,c){switch(c){case Dn.Initial:return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(Ks.header,Ks.header_wideContent)},ge.createElement("div",{className:Tr(Ks.title,"cmL5TjIH")},ge.createElement("div",{className:"NtG0ddPE"},w(n&&n.length>1?"Renew Domains":"Renew Domain")),!!T&&ge.createElement("div",{className:"u4jvqiGf"},w("Until %date%",{date:[(0,Oa.TK)(w.code,T),(0,Oa.fU)(T)].join(", ")}))),ge.createElement(Vs,{isRound:!0,className:Ks.closeButton,ariaLabel:w("Close"),onClick:m},ge.createElement("i",{className:Tr(Ks.closeIcon,"icon-close"),"aria-hidden":!0}))),ge.createElement("div",{className:Ks.transitionContent},ge.createElement("div",{className:Jb},1===C.length&&ge.createElement(yy,{nft:C[0],withMediaViewer:!0}),C.length>1&&ge.createElement(rE,{nfts:C,className:"p6JeJnTy"})),ge.createElement(Ry,{terms:A,token:e.Tu9,precision:"exact"}),ge.createElement("div",{className:Tr(Ks.buttons,Zb)},ge.createElement(Vs,{isPrimary:!0,isDestructive:N,isDisabled:N,isLoading:!i||r,className:eE,onClick:u},N?w("Insufficient Balance"):C.length>1?w("Renew All"):w("Renew")))));case Dn.Password:return function(e){var t,n;return ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:w("Confirm Renewing"),onClose:m}),ge.createElement(Cf,{isActive:e,error:o,isLoading:r,submitLabel:w("Confirm"),cancelLabel:w("Cancel"),onSubmit:B,onCancel:m,onUpdate:p,skipAuthScreen:!0},ge.createElement(Lb,{imageUrl:I,text:1===C.length&&Boolean(null===(t=C[0])||void 0===t?void 0:t.name)?null===(n=C[0])||void 0===n?void 0:n.name:w("$domains_amount %1$d",C.length,"i"),className:tl()?void 0:Xb})))}(t);case Dn.ConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:_,onClose:m});case Dn.ConfirmHardware:return ge.createElement(dv,{text:w("Please confirm transaction on your Ledger"),error:o,onClose:m,onTryAgain:_});case Dn.Complete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:C.length>1?w("Domains have been renewed!"):w("Domain has been renewed!"),onClose:m}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement($p,{play:e,noLoop:!1,nonInteractive:!0,className:Qb,tgsUrl:fp.thumbUp,previewUrl:fp.thumbUpPreview}),ge.createElement("div",{className:Jb},1===C.length&&ge.createElement(yy,{nft:C[0],withMediaViewer:!0}),C.length>1&&ge.createElement(rE,{nfts:C}),1===C.length&&!!s&&ge.createElement("div",{className:Tr(tE,nE)},ge.createElement(Vs,{onClick:x},w("Details")))),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:m,isPrimary:!0},w("Close")))))}(t)}}return ge.createElement(Zs,{isOpen:b,nativeBottomSheetKey:"renew-domain",forceFullNative:S,dialogClassName:Gb,onClose:m},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:E,nextKey:k},D))})));function cE(e,t,n,a){const o=`ton://transfer/${e}`,r=[];return t&&r.push(`amount=${t}`),n&&r.push(`text=${encodeURIComponent(n)}`),a&&r.push(`jetton=${encodeURIComponent(a)}`),0===r.length?o:`${o}?${r.join("&")}`}const lE=fe((function(e){let{token:t,className:a,noChainIcon:o,onClick:r}=e;const{transitionRef:i}=function(e){const t=me();return le((()=>{if(!t.current||!e)return;const a=`${e.symbol.length*uE/n.$+dE}rem`;Bs(t.current,{minWidth:a})}),[e]),{transitionRef:t}}(t),s=me(0);return Ee((()=>{s.current++}),[`${null==t?void 0:t.symbol}_${null==t?void 0:t.chain}`]),c=t,ge.createElement(ff,{ref:i,name:"fade",activeKey:s.current,className:Tr("ZSZY1phv",a),slideClassName:"vCCqOvOq"},ge.createElement("button",{type:"button",className:"XIxoy7tw",onClick:function(e){Io(e),r()}},c&&ge.createElement(Bw,{token:c,withChainIcon:!o,size:"middle",className:"SS8KpgmL"}),ge.createElement("div",{className:"ISsYr_9r"},ge.createElement("span",null,null==c?void 0:c.symbol),ge.createElement("i",{className:Tr("icon-chevron-right","D_7DrGaN"),"aria-hidden":!0}))));var c})),dE=70/n.$,uE=10,mE={binance_smart_chain:"Binance Smart Chain",internet_computer:"Internet Computer",ethereum_classic:"Ethereum Classic",bitcoin_cash:"Bitcoin Cash",binance_dex:"Binance Dex",ton:"TON",bitcoin:"Bitcoin",ethereum:"Ethereum",solana:"Solana",tron:"TRON",stellar:"Stellar",doge:"DOGE",eos:"EOS",avalanche:"Avalanche",cardano:"Cardano",monero:"Monero",dash:"Dash",ripple:"Ripple",cosmos:"Cosmos",litecoin:"Litecoin",zcash:"Zcash",polkadot:"Polkadot",iota:"IOTA"};function pE(e){return e?mE[e]??e:""}const fE={tokenSelectInputWrapper:"oCuiJXQ_",tokenSelectSearchIcon:"zftr1vD0",tokenSelectSearchResetWrapper:"Ss4Pd7B2",tokenSelectSearchReset:"oDrN01CP",tokenSelectSearchResetIcon:"ok_5nHql",tokenSelectInput:"fDjHi6pe",tokenSelectContent:"LodBlyss",tokenGroupContainer:"MbjJDq0G",tokenGroupHeader:"RpUAt2yS",tokenGroupTitle:"WhzSaV_6",tokenGroupAdditionalTitle:"FdHSpaSV",tokenContainer:"eUkSUO8W",tokenContainerDisabled:"tHJSsGRH",tokenLogoContainer:"nsViIoST",logoContainer:"adBlSlrG",tokenLogoSkeleton:"cGf45x9B",tokenLogoSymbol:"PSK73bRe",tokenLogo:"xiUmZwCy",tokenLogoDisabled:"OwvlXRrn",tokenNetworkLogoSkeleton:"MO1xaZfl",nameContainer:"ZPTo397c",tokenPriceContainer:"qGxMTfbW",tokenName:"Wgp2h4bc",tokenAmount:"QWmp5WQP",tokenNetwork:"gBNLwjjP",tokenValue:"S1V0VVx3",tokenNameSkeleton:"GkqdgXVp",tokenValueSkeleton:"AhEbK2G0",tokenNotFound:"zp0dyh68",tokenNotFoundTitle:"R7aa_jfY",tokenNotFoundDesc:"XlzS0_qG",tokenTextDisabled:"lotwVvdo"};var hE=function(e){return e[e.Initial=0]="Initial",e[e.Search=1]="Search",e[e.Loading=2]="Loading",e[e.TokenByAddress=3]="TokenByAddress",e[e.Empty=4]="Empty",e}(hE||{});const gE=[],vE={},wE=fe(je((e=>{var t,n;const{baseCurrency:a,isSensitiveDataHidden:o}=e.settings,{isLoading:r,token:i}=e.settings.importToken??{},{tokenInSlug:s}=e.currentSwap??{},c=null===(t=e.swapPairs)||void 0===t?void 0:t.bySlug,l=function(e){var t;const n=null===(t=ct(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(!n||!e.tokenInfo||!e.swapTokenInfo)return;const a=ut(e)??{},{areTokensWithNoCostHidden:o,isSortByValueEnabled:r}=e.settings;return ia(e.currentAccountId)(n,e.tokenInfo,e.swapTokenInfo,a,r,o)}(e),d=function(e){var t;const n=null===(t=ct(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.swapTokenInfo)return oa(e.currentAccountId)(n,e.swapTokenInfo)}(e);return{baseCurrency:a,isLoading:r,token:i,pairsBySlug:c,tokenInSlug:s,userTokens:l,popularTokens:d,swapTokens:sa(e),isMultichain:Ct(e,e.currentAccountId),availableChains:null===(n=rt(e))||void 0===n?void 0:n.addressByChain,isSensitiveDataHidden:o}}))((function(t){let{token:n,userTokens:a=gE,swapTokens:o=gE,popularTokens:r=gE,header:i,shouldFilter:s,shouldUseSwapTokens:c,baseCurrency:l,tokenInSlug:d,pairsBySlug:u,isActive:m,isLoading:p,shouldHideMyTokens:f,shouldHideNotSupportedTokens:h=!1,isMultichain:g,availableChains:v=vE,selectedChain:w,isSensitiveDataHidden:y,onTokenSelect:b,onBack:E,onClose:k}=t;const{importToken:C,resetImportToken:N,openSettingsWithState:S}=Ke(),A=Ar(),T=ur(l),I=me(),B=me();zi({isActive:m,onBack:E}),ce((()=>{if(m)return zr(),Kr}),[m]),hp(B,!m);const{handleScroll:_}=Qh(),[x,D]=ie(""),[L,O]=ie(!1),[P,M]=ie(hE.Initial),[F,R]=ie([]),U=ue((e=>function(e,t,n,a){return e.length&&n?e.map((e=>{var o;const r=null==a||null===(o=a[n])||void 0===o?void 0:o[e.slug],i=Boolean(t?r:r&&!r.isMultichain);return{...e,canSwap:i}})).sort(((e,t)=>Number(t.canSwap)-Number(e.canSwap))):[]}(e,g,d,u)),[u,d,g]),W=de((()=>bE(a,h,v,w)),[a,h,v,w]),H=de((()=>bE(o,h,v,w)),[o,h,v,w]),$=de((()=>bE(r,h,v,w)),[r,h,v,w]),{userTokensWithFilter:V,popularTokensWithFilter:z,swapTokensWithFilter:K}=de((()=>s?{userTokensWithFilter:U(W),popularTokensWithFilter:U($),swapTokensWithFilter:U(o)}:{userTokensWithFilter:W,popularTokensWithFilter:$,swapTokensWithFilter:o}),[U,$,s,o,W]),q=de((()=>{const t=c?K:H,n=x.toLowerCase(),a=n.trim();if(n.length&&!a.length)return[];const o=t.filter((e=>{let{name:t,symbol:n,keywords:o,isDisabled:r}=e;if(r)return!1;const i=t.toLowerCase().includes(a),s=n.toLowerCase().includes(a),c=null==o?void 0:o.some((e=>e.toLowerCase().includes(a)));return i||s||c}))??[],r=o.reduce(((t,n)=>{const o={tickerExactMatch:0,tickerMatchLength:0,nameMatchLength:0,specialOrder:0},r=n.symbol.toLowerCase(),i=n.name.toLowerCase();return r===a&&(o.tickerExactMatch=1),r.includes(a)&&(o.tickerMatchLength=a.length),i.includes(a)&&(o.nameMatchLength=a.length),n.slug===e.rUK&&(o.specialOrder=2),n.slug!==e.QSz&&n.slug!==e.vsz||(o.specialOrder=1),t[n.slug]=o,t}),{});return o.sort(((e,t)=>{const n=function(e,t){return e.specialOrder!==t.specialOrder?t.specialOrder-e.specialOrder:e.tickerExactMatch!==t.tickerExactMatch?t.tickerExactMatch-e.tickerExactMatch:e.tickerMatchLength!==t.tickerMatchLength?t.tickerMatchLength-e.tickerMatchLength:t.nameMatchLength-e.nameMatchLength}(r[e.slug],r[t.slug]);return 0!==n?n:Number(t.amount-e.amount)}))}),[H,c,x,K]),j=()=>{D("")};Ee((()=>{O(Boolean(x.length));const e=va(x,"ton");let t=hE.Initial;p&&e?t=hE.Loading:n&&e?t=hE.TokenByAddress:x.length&&0!==q.length?t=hE.Search:0===q.length&&(t=hE.Empty),M(t),t!==hE.Initial&&R(q)}),[F.length,p,x,n,q]),ce((()=>{"ton"in v&&va(x,"ton")?(C({address:x,isSwap:!0}),M(hE.Loading)):N()}),[x,v]),le((()=>{m&&I.current&&(I.current.scrollTop=0)}),[m]);const Y=Wo((e=>{var t;null===(t=B.current)||void 0===t||t.blur(),b(e),j(),E()})),G=Wo((()=>{k(),S({state:$n.Assets})}));function Q(e){const t=Boolean(!s||e.canSwap),n=Boolean((g||c)&&!w),a=t?pE(e.chain):A("Unavailable"),o=0===e.price?A("No Price"):sr(e.price,T,void 0,!0);return ge.createElement(yE,{key:e.slug,isAvailable:t,isSensitiveDataHidden:y,withChainIcon:n,descriptionText:a,token:e,tokenPrice:o,onSelect:Y})}function X(e,t,n){return ge.createElement("div",{className:fE.tokenGroupContainer},ge.createElement("div",{className:fE.tokenGroupHeader},ge.createElement("span",{className:fE.tokenGroupTitle},t),n&&ge.createElement("span",{className:fE.tokenGroupAdditionalTitle,onClick:G},A("Settings"))),e.map(Q))}function J(){return ge.createElement("div",{className:Tr(fE.tokenContainer,fE.tokenContainerDisabled)},ge.createElement("div",{className:fE.tokenLogoContainer},ge.createElement("div",{className:fE.logoContainer},ge.createElement("div",{className:fE.tokenLogoSkeleton}),ge.createElement("div",{className:fE.tokenNetworkLogoSkeleton})),ge.createElement("div",{className:fE.nameContainer},ge.createElement("span",{className:fE.tokenNameSkeleton}),ge.createElement("span",{className:fE.tokenValueSkeleton}))),ge.createElement("div",{className:fE.tokenPriceContainer},ge.createElement("span",{className:Tr(fE.tokenNameSkeleton,fE.rotateSkeleton)}),ge.createElement("span",{className:fE.tokenValueSkeleton})))}function Z(e){return e?ge.createElement("div",{className:fE.tokenGroupContainer},Q(e)):ge.createElement(ge.Fragment,null,J(),J(),J(),J(),J())}function ee(t,a,o){switch(o){case hE.Initial:return ge.createElement(ge.Fragment,null,!f&&X(V,A("MY"),!0),X(z,A("POPULAR")));case hE.Loading:return Z();case hE.Search:return ge.createElement("div",{className:fE.tokenGroupContainer},F.map(Q));case hE.TokenByAddress:return Z(n);case hE.Empty:return ge.createElement("div",{className:fE.tokenNotFound},ge.createElement($p,{play:t,tgsUrl:fp.noData,previewUrl:fp.noDataPreview,size:e.lWW,noLoop:!1,nonInteractive:!0}),ge.createElement("span",{className:fE.tokenNotFoundTitle},A("Not Found")),ge.createElement("span",{className:fE.tokenNotFoundDesc},A("Try another keyword or address.")))}}return ge.createElement(ge.Fragment,null,i||ge.createElement(Fh,{title:A("Select Token"),onBackButtonClick:E,onClose:k}),ge.createElement("div",{className:fE.tokenSelectInputWrapper},ge.createElement("i",{className:Tr(fE.tokenSelectSearchIcon,"icon-search"),"aria-hidden":!0}),ge.createElement("input",{ref:B,name:"token-search-modal",className:fE.tokenSelectInput,onChange:e=>D(e.target.value),placeholder:A("Name or Address..."),value:x}),ge.createElement(ff,{name:"fade",activeKey:L?0:1,className:fE.tokenSelectSearchResetWrapper},L&&ge.createElement("button",{type:"button",className:fE.tokenSelectSearchReset,"aria-label":A("Clear"),onClick:j},ge.createElement("i",{className:Tr(fE.tokenSelectSearchResetIcon,"icon-close"),"aria-hidden":!0})))),ge.createElement("div",{ref:I,className:Tr(fE.tokenSelectContent,"custom-scroll"),onScroll:_},ge.createElement(ff,{name:"fade",activeKey:P},ee)))})));function yE(e){let{token:t,isAvailable:n,isSensitiveDataHidden:a,withChainIcon:o,descriptionText:r,tokenPrice:i,onSelect:s}=e;const c=n?()=>s(t):void 0,l=de((()=>pw(4,10,t.slug)),[t.slug]);return ge.createElement("div",{className:Tr(fE.tokenContainer,!n&&fE.tokenContainerDisabled),onClick:c},ge.createElement("div",{className:fE.tokenLogoContainer},ge.createElement(Bw,{token:t,withChainIcon:o,className:Tr(fE.tokenLogo,!n&&fE.tokenLogoDisabled)}),ge.createElement("div",{className:fE.nameContainer},ge.createElement("span",{className:Tr(fE.tokenName,!n&&fE.tokenTextDisabled)},t.name),ge.createElement("span",{className:Tr(fE.tokenNetwork,!n&&fE.tokenTextDisabled)},r))),ge.createElement("div",{className:fE.tokenPriceContainer},ge.createElement(Mw,{isActive:a,cols:l,rows:2,cellSize:8,align:"right",className:Tr(fE.tokenAmount,!n&&fE.tokenTextDisabled)},sr((0,Pt.nI)(t.amount,null==t?void 0:t.decimals),t.symbol)),ge.createElement("span",{className:Tr(fE.tokenValue,!n&&fE.tokenTextDisabled)},i)))}function bE(e,t,n,a){return t||a?e.filter((e=>!(t&&!(e.chain in n)||a&&e.chain!==a))):e}function EE(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.I04,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t=kE(t),n=kE(n),a=kE(a),!t)return"";const i=t.includes("."),[s="0",c]=i?t.split("."):[t],l=r?s.replace(/\d(?=(\d{3})+($|\.))/g,`$&${e.MS3}`):s,d=i?`.${(c||"").substring(0,o)}`:"",u=a?`&thinsp;${a}`:"";return`${n}${l}${d||u?`<span class="${Vp.fractional}">${d}${u}</span>`:""}`}function kE(e){const t=document.createElement("span");return t.textContent=e,t.innerHTML}const CE=function(e,t){const n=me(!1),a=me(document.createElement("div"));return{updateFontScale:Wo((()=>{const o=e.current;(0,Ir.bo)((()=>{if(null==o||!o.offsetParent)return;let{clientWidth:e}=t?o.parentElement:o;if(t){const{paddingLeft:t,paddingRight:n}=getComputedStyle(o);e-=parseFloat(t)+parseFloat(n)}a.current.className=Tr(o.className,"measure-hidden"),a.current.style.width=`${e}px`,a.current.innerHTML="",a.current.append(...o.cloneNode(!0).childNodes),document.body.appendChild(a.current);let r=1;for(;r>.25&&(a.current.style.setProperty("--font-size-scale",r.toString()),!(a.current.scrollWidth<=e));)r-=.05;n.current=r<1,document.body.removeChild(a.current),a.current.className="",o.style.setProperty("--font-size-scale",r.toString())}))})),isFontChangedRef:n}};function NE(e){return e?e.trim().replace(",",".").replace(/[^\d.]/g,"").replace(/^0+(?=([1-9]|0\.))/,"").replace(/^0+$/,"0")??"":""}const SE=fe((function(t){let{id:n,labelText:a,hasError:o,isLoading:r=!1,prefix:i="",suffix:s="",value:c,children:l,className:d,inputClassName:u,labelClassName:m,valueClassName:p,cornerClassName:f,onChange:h,onBlur:g,onFocus:v,onPressEnter:w,onInputClick:y,decimals:b=e.I04,disabled:E=!1,isStatic:k=!1,size:C="large"}=t;const N=me(),S=me(),A=Ar(),[T,I,B]=ju(!1),{updateFontScale:_,isFontChangedRef:x}=CE(N),D=me(""),L=Wo((e=>{const t=N.current,n=EE(e,i,s,b);if(S.current.innerHTML=e?"":EE("0",i,s),n!==t.innerHTML){const e=document.activeElement===t?function(e,t,n){var a;const o=window.getSelection();if(!o||0===o.rangeCount)return;const r=o.getRangeAt(0);r.setStart(e,0);const i=r.toString().match(new RegExp(`(\\d+(?:[.,]\\d{0,${n}})?)`)),s=t+((null==i||null===(a=i[0])||void 0===a?void 0:a.length)||r.toString().length||0);return function(){try{const{node:t,position:n}=function(e,t){const n=NodeFilter.SHOW_TEXT,a=document.createTreeWalker(e,n,(e=>t>e.textContent.length?(t-=e.textContent.length,NodeFilter.FILTER_REJECT):NodeFilter.FILTER_ACCEPT)),o=a.nextNode()??a.currentNode;return{node:o,position:Math.min(t,o.textContent.length)}}(e,s);o.removeAllRanges();const a=new Range;a.setStart(t,n),a.setEnd(t,n),o.addRange(a)}catch(e){}}}(t,i.length,b):void 0;t.innerHTML=n,null==e||e()}(`${i}${e}${s}`.length>5||x.current)&&_()}));le((()=>{const e=NE(c);e&&D.current.startsWith(e)||(L(e),D.current=e)}),[D,c]),le((()=>{L(D.current)}),[i,s,b]);const O=Wo((()=>{E||(I(),null==v||v())})),P=Wo((()=>{E||(B(),null==g||g())})),M=Tr(Vp.input__wrapper,k&&Vp.inputWrapperStatic,o&&Vp.error,T&&Vp.input__wrapper_hasFocus,u),F=Tr(Vp.input,"large"===C&&Vp.large,p,E&&Vp.disabled,r&&Vp.isLoading,"rounded-font"),R=Tr(Vp.label,o&&Vp.error,m),U=Tr(f,T&&Vp.swapCorner,o&&Vp.swapCorner_error);return ge.createElement("div",{className:Tr(Vp.wrapper,d)},Boolean(a)&&ge.createElement("label",{className:R,htmlFor:n,id:`${n}Label`},a),ge.createElement("div",{className:M},ge.createElement("div",{className:Vp.rich},ge.createElement("div",{ref:N,contentEditable:!E&&!r,id:n,role:"textbox","aria-required":!0,"aria-placeholder":A("Amount value"),"aria-labelledby":a?`${n}Label`:void 0,tabIndex:0,inputMode:"decimal",className:Tr(F,Vp.rich__value),onKeyDown:e=>{"Enter"===e.key&&(null==w||w(e))},onChange:function(e){const t=NE(e.currentTarget.textContent??void 0);var n;L(t),t!==D.current&&(D.current=t,h&&(n=t,!Number.isNaN(Number(n)))&&h(t))},onFocus:O,onBlur:P,onClick:y}),ge.createElement("div",{ref:S,className:Tr(F,Vp.rich__placeholder)})),l),f&&ge.createElement("div",{className:U}))}));function AE(e){const t=document.getElementById(e),n=window.getSelection();if(!t||!n)return;const a=document.createRange();a.selectNodeContents(t),a.collapse(!1),n.removeAllRanges(),n.addRange(a)}const TE={modalDialog:"pOo4Z_aH",iosModalDialog:"q6jp1iyp",contentWrapper:"jvZQQwjc",content:"SRNIOpBE",contentTitle:"GKe6CMiw",contentTitleQr:"FleNuH6I",contentTitleLedger:"uEJfLLFI",contentTitleLedgerStatic:"zolk8bhu",tabsInModal:"kxmoYeWl",receiveHeader:"k3MxFquM",receiveHeaderNoTabs:"RJOW3R8W",contentStatic:"CDl3KL71",tabs:"Bq7mtmdH",tabsOverlay:"dsNYuIgk",tronActive:"ikLKZGDP",tab:"YpO46ybD",tabTon:"JKtWSSiZ",tabTron:"U6XprGM_",qrCode:"Bol24ap4",qrCodeStatic:"VkwtgLpL",qrCodeHidden:"yC4eGg0t",labelForInvoice:"ykqIpMy7",addressWrapper:"aUXplGt1",copyButtonStatic:"EbsE8cY6",tokenButton:"vgInBvx7",invoiceComment:"U6Z9qzVb",dottedLink:"xzGjTX1X",actionButtons:"QxrwhhFf",actionButton:"ARg65twE"};var IE=function(e){return e[e.Initial=0]="Initial",e[e.Selector=1]="Selector",e}(IE||{});const BE=fe(je((e=>{var t,n;const a=null===(t=it(e,e.currentAccountId))||void 0===t||null===(t=t.addressByChain)||void 0===t?void 0:t.ton,{invoiceTokenSlug:o}=ct(e)||{};return{isOpen:e.isInvoiceModalOpen,tokenSlug:o,tokensBySlug:null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug,address:a}}))((function(t){let{address:n,tokenSlug:a,tokensBySlug:o,isOpen:r}=t;const{changeInvoiceToken:i,closeInvoiceModal:s}=Ke(),c=Ar(),l=o&&a?o[a]:e.Tu9,[d,u,m]=ju(!1),[p,f]=ie(void 0),[h,g]=ie(""),v=(null==l?void 0:l.decimals)??e.Tu9.decimals,w=p?(0,Pt.UH)(p,v):0n,y="tokenAddress"in l?null==l?void 0:l.tokenAddress:void 0,b=n?cE(n,w,h,y):"",E=Wo((e=>{i({tokenSlug:e.slug})}));function k(t,n,a){switch(a){case IE.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:c("Deposit Link"),onClose:s}),ge.createElement("div",{className:TE.content},ge.createElement("div",{className:TE.contentTitle},tr(c("$receive_invoice_description"))),ge.createElement(SE,{key:"amount",id:"amount",value:p,labelText:c("Amount"),onChange:f},ge.createElement(lE,{noChainIcon:!0,token:l,className:TE.tokenButton,onClick:u})),ge.createElement(zp,{value:h,label:c("Comment"),placeholder:c("Optional"),wrapperClassName:TE.invoiceComment,onInput:g}),ge.createElement("p",{className:TE.labelForInvoice},c("Share this URL to receive %token%",{token:null==l?void 0:l.symbol})),ge.createElement(Iy,{text:b,addressUrl:e.UMQ?b:void 0,noExplorer:!0,withShareInMenu:e.UMQ,copyNotification:c("Invoice link was copied!"),className:TE.invoiceLinkField})));case IE.Selector:return ge.createElement(wE,{isActive:t,shouldHideNotSupportedTokens:!0,selectedChain:"ton",onTokenSelect:E,onBack:m,onClose:s})}}return ge.createElement(Zs,{isOpen:r,dialogClassName:TE.modalDialog,nativeBottomSheetKey:"invoice",onClose:s,onCloseAnimationEnd:m},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:d?IE.Selector:IE.Initial,nextKey:d?IE.Initial:IE.Selector},k))}))),_E=new Map,xE=function(e){let{isActive:t,icon:n,title:a,menuItems:o,className:r,onClick:i,clickArg:s,onMenuItemClick:c,onActiveClick:l}=e;const d=me(),u=me(),[m,p]=ie(),f=Boolean(null==o?void 0:o.length),h=Boolean(m),g=Wo((()=>u.current)),v=Wo((()=>document.body)),w=Wo((()=>d.current)),y=Wo((()=>({withPortal:!0}))),b=Wo((()=>p(void 0))),E=Wo((()=>{if(!t||f)if(t)if(h)b();else{const{right:e,y:t,height:n}=u.current.getBoundingClientRect();p({x:e,y:t+n})}else i(s);else null==l||l()}));return ge.createElement("div",{className:Tr("D6as8ltx",t&&"O4d43EtE",r,f&&"MiCetFPJ"),onClick:E},ge.createElement("span",{className:"vwr4su2y",ref:u},n&&ge.createElement("i",{className:Tr(n,"EDDQtmOa"),"aria-hidden":!0}),a,f&&ge.createElement("i",{className:Tr("icon-caret-down","UgBDhvZa"),"aria-hidden":!0})),f&&ge.createElement(Mh,{isOpen:h,ref:d,items:o,withPortal:!0,buttonClassName:"tUY9MzOP",menuPositionX:"right",menuAnchor:m,getTriggerElement:g,getRootElement:v,getMenuElement:w,getLayout:y,onSelect:c,onClose:b}))},DE=n.pz?450:n.Ni?400:300,LE="clip-path-container",OE=fe((function(e){let{isActive:t,tabs:n,activeTab:a,className:o,overlayClassName:r,onSwitchTab:i,onActiveTabClick:s}=e;const c=Ar(),l=me(),{width:u}=Zu(),m=Tr("Jya4TQTw","no-scrollbar",o);return tb({containerRef:l,shouldPreventDefault:!0}),function(e,t){ce((()=>{if(!t)return;const{scrollWidth:n,offsetWidth:a,scrollLeft:o}=t;if(n<=a)return;const r=t.childNodes[e];if(!r)return;const{offsetLeft:i,offsetWidth:s}=r,c=i-a/2+s/2;Math.abs(c-o)<16||function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const a="rtl"===e.getAttribute("dir"),{scrollLeft:o,offsetWidth:r,scrollWidth:i,dataset:{scrollId:s}}=e;let c=t-o;if(c<0){const e=-o*(a?-1:1);c=Math.max(c,e)}else if(c>0){const e=i-(o+r);c=Math.min(c,e)}if(0===c)return Promise.resolve();s&&_E.has(s)&&_E.get(s)();const l=o+c;new Promise((t=>{(0,k.RK)((()=>{if(0===n)return e.scrollLeft=l,void t();let a=!1;const o=Math.random().toString();e.dataset.scrollId=o,_E.set(o,(()=>{a=!0})),e.style.scrollSnapType="none";const r=Date.now();(0,d.i0)((()=>{if(a)return!1;const i=Math.min((Date.now()-r)/n,1),s=c*(1-function(e){return 1-(1-e)**3.5}(i));return e.scrollLeft=Math.round(l-s),i>=1&&(e.style.scrollSnapType="",delete e.dataset.scrollId,_E.delete(o),t()),i<1}),k.RK)}))}))}(t,c,DE)}),[e,t])}(a,l.current),ce((()=>{var e;const t=null===(e=l.current)||void 0===e?void 0:e.querySelector(`.${LE}`),n=null==t?void 0:t.childNodes[a];if(t&&n){const e=function(e,t){const{paddingTop:n,paddingBottom:a}=getComputedStyle(e),{offsetLeft:o,offsetWidth:r}=e,i=o,s=Number(100-(o+r)/t.offsetWidth*100).toFixed(3),c=Number(i/t.offsetWidth*100).toFixed(3);return`inset(${parseInt(n)}px ${s}% ${parseInt(a)}px ${c}% round 1rem)`}(n,t);(0,k.RK)((()=>{t.style.clipPath=e}))}}),[t,a,n,c,l,u]),ge.createElement("div",{ref:l,className:m},n.map(((e,t)=>ge.createElement(xE,{key:e.title,title:e.title,isActive:t===a,className:null==e?void 0:e.className,menuItems:null==e?void 0:e.menuItems,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onActiveClick:s,onClick:i,clickArg:e.id,icon:e.icon}))),ge.createElement("div",{className:Tr("GMG3Qgat",r,LE),"aria-hidden":!0},n.map(((e,t)=>ge.createElement(xE,{key:e.title,title:e.title,isActive:t===a,className:Tr(null==e?void 0:e.className,t===a&&"current-tab"),menuItems:null==e?void 0:e.menuItems,onActiveClick:s,onMenuItemClick:null==e?void 0:e.onMenuItemClick,onClick:i,clickArg:e.id,icon:e.icon})))))})),PE="eWsAO42f",ME="E2TFEkdV",FE="GUHQ1MCW",RE="wOo6dgfN",UE="Zc6rtbsT",WE="onRwV8fb",HE=fe(je((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,onClose:c}=t;const{startSwap:l,openOnRampWidgetModal:d,openInvoiceModal:u,closeReceiveModal:m}=Ke(),p=Ar(),f=!o&&!r&&!i,h=!o&&!s,g=Wo((()=>{d({chain:"ton"}),null==c||c()})),v=Wo((()=>{l({tokenInSlug:e.Czf,tokenOutSlug:e.Tu9.slug,amountIn:"100"}),null==c||c()})),w=Wo((()=>{m(),u(),null==c||c()})),y=Tr(PE,a&&ME,n);return ge.createElement("div",{className:y},h&&ge.createElement("div",{className:FE,onClick:g},ge.createElement("i",{className:Tr(UE,"icon-card"),"aria-hidden":!0}),p("Buy with Card"),ge.createElement("i",{className:Tr(WE,"icon-chevron-right"),"aria-hidden":!0})),f&&ge.createElement("div",{className:FE,onClick:v},ge.createElement("i",{className:Tr(UE,"icon-crypto"),"aria-hidden":!0}),p("Buy with Crypto"),ge.createElement("i",{className:Tr(WE,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("div",{className:FE,onClick:w},ge.createElement("i",{className:Tr(UE,"icon-link"),"aria-hidden":!0}),p("Create Deposit Link"),ge.createElement("i",{className:Tr(WE,"icon-chevron-right"),"aria-hidden":!0})))})));let $E;function VE(t){let{address:n,chain:a,isActive:o,hiddenClassName:r,hideLogo:s,withFormatTransferUrl:c}=t;const[l,d]=ie(!!$E),u=e.TI6?"./coreWallet/logo.svg":"./logo.svg",m=me();return ce((()=>{l||i.e(283).then(i.t.bind(i,97283,23)).then((e=>{let{default:t}=e;$E=new t({width:600,height:600,image:a?Nw(a):u,margin:0,type:"canvas",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8,crossOrigin:"anonymous"},qrOptions:{errorCorrectionLevel:"M"},data:cE("")}),d(!0)}))}),[a,l,u]),le((()=>{var e;o&&l&&(m.current&&r&&Ts(m.current,r),m.current&&(null===(e=$E)||void 0===e||e.append(m.current),$E._options.image=s?void 0:a?Nw(a):u))}),[o,l,r,s,a,u]),ce((()=>{n&&o&&$E&&l&&$E.update({data:c?cE(n):n})}),[n,o,l,c]),{qrCodeRef:m,isInitialized:l}}const zE=fe((function(e){let{isActive:t,isStatic:n,isLedger:a,address:o,onClose:r}=e;const{verifyHardwareAddress:i}=Ke(),s=Ar(),{qrCodeRef:c,isInitialized:l}=VE({address:o,chain:"ton",isActive:t,hiddenClassName:TE.qrCodeHidden,withFormatTransferUrl:!0}),d=Tr(TE.qrCode,n&&TE.qrCodeStatic,!l&&TE.qrCodeHidden);return ge.createElement("div",null,ge.createElement("div",{className:Tr(TE.contentTitle,TE.contentTitleQr)},tr(s("$receive_ton_description"))),ge.createElement("div",{className:d,ref:c}),ge.createElement(Iy,{chain:"ton",address:o,className:n?TE.copyButtonStatic:TE.addressWrapper,copyNotification:s("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),a&&ge.createElement("div",{className:Tr(TE.contentTitle,TE.contentTitleLedger,n&&TE.contentTitleLedgerStatic)},tr(s("$ledger_verify_address"))," ",ge.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),e.stopPropagation(),i()},className:TE.dottedLink},s("Verify now"))),!n&&ge.createElement(HE,{isLedger:a,onClose:r}))})),KE=fe(je((e=>{const{isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}=e.restrictions;return{isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,countryCode:a}}))((function(t){let{className:n,isStatic:a,isTestnet:o,isLedger:r,isSwapDisabled:i,isOnRampDisabled:s,countryCode:c,onClose:l}=t;const{startSwap:d,openOnRampWidgetModal:u}=Ke(),m=Ar(),p="RU"!==c,f=!o&&!r&&!i,h=!o&&!s&&(p||a),g=Boolean(f||h||a),v=Wo((()=>{u({chain:"tron"}),null==l||l()})),w=Wo((()=>{d({tokenInSlug:e.iX4,tokenOutSlug:e.X7T.slug,amountIn:"10"}),null==l||l()})),y=Tr(PE,a&&ME,n);if(g)return ge.createElement("div",{className:y},h&&ge.createElement("div",{className:Tr(FE,!p&&RE),onClick:p?v:void 0},ge.createElement("i",{className:Tr(UE,"icon-card"),"aria-hidden":!0}),m("Buy with Card"),ge.createElement("i",{className:Tr(WE,"icon-chevron-right"),"aria-hidden":!0})),f&&ge.createElement("div",{className:FE,onClick:w},ge.createElement("i",{className:Tr(UE,"icon-crypto"),"aria-hidden":!0}),m("Buy with Crypto"),ge.createElement("i",{className:Tr(WE,"icon-chevron-right"),"aria-hidden":!0})),a&&ge.createElement("div",{className:Tr(FE,RE)},ge.createElement("i",{className:Tr(UE,"icon-link"),"aria-hidden":!0}),m("Create Deposit Link"),ge.createElement("i",{className:Tr(WE,"icon-chevron-right"),"aria-hidden":!0})))}))),qE=fe((function(e){let{isActive:t,isStatic:n,address:a,onClose:o}=e;const r=Ar(),{qrCodeRef:i,isInitialized:s}=VE({address:a,chain:"tron",isActive:t,hiddenClassName:TE.qrCodeHidden,withFormatTransferUrl:!1}),c=Tr(TE.qrCode,n&&TE.qrCodeStatic,!s&&TE.qrCodeHidden);return ge.createElement("div",null,ge.createElement("div",{className:Tr(TE.contentTitle,TE.contentTitleQr)},tr(r("$receive_tron_description"))),ge.createElement("div",{className:c,ref:i}),ge.createElement(Iy,{chain:"tron",address:a,className:n?TE.copyButtonStatic:TE.addressWrapper,copyNotification:r("Your address was copied!"),noSavedAddress:!0,noDimming:!0}),!n&&ge.createElement(KE,{onClose:o}))})),jE=fe(je((e=>{const t=it(e,e.currentAccountId),{receiveModalChain:n}=ct(e)||{};return{addressByChain:null==t?void 0:t.addressByChain,isLedger:Boolean(null==t?void 0:t.ledger),chain:n}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isOpen:t,addressByChain:n,chain:a,isStatic:o,isLedger:r,onClose:i}=e;const{setReceiveActiveTab:s}=Ke(),c=Ar(),{isPortrait:l}=ui(),d=de((()=>{const e=[];return null!=n&&n.ton&&e.push({id:0,title:"TON",className:Tr(TE.tab,TE.tabTon)}),null!=n&&n.tron&&e.push({id:1,title:"TRON",className:Tr(TE.tab,TE.tabTron)}),e}),[null==n?void 0:n.ton,null==n?void 0:n.tron]),u=de((()=>a?"tron"===a?1:0:d.length?d[0].id:0),[a,d]),m=Wo((e=>{s({chain:1===e?"tron":"ton"})}));function p(e,a,s){switch(s){case 0:return ge.createElement(zE,{isActive:t&&e,isStatic:o,isLedger:r,address:n.ton,onClose:i});case 1:return ge.createElement(qE,{isActive:t&&e,isStatic:o,address:n.tron,onClose:i})}}if(d.length)return ge.createElement(ge.Fragment,null,o&&function(){const e=d.find((e=>e.id===u));return 1===(null==e?void 0:e.id)?ge.createElement(KE,{isStatic:!0}):ge.createElement(HE,{isStatic:!0,isLedger:r})}(),d.length>1&&ge.createElement(OE,{tabs:d,activeTab:u,className:Tr(TE.tabs,!o&&TE.tabsInModal),overlayClassName:Tr(TE.tabsOverlay,1===u&&TE.tronActive),onSwitchTab:m}),ge.createElement(ff,{key:`content_${c.code}`,activeKey:u,name:l?"slide":"slideFade",className:TE.contentWrapper,slideClassName:Tr(TE.content,o&&TE.contentStatic,"custom-scroll"),shouldRestoreHeight:o},p))}))),YE=fe(je((e=>{const{isSwapDisabled:t,isOnRampDisabled:n}=e.restrictions,a=rt(e);return{isOpen:e.isReceiveModalOpen,isTestnet:e.settings.isTestnet,isSwapDisabled:t,isOnRampDisabled:n,isLedger:Boolean(null==a?void 0:a.ledger),isMultichainAccount:Ct(e,e.currentAccountId)}}))((function(e){let{isOpen:t,isTestnet:a,isLedger:o,isSwapDisabled:r,isOnRampDisabled:i,isMultichainAccount:s}=e;const{closeReceiveModal:c}=Ke(),l=Ar(),{isLandscape:d}=ui(),u=l((a||o||r)&&(a||i)?"Add":"Add / Buy");return ce((()=>{t&&d&&c()}),[d,t]),ge.createElement(Zs,{isOpen:t,dialogClassName:n.ZH?TE.iosModalDialog:TE.modalDialog,nativeBottomSheetKey:"receive",onClose:c},ge.createElement(Fh,{title:u,className:Tr(TE.receiveHeader,!s&&TE.receiveHeaderNoTabs),onClose:c}),ge.createElement(jE,{isOpen:t,onClose:c}))}))),GE=fe((function(t){let{isSensitiveDataHidden:n,playAnimation:a,amount:o=0n,tokenSymbol:r=e.Tu9.symbol,decimals:i=e.Tu9.decimals,noSign:s,color:c,firstButtonText:l,secondButtonText:d,onFirstButtonClick:u,onSecondButtonClick:m}=t;const p=(0,Pt.nI)(o,i),[f,h]=cr(p,"",s,i).split("."),g=de((()=>pw(5,13,r)),[r]);return ge.createElement(ge.Fragment,null,ge.createElement($p,{play:a,noLoop:!1,nonInteractive:!0,className:dw.sticker,tgsUrl:fp.thumbUp,previewUrl:fp.thumbUpPreview}),ge.createElement(Mw,{isActive:n,cols:g,rows:3,cellSize:18,align:"center",maskSkin:"green",className:Tr(dw.amount,c&&dw[`amount_${c}`],"rounded-font")},f.trim().replace(" ","").replace("-","−"),h&&ge.createElement("span",{className:dw.amountFraction},".",h.trim()),ge.createElement("span",{className:dw.amountSymbol},r)),function(){if(l||d)return ge.createElement("div",{className:dw.buttons},l&&ge.createElement(Vs,{className:dw.button,onClick:u},l),d&&ge.createElement(Vs,{className:dw.button,onClick:m},d))}())}));function QE(t,n){var a;return t?(null===(a=e.mEK[n])||void 0===a?void 0:a[t])??e.mEK[n].en:""}function XE(t){const{baseCurrency:n,onAmountChange:a}=t,{isBaseCurrency:o,switchCurrency:r,...i}=function(t){let{baseCurrency:n,amount:a,token:o,isAmountReadonly:r,onAmountChange:i,onTokenChange:s}=t;const[c,l]=ie(!1),d=me(),u=me(),m=e.yR2[n].decimals,p=e=>{d.current=e,u.current=JE(e,null==o?void 0:o.price,m)},f=(e,t)=>{if(c&&!r){const n=ZE(u.current,e,t);n!==tk(d.current)&&(d.current=n,i(ek(n,t)))}else u.current=JE(d.current,e,m)};Ee((()=>{const e=(t=a,n=null==o?void 0:o.decimals,void 0===t?void 0:(0,Pt.nI)(t,n));var t,n;e!==tk(d.current)&&p(e)}),[a,null==o?void 0:o.decimals]),Ee((()=>{f(null==o?void 0:o.price,null==o?void 0:o.decimals)}),[null==o?void 0:o.price,null==o?void 0:o.decimals,m]);const h=Wo((e=>{var t;e||=void 0,c?(t=e,d.current=ZE(t,null==o?void 0:o.price,null==o?void 0:o.decimals),u.current=t):p(e),i(ek(d.current,null==o?void 0:o.decimals))})),g=Wo(((e,t)=>{null==s||s(e),t&&f(t.price,t.decimals)}));return{isBaseCurrency:c,isAmountReadonly:r,inputValue:c?u.current:d.current,alternativeValue:c?d.current:u.current,switchCurrency:l,onInputChange:h,onTokenChange:g}}(t),s=Wo((e=>{void 0!==e&&(il(),r(!1),a(e,!0))})),c=Wo((()=>{il(),r(!o)}));return{...i,isBaseCurrency:o,baseCurrency:n,onMaxAmountClick:s,onAlternativeAmountClick:c}}function JE(e,t,n){return e&&void 0!==t?(0,Mt.z)(e).mul(t).round(n).toString():void 0}function ZE(e,t,n){return e&&t?(0,Mt.z)(e).div(t).round(n??It.fI).toString():void 0}function ek(e,t){return e?(0,Pt.UH)(e,t):void 0}function tk(e){if(!e)return;if(!e.includes("."))return e;let t=e.length;for(;"0"===e[t-1];)t--;return"."===e[t-1]&&t--,e.slice(0,t)}function nk(e){let{tokenBySlug:t,states:n,shouldUseNominators:a,selectedStakingId:o,isViewMode:r}=e;const i=de((()=>{if(!t||!n)return[];let e=function(e,t,n){const a=t.some((e=>"nominators"===e.type&&Jd(e))),o=t.some((e=>"liquid"===e.type&&Jd(e)));return n&&!o&&(t=t.filter((e=>"liquid"!==e.type))),n||a||(t=t.filter((e=>"nominators"!==e.type))),t.filter((t=>e[t.tokenSlug])).map((t=>({...e[t.tokenSlug],id:t.id})))}(t,n,a);return r&&(e=e.filter((e=>{let{id:t}=e;return t===o}))),e}),[t,n,a,r,o]);return[de((()=>i.find((e=>e.id===o))),[i,o]),i]}function ak(e,t){const n=me(0);return de((()=>{t||(n.current+=1)}),e),n.current}const ok=fe((function(e){let{maxAmount:t,token:n,isLoading:a,isSensitiveDataHidden:o,isAllMode:r,onAmountClick:i}=e;const s=Ar(),c=a?s("Loading..."):n&&void 0!==t?o?`*** ${n.symbol}`:r?lr(t,n.symbol,n.decimals):sr((0,Pt.nI)(t,n.decimals),n.symbol):"",l=ak([!c,null==n?void 0:n.symbol,a,o]);return ge.createElement(ff,{name:"fade",activeKey:l,shouldCleanup:!0,className:"OEF25dXJ"},c&&ge.createElement("span",{className:"zfocSjTR"},s(r?"$all_balance":"$max_balance",{balance:ge.createElement("div",{role:"button",tabIndex:0,onClick:()=>i(t),className:"KwAXOVQ_"},c)})))})),rk={dropdown:"ZNn8fpqd",dropdown__prefix:"u0_9mbdz",dropdownPrefix:"u0_9mbdz",prefix:"yhhTwepY",purple:"fP_2Gh_l"},ik=[],sk=fe((function(e){let{selectedToken:t,allTokens:n=ik,isMultichainAccount:a,theme:o,isInMode:r,onChange:i}=e;const s=Ar()("$in_currency",{currency:""}),c=de((()=>r&&ge.createElement("span",{className:rk.prefix},s)),[r,s]),l=de((()=>n.map((e=>function(e,t){return{value:ck(e),icon:Tw[e.symbol.toLowerCase()]||e.image,overlayIcon:t?Nw(e.chain):void 0,name:e.symbol}}(e,a)))),[n,a]),d=de((()=>n.reduce(((e,t)=>(e[ck(t)]=t,e)),{})),[n]),u=Wo((e=>{const t=d[e];null==i||i(e,t)}));if(!l.length)return;const m=t&&"string"!=typeof t?ck(t):t;return ge.createElement(pv,{items:l,selectedValue:m,buttonPrefix:c,className:rk.dropdown,menuClassName:o&&rk[o],onChange:u})}));function ck(e){return e.id??e.slug}const lk=fe((function(t){let{isBaseCurrency:n,inputValue:a,alternativeValue:o,baseCurrency:r,maxAmount:i,token:s,allTokens:c,isStatic:d,hasError:u,isMultichainAccount:m,isSensitiveDataHidden:p,isMaxAmountLoading:f,isMaxAmountAllMode:h,renderBottomRight:g,isAmountReadonly:v,labelText:w,onTokenChange:y,onPressEnter:b,onInputChange:E,onMaxAmountClick:k,onAlternativeAmountClick:C}=t;const N=Ar(),S=n?0:1,{inputId:A,onInputFocus:T,onInputBlur:I,onClick:B}=function(e){const t=`${ke()}_${e}`,n=me(!1),a=me(),o=Wo((()=>{var e;null===(e=a.current)||void 0===e||e.call(a),n.current=!0})),r=Wo((()=>{var e;null===(e=a.current)||void 0===e||e.call(a),a.current=(0,l.Gf)(500,(()=>{n.current=!1}))}));return ce((()=>{n.current&&AE(t)}),[e]),{inputId:t,onInputFocus:o,onInputBlur:r,onClick:()=>{n.current&&AE(t)}}}(S),_=Wo((()=>{k(i),B()}));return ge.createElement(ff,{activeKey:S,name:"semiFade",shouldCleanup:!0,className:"u5uvgNoY",slideClassName:"OeHWkJFQ"},ge.createElement(ok,{maxAmount:v?void 0:i,token:s,isLoading:f,isAllMode:h,isSensitiveDataHidden:p,onAmountClick:_}),function(){let t,o;if(n){const{shortSymbol:n}=e.yR2[r];n?t=n:o=r}return ge.createElement(SE,{id:A,hasError:u,value:a,labelText:w??N("Amount"),decimals:n?e.yR2[r].decimals:null==s?void 0:s.decimals,className:"me9Fg5VF",isStatic:d,prefix:t,suffix:o,disabled:v,onChange:E,onPressEnter:b,onFocus:T,onBlur:I},ge.createElement(sk,{selectedToken:s,allTokens:c,isInMode:n,isMultichainAccount:m,onChange:y}))}(),ge.createElement("div",{className:"xPmDv9gI"},function(){const e=n?(null==s?void 0:s.symbol)??"":ur(r);return ge.createElement("button",{type:"button",className:"hx_H7UUP",onClick:()=>{C(),B()}},"≈ ",sr(o??0,e,void 0,!0),ge.createElement("i",{className:Tr("Agk5w0hD","icon-switch"),"aria-hidden":!0}))}(),g("uMCMe6l_")))})),dk=(0,et.A)((e=>0===e?/^(\d+)/:new RegExp(`^(\\d+)([.,])?(\\d{1,${e}})?`))),uk=fe((function(t){let{id:n,labelText:a,value:o,error:r,prefix:i,suffix:s,zeroValue:c,decimals:l=e.I04,className:d,isSensitiveData:u,isSensitiveDataHidden:m,sensitiveDataMaskSkin:p,isStatic:f,inputClassName:h,labelClassName:g,valueClassName:v,children:w}=t;const y=me(),b=me(""),{updateFontScale:E,isFontChangedRef:k}=CE(y,!0),C=Wo((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=y.current,a=dk(l),o=e.match(a);if(null===o||o.length<4||""===o[0])return void(t||""===e?(b.current="",n.innerText=""):C(b.current,!0));const r=(null==o?void 0:o[0])||"";b.current=e,n.innerHTML=EE(e,i,s,l,!0),(r.length>5||k.current)&&E()}));le((()=>{o?C(o):c&&(y.current.textContent=c)}),[i,s,l,C,o,c]);const N=Tr(Vp.input__wrapper,f&&Vp.inputWrapperStatic,h),S=Tr(Vp.rich__value,Vp.input,Vp.large,Vp.disabled,r&&Vp.error,"rounded-font",v),A=Tr(Vp.label,g);return ge.createElement("div",{className:Tr(Vp.wrapper,d)},r&&ge.createElement("label",{className:Tr(Vp.label,Vp.label_error,Vp.error),htmlFor:n},r),a&&ge.createElement("label",{className:A,htmlFor:n,id:`${n}Label`},a),ge.createElement("div",{className:N},u?ge.createElement(Mw,{isActive:m,cols:8,rows:3,cellSize:16,maskSkin:p,className:Tr(Vp.rich,Vp.large),maskClassName:Vp.mask},ge.createElement("div",{ref:y,id:n,className:S})):ge.createElement("div",{className:Vp.rich},ge.createElement("div",{ref:y,id:n,className:S})),w))})),mk={modalDialog:"oJIiPolp",welcome:"TiFPq3C6",welcome_static:"Rv6oYnJ8",welcomeStatic:"Rv6oYnJ8",welcomeInformation:"Xg9cqUJJ",welcomeInformation_static:"o_nJd5KS",welcomeInformationStatic:"o_nJd5KS",stakingApy:"HKeaaGYy",textButton:"fole9hpS",sticker:"bPhlS4F_",sticker_static:"uaQ89610",stickerStatic:"uaQ89610",stakingSafeDialog:"zNAkvVGS",amountBottomRight:"VuUMtt0r",amountBottomRight_error:"XziKGimY",amountBottomRightError:"XziKGimY",amountBottomRight_slide:"D7jfmDqZ",amountBottomRightSlide:"D7jfmDqZ",animating:"idaRXWqT",from:"w5MTAdBs",to:"OH6m_v4W",balanceError:"XV91oi_1",historyTotalValue:"ps_1E9fe",stakingBalance:"ZzjyhAIi",balanceResultWrapper:"vtSKtwOl",balanceResultWrapper__slide:"ri2mpmSG",balanceResultWrapperSlide:"ri2mpmSG",balanceResultInput:"oiRjkkEM",balanceResultLabel:"h10QGypW",balanceStakedLabel:"DlWk_wtQ",balanceStakedResult:"Zvcxz1_r",balanceResult:"ANb8RM_U",stakingInfoModal:"WPEajhsz",stakingInfoModal_withHistory:"RmyjusO4",stakingInfoModalWithHistory:"RmyjusO4",stakingInfo:"jqjfDFur",stakingInfo_modal:"WPEajhsz",stakingInfoNoHistory:"JhvH7wqN",stakingInfoModalContent:"adkWFcPE",history:"vrPulHrK",historyList:"Y0yHbYn0",withBackground:"seOnXIX2",stakingInfoLoading:"FpmrUch0",stakingInfoLoadingAnimation:"HhFmzxoC",stakingInfoClose:"hUegI624",stakingInfoButtons:"p0aoyqxp",stakingInfoButtons_withMargin:"pa9mJcSA",stakingInfoButtonsWithMargin:"pa9mJcSA",stakingInfoButtons_adaptiveWidth:"KhWpHXOV",stakingInfoButtonsAdaptiveWidth:"KhWpHXOV",stakingInfoButton:"ANY2XY_3",checkEligibilityButton:"aM6EzHZ6",insufficientBalance:"rGOjgmuu",unstakeTime:"AQ56tknq",unstakeTime_purple:"LqS98rhM",unstakeTimePurple:"LqS98rhM",unstakeTimeIcon:"tyhEzoP5",history_static:"s2VvvIeZ",historyStatic:"s2VvvIeZ",historyTotal:"saWAKbAc",historyTitle:"Y0cCgJMS",historyList_static:"axMdO17j",historyListStatic:"axMdO17j",transactionBanner:"qrdHJFDS",unstakeInfoTransition:"dyqJuGUL",unstakeInfo:"m1LUZiWL"};function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pk.apply(null,arguments)}var fk=function(e){return e[e.Fee=0]="Fee",e[e.InsufficientBalance=1]="InsufficientBalance",e[e.InsufficientFee=2]="InsufficientFee",e[e.BelowMinimumAmount=3]="BelowMinimumAmount",e[e.ApiError=4]="ApiError",e}(fk||{});const hk=new Set([Wn.StakeInitial,Wn.None]),gk=(0,l.nF)((e=>e()),1500,!0),vk=fe(je((t=>{var n;const a=t.currentAccountId,o=ct(t),r=Ut(t),i=t.tokenInfo.bySlug,{baseCurrency:s=e.wOb,isSensitiveDataHidden:c}=t.settings,{state:l,isLoading:d,error:u}=t.currentStaking,m=a?Ea(t,a):void 0,p=Na(t,t.currentAccountId);return{isViewMode:Tt(t),isLoading:d&&hk.has(l),tokens:r,tokenBySlug:i,apiError:u,stakingState:p,states:m,shouldUseNominators:null==o||null===(n=o.staking)||void 0===n?void 0:n.shouldUseNominators,isSensitiveDataHidden:c,baseCurrency:s}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:a,isStatic:o,isLoading:r,isViewMode:i,apiError:s,tokens:c,tokenBySlug:l,stakingState:d,states:u,shouldUseNominators:m,isSensitiveDataHidden:p,baseCurrency:f}=t;const{submitStakingInitial:h,fetchStakingFee:g,cancelStaking:v,changeCurrentStaking:w}=Ke(),y=Ar(),[b,E,k]=ju(),[C,N]=ie();let S=!1,A=!1,T=!1,I=!1;const{id:B,type:_,tokenSlug:x}=d??{},D=de((()=>{if(!x||!c||!l)return;let e=c.find((e=>{let{slug:t}=e;return t===x}));return!e&&x in l&&(e=na(l[x])),e}),[x,c,l]),{amount:L=0n,symbol:O,decimals:P=e.Tu9.decimals}=D??{};let{annualYield:M=0}=d??{},F=`${M}%`;if("jetton"===(null==d?void 0:d.type)&&C)M=function(e){let{tvl:t,dailyReward:n,decimals:a}=e;if(!t)return 0;const o=(0,Pt.CF)(n,a).div((0,Pt.CF)(t,a)).mul(365).mul(100).toFixed(2);return Number(o)}({tvl:d.tvl+C,dailyReward:d.dailyReward,decimals:P});else if("ethena"===(null==d?void 0:d.type)){const{annualYieldStandard:e,annualYieldVerified:t}=d;F=`${e}%–${t}%`}const R=Xn(null==D?void 0:D.slug),U=de((()=>{if(!c||!D)return;if(R)return D;const e=Zn(D.chain).slug;return c.find((t=>{let{slug:n}=t;return n===e}))}),[c,D,R]),W=(null==U?void 0:U.amount)??0n,H=function(t){switch(t){case"nominators":return e.pLj;case"ethena":return e.WUE;default:return e.UAn}}(_),{gas:$,real:V}=Yd(null==d?void 0:d.type).stake,z=R&&C?C+$:$,K=2n*$,q=R&&L>=K,j=(()=>{let e=L;return R&&e&&(e-=q?K:$),(0,ma._O)(0n,e)})(),Y=Qd();void 0!==C&&(Number.isNaN(C)||C<0?S=!0:C<H?I=!0:!j||C>L?A=!0:(W<$||R&&z>L)&&(T=!0));const[G,Q]=nk({tokenBySlug:l,states:u,shouldUseNominators:m,selectedStakingId:B}),X=Wo((()=>{const e=QE(y.code,"ethenaStaking");ic(e,{title:y("Help Center"),subtitle:qo(e)})}));ce((()=>{C&&gk((()=>{g({amount:C})}))}),[C,g]),Ee((()=>{if(n.bA&&b){let e;switch(null==d?void 0:d.type){case"jetton":e=[`${y("$safe_staking_description_jetton1").replace("%jvault_link%","JVault")}`,`${y("$safe_staking_description_jetton2")}`];break;case"ethena":e=[`1. ${y("$safe_staking_ethena_description1")}`,`2. ${y("$safe_staking_ethena_description2")}`,`3. ${y("$safe_staking_ethena_description3")}`];break;default:e=[`1. ${y("$safe_staking_description1")}`,`2. ${y("$safe_staking_description2")}`,`3. ${y("$safe_staking_description3")}`]}"ethena"===(null==d?void 0:d.type)?zy.confirm({title:y(Y),message:e.join("\n\n").replace(/\*\*/g,""),okButtonTitle:y("Close"),cancelButtonTitle:y("Help Center")}).then((e=>{k(),e.value||X()})):zy.alert({title:y(Y),message:e.join("\n\n").replace(/\*\*/g,"")}).then(k)}}),[b,y,d,Y]);const J=C&&j&&!i&&!S&&!I&&!T&&!A,Z=Wo((e=>{Io(e),J&&(il(),h({amount:C}))})),ee=Wo((()=>{ic(e.lsx)})),[te,ne]=de((()=>A?[y("Insufficient balance"),fk.InsufficientBalance]:T?[y("$insufficient_fee",{fee:sr((0,Pt.nI)($),(null==U?void 0:U.symbol)??"")}),fk.InsufficientFee]:I?[y("$min_value",{value:sr((0,Pt.nI)(H,P),O??"")}),fk.BelowMinimumAmount]:s?[y(s),fk.ApiError]:[void 0,fk.Fee]),[s,P,I,A,T,y,H,null==U?void 0:U.symbol,$,O]),ae=ue((e=>{let t=" ";return t=te?ge.createElement("span",{className:mk.balanceError},te):D?y("$fee_value",{fee:ge.createElement(Fy,{terms:{native:V},precision:"approximate",token:D})}):"",ge.createElement(ff,{className:Tr(mk.amountBottomRight,S&&mk.amountBottomRight_error,e),slideClassName:mk.amountBottomRight_slide,name:"semiFade",activeKey:ne},t)}),[te,ne,S,y,V,D]);const oe=Wo((e=>{v(),w({stakingId:e,shouldReopenModal:!o})})),re=XE({amount:C,token:D,baseCurrency:f,onAmountChange:N,onTokenChange:oe});return ge.createElement("form",{className:o?void 0:Ks.transitionContent,onSubmit:Z},ge.createElement("div",{className:Tr(mk.welcome,o&&mk.welcome_static)},ge.createElement($p,{size:o?e.lWW:e.jzp,play:a,noLoop:!1,nonInteractive:!0,className:Tr(mk.sticker,o&&mk.sticker_static),tgsUrl:fp.wait,previewUrl:fp.waitPreview}),ge.createElement("div",{className:Tr(mk.welcomeInformation,o&&mk.welcomeInformation_static)},ge.createElement("div",null,y("Earn from your tokens while holding them",{symbol:O})),ge.createElement("div",{className:mk.stakingApy},y("Est. %annual_yield%",{annual_yield:F})),"ethena"===_&&ge.createElement(Vs,{isText:!0,className:mk.textButton,onClick:ee},y("Check eligibility")),ge.createElement(Vs,{isText:!0,className:mk.textButton,onClick:E},y(Qd(_))))),ge.createElement(lk,pk({},re,{maxAmount:j,token:G,allTokens:Q,isStatic:o,hasError:S||A,isMaxAmountLoading:!G,isSensitiveDataHidden:p,renderBottomRight:ae,onPressEnter:Z})),function(){const t=(0,Pt.CF)(C??0,P);let n,a,r;if(re.isBaseCurrency){n=t.mul((null==D?void 0:D.price)??0);const{shortSymbol:o}=e.yR2[f];o?a=o:r=f}else n=t;const i=n.mul(M/100+1).toString();return ge.createElement(ff,{activeKey:re.isBaseCurrency?0:1,name:"semiFade",className:mk.balanceResultWrapper,slideClassName:mk.balanceResultWrapper__slide,shouldCleanup:!0},ge.createElement(uk,{labelText:y("Est. balance in a year"),zeroValue:"...",value:i,decimals:e.Vxu,prefix:a,suffix:r,isStatic:o,inputClassName:mk.balanceResultInput,labelClassName:mk.balanceResultLabel,valueClassName:mk.balanceResult}))}(),!i&&ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,isSubmit:!0,isDisabled:!J,isLoading:r},y("$stake_asset",{symbol:null==D?void 0:D.symbol}))),function(){if(!n.bA)return ge.createElement(Zs,{isCompact:!0,isOpen:b,title:y(Y),onClose:k,dialogClassName:mk.stakingSafeDialog},!!d&&function(){switch(d.type){case"jetton":return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Ks.text},tr(y("$safe_staking_description_jetton1",{jvault_link:ge.createElement("a",{href:e.dCY,target:"_blank",rel:"noreferrer"},ge.createElement("b",null,"JVault"))}))),ge.createElement("p",{className:Ks.text},tr(y("$safe_staking_description_jetton2"))));case"ethena":return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Ks.text},tr(y("$safe_staking_ethena_description1"))),ge.createElement("p",{className:Ks.text},tr(y("$safe_staking_ethena_description2"))),ge.createElement("p",{className:Ks.text},tr(y("$safe_staking_ethena_description3"))));default:return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:Ks.text},tr(y("$safe_staking_description1"))),ge.createElement("p",{className:Ks.text},tr(y("$safe_staking_description2"))),ge.createElement("p",{className:Ks.text},tr(y("$safe_staking_description3"))))}}(),ge.createElement("div",{className:Ks.buttons},"ethena"===d.type&&ge.createElement(Vs,{onClick:X},y("Help Center")),ge.createElement(Vs,{onClick:k},y("Close"))))}())}))),wk=new Set([Wn.StakeInitial,Wn.StakePassword,Wn.StakeConnectHardware,Wn.StakeConfirmHardware,Wn.StakeComplete]),yk=fe(je((e=>{const t=e.currentAccountId,n=Ct(e,t),a=Na(e,t),o=e.tokenInfo.bySlug;return{...e.currentStaking,stakingState:a,tokenBySlug:o,isMultichainAccount:n}}))((function(t){let{state:n,stakingState:a,isLoading:o,amount:r,error:i,tokenBySlug:s,isMultichainAccount:c}=t;const{startStaking:l,setStakingScreen:d,cancelStaking:u,clearStakingError:m,submitStakingPassword:p,submitStakingHardware:f,openStakingInfo:h}=Ke(),{tokenSlug:g}=a??{},v=g&&s?s[g]:void 0,w=Ar(),y=wk.has(n),[b,E]=ie(r),{renderingKey:k,nextKey:C,updateNextKey:N}=tv(n,y),S=Wo((()=>{n===Wn.StakePassword&&(m(),d({state:Wn.StakeInitial}))})),A=Wo((()=>{E(r),f()})),T=Wo((e=>{E(r),p({password:e})})),I=Wo((()=>{u(),h()}));function B(t,n,a){switch(a){case Wn.StakeInitial:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:w("$stake_asset",{symbol:null==v?void 0:v.symbol}),onClose:u}),ge.createElement(vk,{isActive:t}));case Wn.StakePassword:return function(t){return ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:w("Confirm Staking"),onClose:u}),ge.createElement(Cf,{isActive:t,isLoading:o,error:i,withCloseButton:e.UMQ,operationType:"staking",placeholder:"Confirm operation with your password",submitLabel:w("Confirm"),cancelLabel:w("Back"),onSubmit:T,onCancel:S,onUpdate:m,skipAuthScreen:!0},function(){if(v&&r)return ge.createElement(Lb,{tokenIn:v,withChainIcon:c,color:"purple",text:sr((0,Pt.nI)(r,v.decimals),v.symbol),className:tl()?void 0:mk.transactionBanner})}()))}(t);case Wn.StakeConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:A,onClose:u});case Wn.StakeConfirmHardware:return ge.createElement(dv,{text:w("Please confirm operation on your Ledger"),error:i,onClose:u,onTryAgain:A});case Wn.StakeComplete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:w("Coins have been staked!"),onClose:u}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement(GE,{color:"purple",playAnimation:e,amount:b,decimals:null==v?void 0:v.decimals,tokenSymbol:null==v?void 0:v.symbol,noSign:!0,firstButtonText:w("View"),secondButtonText:w("Stake More"),onFirstButtonClick:I,onSecondButtonClick:l}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:u,isPrimary:!0},w("Close")))))}(t)}}return ge.createElement(Zs,{isOpen:y,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:mk.modalDialog,nativeBottomSheetKey:"stake",forceFullNative:k===Wn.StakePassword,onClose:u,onCloseAnimationEnd:N},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:k,nextKey:C,onStop:N},B))}))),bk=new Set([Wn.ClaimPassword,Wn.ClaimConfirmHardware,Wn.ClaimConnectHardware,Wn.ClaimComplete]),Ek=fe(je((e=>{const t=e.currentAccountId,{addressByChain:n}=it(e,t)||{},a=pt(e),{state:o,isLoading:r,error:i}=(null==e?void 0:e.currentStaking)||{},s=t?Na(e,t):void 0,c=Ut(e);return{stakingState:"jetton"===(null==s?void 0:s.type)||"ethena"===(null==s?void 0:s.type)?s:void 0,isOpen:bk.has(o),state:o,tokens:c,isLoading:r,error:i,address:null==n?void 0:n.ton,isHardwareAccount:a,isMultichainAccount:Ct(e,t),isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(t){let{stakingState:n,isOpen:a,tokens:o,isLoading:r,address:i,error:s,state:c=Wn.ClaimPassword,isHardwareAccount:l,isMultichainAccount:d,isSensitiveDataHidden:u}=t;const{submitStakingClaim:m,submitStakingClaimHardware:p,cancelStakingClaim:f,clearStakingError:h}=Ke(),{tokenSlug:g}=n??{},v=n&&"unclaimedRewards"in n?n.unclaimedRewards:(null==n?void 0:n.unstakeRequestAmount)??0n,w=Ar(),y=de((()=>null==o?void 0:o.find((e=>{let{slug:t}=e;return t===g}))),[o,g]),b=de((()=>null==o?void 0:o.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[o]),E=(null==b?void 0:b.amount)??0n,{gas:k,real:C}=Yd(null==n?void 0:n.type).claim,N=E>k,{renderingKey:S,nextKey:A,updateNextKey:T}=tv(c,Boolean(a)),I=c===Wn.ClaimComplete||!l&&!tl(),B=I?w(c===Wn.ClaimComplete?"Coins have been unstaked!":"ethena"===(null==n?void 0:n.type)?"Confirm Unstaking":"Confirm Rewards Claim"):void 0,_=Wo((e=>{N&&m({password:e})})),x=Wo((()=>{N&&p()}));function D(t,n,o){switch(o){case Wn.ClaimConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:x,onClose:f});case Wn.ClaimConfirmHardware:return ge.createElement(dv,{text:w("Please confirm transaction on your Ledger"),error:s,onClose:f,onTryAgain:x});case Wn.ClaimPassword:return ge.createElement(Cf,{isActive:Boolean(a),isLoading:r,withCloseButton:!0,operationType:"claim",error:N?s:w("Insufficient Balance for Fee"),submitLabel:w("Confirm"),onSubmit:_,onCancel:f,onUpdate:h,skipAuthScreen:!0},function(){const t=Tr("k75dvmdJ",!tl()&&"F2nQ3VmO"),n=u?`*** ${y.symbol}`:sr((0,Pt.nI)(v,y.decimals),y.symbol,e.Vxu);return ge.createElement(ge.Fragment,null,ge.createElement(Lb,{tokenIn:y,withChainIcon:d,text:n,className:tl()?void 0:"yYT_DSGe",secondText:i&&(0,Yt.W)(i)}),ge.createElement("div",{className:t},y&&tr(w("$fee_value_bold",{fee:ge.createElement(Fy,{terms:{native:N?C:k},precision:N?"approximate":"lessThan",token:y})}))))}());case Wn.ClaimComplete:return ge.createElement("div",{className:Ks.transitionContent},ge.createElement(GE,{isSensitiveDataHidden:u,color:"green",playAnimation:t,amount:v,tokenSymbol:null==y?void 0:y.symbol,decimals:null==y?void 0:y.decimals,noSign:!0}),ge.createElement("div",{className:"zw06OBVe"},w("$unstake_information_instantly")),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:f,isPrimary:!0},w("Close"))))}}return ge.createElement(Zs,{isOpen:a,title:B,hasCloseButton:I,forceFullNative:!0,nativeBottomSheetKey:"staking-claim",contentClassName:"FYtlcmCw",onClose:f},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:S,nextKey:A,onStop:T},D))}))),kk=fe((function(e){let{tonToken:t,timestamp:n,profit:a,isSensitiveDataHidden:o}=e;const r=Ar(),i=de((()=>pw(4,10,n.toString())),[n]);return ge.createElement("div",{className:"nq4YjGn3"},ge.createElement("i",{className:Tr("jLdRlENh","icon-earn"),"aria-hidden":!0}),ge.createElement("div",{className:"nxAiUgO_"},ge.createElement("div",{className:"uDw7ob8E"},r("Earned")),ge.createElement("div",{className:"aJl0mknc"},(0,Oa.N5)(r,n),", ",(0,Oa.fU)(n))),ge.createElement(Mw,{isActive:o,cellSize:8,rows:2,cols:i,align:"right",className:"x2kd8DjZ"},cr(a,t.symbol)))})),Ck=fe(je((t=>{var n;const a=t.currentAccountId,{settings:{theme:o,isSensitiveDataHidden:r},tokenInfo:{bySlug:i}}=t,s=ct(t),c=a?Ea(t,a):void 0,l=a?Na(t,a):void 0,d=a?Sa(t,a):void 0,u=a?function(t,n){var a;const o=lt(t,n);return(Na(t,n).tokenSlug===e.Tu9.slug?null==o||null===(a=o.staking)||void 0===a?void 0:a.totalProfit:void 0)??0n}(t,a):0n;return{stakingState:l,states:c,totalProfit:u,stakingHistory:d,tokens:Ut(t),tokenBySlug:i,theme:o,shouldUseNominators:null==s||null===(n=s.staking)||void 0===n?void 0:n.shouldUseNominators,isSensitiveDataHidden:r,isViewMode:Tt(t)}}))((function(t){let{states:n,stakingState:a,isActive:o,isStatic:r,totalProfit:i,stakingHistory:s,tokens:c,tokenBySlug:l,theme:d,shouldUseNominators:u,isViewMode:m,isSensitiveDataHidden:p,onClose:f}=t;const{startStaking:h,startUnstaking:g,startStakingClaim:v,fetchStakingHistory:w,changeCurrentStaking:y}=Ke(),{id:b,tokenSlug:E,balance:k,annualYield:C=0,unstakeRequestAmount:N,type:S}=a??{},A=Gd(a),T=a?"readyToClaim"===Xd(a):void 0,I=de((()=>E?null==c?void 0:c.find((e=>{let{slug:t}=e;return E===t})):void 0),[E,c]),{decimals:B,symbol:_}=I??{},x=Ar(),D=void 0===k,L=Boolean(null==s?void 0:s.length),{shouldRender:O,ref:P}=Rs({isOpen:D&&o,withShouldRender:!0}),M=de((()=>null==c?void 0:c.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[c]),F=ve(),{height:R}=Zu(),U=Sf(d),{shouldRender:W,ref:H}=Rs({isOpen:!p,withShouldRender:!0}),$="jetton"===(null==a?void 0:a.type)?a.unclaimedRewards:void 0;zh(F,N?3e4:void 0),ce((()=>{o&&w()}),[w,o]);const V=Wo((()=>{null==f||f(),h()})),z=Wo((()=>{null==f||f(),g()})),K=Wo((()=>{null==f||f(),v()}));let q="0",j="0";k&&(q=(0,Pt.CF)(k,B).round(e.Vxu).toString(),j=(0,Pt.CF)(k,B).mul(C/100+1).round(e.Vxu).toString());const Y=Wo((()=>{ic(e.lsx)})),[G,Q]=nk({tokenBySlug:l,states:n,shouldUseNominators:u,selectedStakingId:b,isViewMode:m});function X(){let t;return A&&(t=x("nominators"===S?"$unstaking_when_receive":"$unstaking_when_receive_with_amount",{time:ge.createElement("strong",null,(0,Oa.YG)(x.code,A)),amount:ge.createElement("strong",null,sr((0,Pt.nI)(N??0n,B),_).replace(" "," "))})),ge.createElement("div",{className:Tr(mk.unstakeTime,mk.unstakeTime_purple)},ge.createElement($p,{play:o,size:e.wg4,className:mk.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:fp[U].iconClockPurple,previewUrl:fp[U].preview.iconClockPurple}),ge.createElement("div",null,t))}const J=Tr(mk.stakingInfo,!r&&mk.stakingInfo_modal,!L&&mk.stakingInfoNoHistory,r&&"staking-info"),Z=Wo((e=>{null==f||f(),y({stakingId:e,shouldReopenModal:!r})})),ee=ak([r,b],!r);return ge.createElement(ff,{name:"fade",activeKey:ee,shouldCleanup:!0,className:mk.stakingTransition,slideClassName:r?"staking-info":void 0},ge.createElement(ge.Fragment,null,ge.createElement("div",{className:J},!r&&ge.createElement(Fh,{title:x("Staking"),closeClassName:mk.stakingInfoClose,onClose:f}),ge.createElement(uk,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:x("Currently Staked"),zeroValue:"...",value:q,decimals:B,className:mk.stakingBalance,labelClassName:mk.balanceStakedLabel,valueClassName:mk.balanceStakedResult},ge.createElement("div",{className:mk.stakingInfoLoading},O&&ge.createElement(Qg,{ref:P,className:mk.stakingInfoLoadingAnimation})),ge.createElement(sk,{selectedToken:G,allTokens:Q,theme:"purple",onChange:Z})),N&&N>0n&&"ethena"!==S?X():ge.createElement(ge.Fragment,null,ge.createElement(uk,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:x("Est. balance in a year"),zeroValue:"...",value:j,decimals:B,suffix:_,labelClassName:mk.balanceStakedLabel,valueClassName:mk.balanceResult}),"ethena"===S&&!T&&!!N&&X(),!m&&ge.createElement("div",{className:Tr(mk.stakingInfoButtons,"ethena"===S&&mk.stakingInfoButtonsAdaptiveWidth,!!$&&mk.stakingInfoButtonsWithMargin)},ge.createElement(Vs,{className:mk.stakingInfoButton,isPrimary:!0,isDisabled:D,onClick:V},x("Stake More")),("ethena"!==S||!T)&&ge.createElement(Vs,{className:mk.stakingInfoButton,isDisabled:D,onClick:z},x("ethena"===S?"Request Unstaking":"Unstake")),T&&ge.createElement(Vs,{className:mk.stakingInfoButton,isDisabled:D,onClick:K},x("Unstake %amount%",{amount:p?`*** ${_}`:sr((0,Pt.nI)(N,B),_,2)}))),!m&&"ethena"===S&&ge.createElement(Vs,{isText:!0,className:mk.checkEligibilityButton,onClick:Y},x("Check eligibility for max APY")),!!$&&function(){const e=(0,Pt.nI)($,B);return ge.createElement(ge.Fragment,null,ge.createElement(uk,{isSensitiveData:!0,isSensitiveDataHidden:p,sensitiveDataMaskSkin:"purple",labelText:x("Accumulated Rewards"),zeroValue:"...",value:e,decimals:B,suffix:_,labelClassName:mk.balanceStakedLabel,valueClassName:mk.balanceResult}),!m&&ge.createElement("div",{className:mk.stakingInfoButtons},ge.createElement(Vs,{className:mk.stakingInfoButton,isDisabled:D,onClick:K},x("Claim"))))}())),L&&ge.createElement("div",{className:Tr(mk.history,r&&mk.history_static)},W&&ge.createElement("div",{ref:H,className:mk.historyTotal},x("$total",{value:ge.createElement("span",{className:mk.historyTotalValue},sr((0,Pt.nI)(i),e.Tu9.symbol))})),ge.createElement("div",{className:mk.historyTitle},x("Earning History")),ge.createElement("div",{className:Tr(mk.historyList,r&&mk.historyList_static,r&&"custom-scroll",!r&&R>=640&&"custom-scroll")},null==s?void 0:s.map((e=>ge.createElement(kk,{key:e.timestamp,profit:e.profit,timestamp:e.timestamp,tonToken:M,isSensitiveDataHidden:p})))))))}))),Nk=fe(je((e=>{const t=e.currentAccountId,n=t?Sa(e,t):void 0,a=t?Na(e,t):void 0;return{tokenSlug:null==a?void 0:a.tokenSlug,hasHistory:Boolean(null==n?void 0:n.length)}}))((function(t){let{isOpen:n,tokenSlug:a,hasHistory:o,onClose:r}=t;const{fetchStakingHistory:i}=Ke(),s=a!==e.Tu9.slug;return ce((()=>{n&&i()}),[i,n]),ge.createElement(Zs,{isOpen:n,contentClassName:Tr(mk.stakingInfoModalContent,s&&mk.withBackground),nativeBottomSheetKey:"staking-info",onClose:r,forceFullNative:o},ge.createElement(Ck,{isActive:n,onClose:r}))})));function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sk.apply(null,arguments)}const Ak=new Set([Wn.UnstakeInitial,Wn.UnstakePassword,Wn.UnstakeConnectHardware,Wn.UnstakeConfirmHardware,Wn.UnstakeComplete]),Tk=new Set([Wn.UnstakePassword,Wn.UnstakeConnectHardware,Wn.UnstakeConfirmHardware]),Ik=fe(je((t=>{const n=t.currentAccountId,a=Ut(t),{baseCurrency:o=e.wOb,isSensitiveDataHidden:r}=t.settings,i=Ct(t,n),s=Na(t,n),c="nominators"===(null==s?void 0:s.type);return{...t.currentStaking,tokens:a,baseCurrency:o,isNominators:c,theme:t.settings.theme,isMultichainAccount:i,stakingState:s,isSensitiveDataHidden:r,isViewMode:Tt(t)}}))((function(t){let{state:a,isViewMode:o,isLoading:r,error:i,tokens:s,baseCurrency:c,isNominators:l,isMultichainAccount:d,theme:u,amount:m,stakingState:p,isSensitiveDataHidden:f}=t;const{setStakingScreen:h,cancelStaking:g,clearStakingError:v,submitStakingInitial:w,submitStakingPassword:y,submitStakingHardware:b,fetchStakingHistory:E}=Ke(),{type:k,tokenSlug:C,balance:N}=p??{},S=Ar(),A=Ak.has(a),{gas:T,real:I}=Yd(null==p?void 0:p.type).unstake,B=de((()=>null==s?void 0:s.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[s]),_=B&&B.amount>=T,x="liquid"===(null==p?void 0:p.type)?p.instantAvailable:void 0,D=de((()=>C?null==s?void 0:s.find((e=>{let{slug:t}=e;return t===C})):void 0),[C,s]);let L=!1,O=!1;const P=l,[M,F]=ie(P?N:void 0),[R,U]=ie(void 0),W=Gd(p),H=p?Zd(p,M):void 0,[$,V]=ie(W??Date.now()+e.NFS),z=ve(),K=Sf(u),{renderingKey:q,nextKey:j,updateNextKey:Y}=tv(a,A),G=!_||O||!M;ce((()=>{A&&(E(),F(P?N:void 0))}),[A,E,P,N]),Ee((()=>{W&&V(W)}),[W]),i===Da.KL.InsufficientBalance&&(O=!0);const Q=Wo((()=>{$<Date.now()&&E(),z()}));zh(Q,3e4);const X=Wo((()=>{a===Wn.UnstakePassword&&h({state:Wn.UnstakeInitial})})),J=Wo((()=>{w({isUnstaking:!0,amount:M})})),Z=Wo((e=>{U(m),y({password:e,isUnstaking:!0})})),ee=Wo((()=>{U(m),b({isUnstaking:!0})}));void 0!==M&&(M<0?L=!0:(!N||M>N)&&(L=!0,O=!0));const te=XE({amount:M,token:D,baseCurrency:c,isAmountReadonly:P,onAmountChange:F}),ne=de((()=>D&&[D]),[D]),ae=ue((e=>{const t=O?0:_?x?2:3:1;let n=D?S("$fee_value",{fee:ge.createElement(Fy,{terms:{native:I},precision:"approximate",token:D})}):"";return D&&(O?n=ge.createElement("span",{className:mk.balanceError},S("Insufficient balance")):_?x&&(n=S("$unstake_up_to_information",{value:sr((0,Pt.nI)(x,D.decimals),D.symbol)})):n=ge.createElement("span",{className:mk.balanceError},S("$insufficient_fee",{fee:sr((0,Pt.CF)(T),(null==B?void 0:B.symbol)??"")}))),ge.createElement(ff,{className:Tr(mk.amountBottomRight,e),slideClassName:mk.amountBottomRight_slide,name:"semiFade",activeKey:t},n)}),[x,O,_,S,null==B?void 0:B.symbol,T,I,D]);function oe(){const t="ethena"===k?tr(S("$unstaking_when_receive_ethena")):S("$unstaking_when_receive",{time:ge.createElement("strong",null,(0,Oa.YG)(S.code,$))});return ge.createElement("div",{className:Tr(mk.unstakeTime)},ge.createElement($p,{play:A,size:e.wg4,className:mk.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:fp[K].iconClockGray,previewUrl:fp[K].preview.iconClockGray}),ge.createElement("div",null,t))}function re(t,a,s){switch(s){case Wn.UnstakeInitial:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:S("$unstake_asset",{symbol:null==D?void 0:D.symbol}),onClose:g}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement(lk,Sk({},te,{labelText:S("Amount to unstake"),maxAmount:N,token:D,allTokens:ne,hasError:L,isMaxAmountLoading:void 0===N||!D,isMaxAmountAllMode:!0,isSensitiveDataHidden:f,renderBottomRight:ae})),function(){const e=!O&&M;return ge.createElement(ff,{name:"fade",activeKey:e?H?2:1:0,className:mk.unstakeInfoTransition},e?H?oe():ge.createElement("div",{className:mk.unstakeInfo},S("$unstake_information_instantly")):void 0)}(),!o&&ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,isLoading:r,isDisabled:G,onClick:J},S("Unstake")))));case Wn.UnstakePassword:return function(t){return ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:S("Confirm Unstaking"),onClose:g}),ge.createElement(Cf,{isActive:t,isLoading:r,withCloseButton:e.UMQ,operationType:"unstaking",error:i,placeholder:"Confirm operation with your password",submitLabel:S("Confirm"),cancelLabel:S("Back"),onSubmit:Z,onCancel:X,onUpdate:v,skipAuthScreen:!0},function(){if(D&&M)return ge.createElement(Lb,{tokenIn:D,withChainIcon:d,color:"green",text:sr((0,Pt.nI)(M,D.decimals),D.symbol),className:tl()?void 0:mk.transactionBanner})}()))}(t);case Wn.UnstakeConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:ee,onClose:g});case Wn.UnstakeConfirmHardware:return ge.createElement(dv,{text:S("Please confirm operation on your Ledger"),error:i,onClose:g,onTryAgain:ee});case Wn.UnstakeComplete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:(0,n.v3)()?S("Request is sent!"):S("ethena"===k?"Request for unstaking is sent!":"Coins have been unstaked!"),onClose:g}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement(GE,{color:"ethena"!==k?"green":void 0,playAnimation:e,amount:R,tokenSymbol:null==D?void 0:D.symbol,decimals:null==D?void 0:D.decimals,noSign:!0}),H&&oe(),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:g,isPrimary:!0},S("Close")))))}(t)}}return ge.createElement(Zs,{isOpen:A,hasCloseButton:!0,noBackdropClose:!0,dialogClassName:mk.modalDialog,nativeBottomSheetKey:"unstake",forceFullNative:Tk.has(q),onClose:g,onCloseAnimationEnd:Y},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:q,nextKey:j,onStop:Y},re))}))),Bk=fe(je((e=>({isAppUpdateAvailable:e.isAppUpdateAvailable,newAppVersion:e.latestAppVersion,isAppUpdateRequired:e.isAppUpdateRequired})))((function(t){let{isAppUpdateAvailable:a,newAppVersion:o,isAppUpdateRequired:r}=t;const i=Ar(),{shouldRender:s,ref:c}=Rs({isOpen:e.VL7&&a||r,withShouldRender:!0});if(s)return ge.createElement("button",{ref:c,type:"button",className:"eU8arlH4",onClick:()=>{var t;n.u2?window.location.reload():ic((t=o,e.VL7?t?`${e.V3_}/releases/download/v${encodeURIComponent(t||"")}/${encodeURIComponent(e.C39)}.apk`:"https://github.com/mytonwallet-org/mytonwallet/releases/latest":n.xy?`${e.W1_}android-store`:n.ZH?`${e.W1_}ios`:n.iF?`${e.W1_}${n.pr?"edge-extension":"chrome-extension"}`:e.v5B?`${e.W1_}firefox-extension`:e.W1_),{isExternal:!0})}},ge.createElement("i",{className:Tr("icon icon-download-filled","X9C5VDdJ"),"aria-hidden":!0}),i("Update %app_name%",{app_name:e.C39}))})));function _k(e,t){return e.reduce(((e,n)=>e+n.parts.reduce(((e,n)=>e+(t.includes(n.status)?n.amount:0)),0)),0).toString()}const xk="WYLJUay4",Dk="af6G76Qu",Lk=fe(je((e=>{const t=ct(e),{info:n,unfreezeRequestedIds:a}=(null==t?void 0:t.vesting)||{};return{isOpen:e.isVestingModalOpen,isViewMode:Tt(e),vesting:n,isUnfreezeRequested:Boolean(null==a?void 0:a.length),mycoin:Kt(e),theme:e.settings.theme}}))((function(t){let{isOpen:n,isViewMode:a,isUnfreezeRequested:o,vesting:r,mycoin:i,theme:s}=t;const{fetchStakingHistory:c,closeVestingModal:l,startClaimingVesting:d}=Ke(),u=Ar(),m=ve(),p=de((()=>r?_k(r,["frozen","ready"]):"0"),[r]),f=de((()=>r?_k(r,["ready"]):"0"),[r]),h="0"===f,g=Sf(s);zh(m,o?3e4:void 0),ce((()=>{n&&c()}),[c,n]);const v=Wo((()=>{d()}));if(i)return ge.createElement(Zs,{isOpen:n,contentClassName:"Z3AdvY3j",nativeBottomSheetKey:"vesting-info",forceFullNative:!0,onClose:l},ge.createElement(ge.Fragment,null,ge.createElement("div",{className:"nmSXdbkU"},ge.createElement(Fh,{title:u("Vesting"),className:"UGaC6iSp",closeClassName:"gj76sp0s",onClose:l}),ge.createElement(uk,{labelText:u("Vesting Balance"),zeroValue:"...",value:p||"0",decimals:e.Vxu,suffix:"MY",className:xk,labelClassName:Dk,valueClassName:"W2jkzSKT"}),o?ge.createElement("div",{className:"nOY_rRWD"},ge.createElement($p,{play:n,size:e.wg4,className:"B_mbvdNt",nonInteractive:!0,noLoop:!1,tgsUrl:fp[g].iconClockBlue,previewUrl:fp[g].preview.iconClockBlue}),ge.createElement("div",null,u("You will receive your unfrozen coins in a few minutes."))):ge.createElement(ge.Fragment,null,ge.createElement(uk,{labelText:u("Ready to Unfreeze"),zeroValue:"...",value:f,decimals:e.Vxu,suffix:"MY",className:xk,inputClassName:"laFaO54G",labelClassName:Dk,valueClassName:"Da5SKOto"}),!a&&ge.createElement("div",{className:"TDJhFbKs"},ge.createElement(Vs,{className:"q0MWzlSV",isPrimary:!0,isDisabled:h,onClick:h?void 0:v},u("Unfreeze"))))),ge.createElement("div",{className:"qVDajNe7"},ge.createElement("div",{className:"mwrjA2Wq"},u("Vesting Schedule")),ge.createElement("div",{className:Tr("Gvf3taGj","custom-scroll")},null==r?void 0:r.map((function(e){return ge.createElement("div",{key:e.id,className:"N60lIj1U"},ge.createElement("div",{className:"aLa4cQLd"},ge.createElement("div",{className:"RlCMRY3O"},e.title),ge.createElement("div",{className:"A2xAIJdW"},u("%volume% in %amount% parts",{volume:ge.createElement("b",null,sr(e.initialAmount,i.symbol,i.decimals)),amount:e.parts.length.toString()}))),e.parts.map((e=>{const t="frozen"===e.status?"icon-snow":"missed"===e.status?"icon-missed":"unfrozen"===e.status?"icon-check":"icon-fire",n="frozen"===e.status?"Frozen":"missed"===e.status?"Missed":"unfrozen"===e.status?"Unfrozen":"Ready to Unfreeze",r=!a&&!o&&"ready"===e.status,s="frozen"===e.status?e.time:"ready"===e.status?e.timeEnd:void 0;return ge.createElement("div",{key:e.id,role:r?"button":void 0,className:Tr("tbB7hrjM",e.status,r&&"Fi06J8yl"),onClick:r?v:void 0},ge.createElement("i",{className:Tr("Bc1llfyb",t,e.status),"aria-hidden":!0}),ge.createElement("div",{className:"SkSkSLJA"},u(n),Boolean(s)&&ge.createElement("div",{className:"F8H8tP5h"},u("until %date%",{date:ge.createElement(ge.Fragment,null,ge.createElement("span",{className:"_7RDFG6sc"},(0,Oa.TK)(u.code,s)),","," ",(0,Oa.fU)(s))}))),ge.createElement("div",{className:Tr("oTZtwcWo",e.status)},sr(e.amount,i.symbol,i.decimals)))})))}))))))}))),Ok=fe(je((e=>{const{addressByChain:t}=it(e,e.currentAccountId)||{},n=ct(e),a=pt(e),{isConfirmRequested:o,info:r,isLoading:i,error:s,unfreezeState:c}=(null==n?void 0:n.vesting)||{};return{isOpen:o,vesting:r,tokens:Ut(e),isLoading:i,error:s,address:null==t?void 0:t.ton,state:c,mycoin:Kt(e),isHardwareAccount:a,isMultichainAccount:Ct(e,e.currentAccountId)}}))((function(t){let{isOpen:n,vesting:a,tokens:o,isLoading:r,address:i,error:s,mycoin:c,state:l=Hn.Password,isHardwareAccount:d,isMultichainAccount:u}=t;const{submitClaimingVesting:m,submitClaimingVestingHardware:p,cancelClaimingVesting:f,clearVestingError:h}=Ke(),g=Ar(),{amount:v}=de((()=>null==o?void 0:o.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[o])||{},w=(0,Pt.CF)(e.aEZ),y=!v||v<e.aEZ,{renderingKey:b,nextKey:E,updateNextKey:k}=tv(l,Boolean(n)),C=!d&&!tl(),N=de((()=>a?_k(a,["ready"]):"0"),[a]),S=Wo((e=>{y||m({password:e})})),A=Wo((()=>{y||p()}));if(c)return ge.createElement(Zs,{isOpen:n,title:C?g("Confirm Unfreezing"):void 0,hasCloseButton:C,forceFullNative:!0,nativeBottomSheetKey:"vesting-confirm",contentClassName:"TSf_GkYf",onClose:f},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:b,nextKey:E,onStop:k},T));function T(t,a,o){switch(o){case Hn.ConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:A,onClose:f});case Hn.ConfirmHardware:return ge.createElement(dv,{text:g("Please confirm transaction on your Ledger"),error:s,onClose:f,onTryAgain:A});case Hn.Password:return ge.createElement(Cf,{isActive:Boolean(n),isLoading:r,withCloseButton:!0,operationType:"unfreeze",error:y?g("Insufficient Balance for Fee"):s,submitLabel:g("Confirm"),onSubmit:S,onCancel:f,onUpdate:h},function(){const t=Tr("V5IIeyTC",!tl()&&"ZROURKjf");return ge.createElement(ge.Fragment,null,ge.createElement(Lb,{tokenIn:c,withChainIcon:u,text:sr(N,c.symbol,c.decimals),className:tl()?void 0:"pu3vP7ZP",secondText:i&&(0,Yt.W)(i)}),ge.createElement("div",{className:t},tr(g("$fee_value_bold",{fee:sr(w,e.Tu9.symbol)}))))}())}}}))),Pk=[{name:"Multisend",fontIcon:"menu-multisend",value:"multisend"}];function Mk(t){"multisend"===t&&(il(),ic(e.JDR,{title:Nr("Multisend"),subtitle:qo(e.JDR)}))}const Fk="Ehn5yB9o",Rk="ZXtTwJ2M",Uk="wvOK88A2",Wk="ow57IO0l";function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hk.apply(null,arguments)}const $k=fe((function(e){let{isOpen:t,onClose:n,title:a,...o}=e;const r=Ar();return ge.createElement(Zs,{isOpen:t,onClose:n,isCompact:!0,title:a??r("Blockchain Fee Details"),contentClassName:"ejEBAbV8"},ge.createElement(Vk,Hk({onClose:n},o)))}));function Vk(e){let{onClose:t,fullFee:n,realFee:a,realFeePrecision:o="exact",excessFee:r,excessFeePrecision:i="exact",token:s,extraContent:c}=e;const l=s&&ea(s.slug),d=l&&Yn(l).nativeToken,u=Ar();return ge.createElement(ge.Fragment,null,ge.createElement("div",null,ge.createElement("div",{className:"SpaIcYmy"},ge.createElement("div",{className:Tr(Fk,Rk)},u("Final Fee")),ge.createElement("div",{className:Tr(Fk,Uk)},u("Excess"))),ge.createElement("div",{className:"f8dLAhsP"},ge.createElement("div",{className:Tr(Wk,Rk)},a&&s&&ge.createElement(Fy,{terms:a,precision:o,token:s,shouldPreferIcons:!0})),ge.createElement("div",{className:Tr(Wk,Uk)},void 0!==r&&s&&ge.createElement(Fy,{terms:{native:r},precision:i,token:s,shouldPreferIcons:!0})))),ge.createElement("div",{className:"Tbn84o8Q"},ge.createElement("div",null,tr(u("$fee_details",{full_fee:n&&s&&ge.createElement("b",null,ge.createElement(Fy,{terms:n,precision:"exact",token:s})),excess_symbol:ge.createElement("b",null,null==d?void 0:d.symbol),chain_name:null==l?void 0:l.toUpperCase()}))),c),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,className:Ks.button,onClick:t},u("Got It"))))}const zk={modalDialog:"tGUq61Uw",scrollContent:"m5XAGki9",amountInput:"SZC58ifv",amountInputBuy:"uBBR78Gi",inputLabel:"EeV5B584",amountInputInner:"L752Cv1F",advancedSlippageContainer:"jiH3u0SA",content:"dQUuISOK",inputContainer:"IkAedzyb",advancedSlippageButton:"nnFruaI2",swapButtonWrapper:"eEwTqlEP",swapButtonWrapperStatic:"z1UgQ2yi",swapButton:"hrHymNJu",footerBlock:"yPmfwG9j",footerBlockStatic:"Edk19FlP",dot:"ru4rAllW",advancedBlock:"dx6Hf2xp",advancedRow:"QPeOMoOM",advancedDescription:"YzXjxATB",advancedTooltip:"QdMU2Tgb",advancedTooltipContainer:"VGq4FFXS",advancedValue:"JTLP1WRv",advancedSlippageError:"NW_aag3U",advancedSlippage:"K4rGLITC",advancedInput:"uWjxL_tL",advancedInputValue:"Y_KEhiFS",isEmpty:"lP4fP0kG",advancedError:"X2kTDRkO",advancedLink:"NlT_I8kT",advancedLinkIcon:"A0XDmIY2",advancedPlaceholder:"vvtzW7L0",footerButtonWrapper:"_5_NPQXE0",footerButton:"qzfAPYMD",footerButtonInner:"Ns4lxltP",swapArrowIcon:"Vzdj7mTH",changellyInfo:"gCMqbJwS",priceImpact:"nwwHhwFa",feeLine:"vz3aF88G",priceImpactSticker:"YaZn9OUh",priceImpactContent:"UUOZvXZT",priceImpactTitle:"sbyrAyQC",priceImpactArrow:"cEk2aQ7Z",priceImpactDescription:"olGNOU3k",swapCornerTop:"csDd7Ni1",swapCornerBottom:"xyxUxtsY",swapCornerStaticTop:"B7ECmlJ1",swapCornerStaticBottom:"WuHn_HeC",selectBlockchainBlock:"prVCHnG1",inputAddressWrapper:"DTAq0std",inputAddress:"b7EwDSEo",blockchainHintWrapper:"ywkeppF2",changellyDescription:"V7p8St7r",blockchainHintText:"CBP3_LjF",blockchainHintTextError:"t2EtyAQD",inputButton:"IpN3STYq",inputButtonShifted:"xDE5m07O",changellyInfoStatic:"EvrCvWOD",priceImpactStatic:"eoiWwJ0m",changellyInfoTitle:"fwJQ9lpO",changellyInfoDescription:"Y38OidS3",changellyIcon:"ieB34P8k",changellyInfoBlock:"aQOSkXKG",blockchainButtons:"pQ9YM0ta",changellyTextField:"cTKYWTLL",textFieldWrapperFullWidth:"VR4c3lOH",changellyImportantRed:"M_DwJtlB",arrowContainer:"abK4XtWe",arrowContainerInverted:"OSP7z62u",arrow:"ZktBDvds",arrowNew:"Z8CqJe5c",arrowOld:"G_2MIwOh",animateDisappear:"PpIbnc8v","arrow-disappear":"VKHzIRP6",arrowDisappear:"VKHzIRP6",animateAppear:"STVPF9rF","arrow-appear":"igBksUDT",arrowAppear:"igBksUDT",transactionBanner:"T1jLnRBM",changellyDescriptionBold:"Vbj5MEAN",qrCode:"MuLyFrfU",qrCodeHidden:"Fn7oQpnQ",textFieldLabel:"ak6Vmppj"},Kk=250+e.xB5,qk=fe((function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,swapType:r,isEstimating:i,isSending:s,isNotEnoughNative:c,nativeToken:l,dieselStatus:d,isPriceImpactError:u,canSubmit:m,errorType:p,limits:f}=e;const h=Ar(),g=void 0!==p,v=s&&r===Fn.CrosschainToWallet,w=!m||v,y=i||v,b={[Mn.UnexpectedError]:h("Unexpected Error"),[Mn.InvalidPair]:h("Invalid Pair"),[Mn.NotEnoughLiquidity]:h("Insufficient liquidity"),[Mn.ChangellyMinSwap]:h("Minimum amount",{value:lr((null==f?void 0:f.fromMin)??"0",(null==t?void 0:t.symbol)??"",null==t?void 0:t.decimals)}),[Mn.ChangellyMaxSwap]:h("Maximum amount",{value:lr((null==f?void 0:f.fromMax)??"0",(null==t?void 0:t.symbol)??"",null==t?void 0:t.decimals)}),[Mn.NotEnoughForFee]:h("Not Enough %symbol%",{symbol:null==t?void 0:t.symbol}),[Mn.TooSmallAmount]:h("$swap_too_small_amount")},E=Boolean(a||o);let k="$swap_from_to";E&&(g?k=b[p]:l&&(c&&"ton"===(null==t?void 0:t.chain)&&null!=t&&t.tokenAddress?"not-available"===d?k=h("Not Enough %symbol%",{symbol:"TON"}):"pending-previous"===d?k=h("Awaiting Previous Fee"):"not-authorized"===d&&(k=h("Authorize %token% Fee",{token:null==t?void 0:t.symbol})):c&&(k=h("Not Enough %symbol%",{symbol:null==l?void 0:l.symbol}))));const C=Array.isArray(k)?k.join(""):k,N=E&&!i&&(u||g||l&&c&&(!d||"not-available"===d||"pending-previous"===d)),S=me(0),A=function(e,t){const n=function(e,t,n){return Xu((t=>{t(e())}),t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}((()=>e()),[e],t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return Os(n,[n,e],!0)}(Os((()=>{const e="$swap_from_to"===C?h("$swap_from_to",{from:null==t?void 0:t.symbol,icon:ge.createElement("i",{className:Tr("icon-chevron-right",zk.swapArrowIcon),"aria-hidden":!0}),to:null==n?void 0:n.symbol}):C;return ge.createElement(ff,{name:"semiFade",className:zk.footerButtonWrapper,activeKey:S.current++},ge.createElement(Vs,{isPrimary:!0,isSubmit:!0,className:zk.footerButton,isDisabled:w,isLoading:y,isDestructive:N},ge.createElement("span",{className:zk.footerButtonInner},e)))}),[N,w,y,h,C,null==t?void 0:t.symbol,null==n?void 0:n.symbol]),Kk);return Ps(A)})),jk="mdHmid9q",Yk="y7MeqLtP",Gk="VF77TUMq",Qk="sRFnXBUF",Xk="e9qAwzfb",Jk=i.p+"dedust.76618cc56dfd6341f305.png",Zk=i.p+"stonfi.bf33a92c06cc67840d20.png",eC=/^\d{5,}([.,]|$)/,tC=fe(je((e=>({currentSwap:e.currentSwap})))((function(t){let{tokenIn:n,tokenOut:a,isStatic:o,currentSwap:{amountOut:r,amountIn:i,estimates:s,currentDexLabel:c,bestRateDexLabel:l,inputSource:d,ourFeePercent:u=e.YDh}}=t;const{setSwapDex:m}=Ke(),p=Ar(),[f,h,g]=ju(!1),[v,w]=ie(c),y=Sh(null!=s&&s.length?s:void 0,!0),b=Sh(c,!0),E=Sh(l,!0),k=Boolean(l&&l===v),C=k?p("Use Best Rate"):p("Switch to %dex_name%",{dex_name:v?e.S7e[v]:""}),{shouldRender:N,ref:S}=Rs({isOpen:!!(null!=s&&s.length&&a&&r&&i),withShouldRender:!0}),A=Wo((()=>{v&&m({dexLabel:v}),g()})),{shouldRender:T,value:I}=de((()=>function(e){let{ourFeePercent:t,decimals:n,bestRateDexLabel:a,estimates:o,inputSource:r}=e;if(!o||o.length<2)return{shouldRender:!1,value:"0"};const i=o.find((e=>{let{dexLabel:t}=e;return t===a})),s=o.find((e=>{let{dexLabel:t}=e;return t!==a}));if(!s||!i)return{shouldRender:!1,value:"0"};const c=r===Pn.In,l=c?"toAmount":"fromAmount",d=Number(i[l])/100*t,u=((0,Pt.UH)(i[l],n)-(0,Pt.UH)(s[l],n))*(c?1n:-1n);return{shouldRender:u-(0,Pt.UH)(d,n)>0n,value:(0,Pt.nI)(u,n)}}({ourFeePercent:u,decimals:d===Pn.In?null==a?void 0:a.decimals:null==n?void 0:n.decimals,estimates:s,inputSource:d,bestRateDexLabel:E})),[E,s,d,u,null==n?void 0:n.decimals,null==a?void 0:a.decimals]),B=de((()=>{if(null!=y&&y.length&&!(y.length<2))return y.reduce(((t,o)=>{const{fromAmount:r,toAmount:i,dexLabel:s}=o,c=d===Pn.In?i:r,l=d===Pn.In?a:n;if(eC.test(c)){const n=function(t,n){const a=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Tu9.decimals;const a=dk(n);return t.match(a)||void 0}(t,e.Vxu);if(!a)return;const[,o,r,i]=a,s=i||r?`.${(i||"").substring(0,e.Vxu)}`:"",c=o.replace(/\d(?=(\d{3})+($))/g,`$&${e.MS3}`);return ge.createElement(ge.Fragment,null,c,ge.createElement("span",{className:"jQ6cgMjD"},s," ",n.symbol))}(c,l);n&&(t[s]=n)}else t[s]=sr(c,l.symbol);return t}),{})}),[d,y,n,a]);if(!N||null==y||!y.length)return;const _=ge.createElement(ge.Fragment,null,E===b&&y.length>1&&ge.createElement("span",{className:"Er8PXP6e"},ge.createElement("span",{className:"IIv2eCYK"},p("Best Rate"))),p("via %dex_name%",{dex_name:ge.createElement("strong",null,e.S7e[b])}),y.length>1&&ge.createElement("i",{className:Tr("icon-chevron-right","jDHaQfBV"),"aria-hidden":!0}));return 1===y.length?ge.createElement("div",{ref:S,className:jk},ge.createElement("div",{className:Yk},ge.createElement("span",{className:Tr("M5luQatq",o&&Gk)},_))):ge.createElement("div",{ref:S,className:jk},ge.createElement("div",{className:Yk},ge.createElement("button",{type:"button",className:Tr("bmtS8v9y",o&&Gk),onClick:function(){f?g():(w(c),h())}},_),ge.createElement(Zs,{isOpen:f,isCompact:!0,title:p("Built-in DEX Aggregator"),onClose:g},ge.createElement("div",{className:"NlzL4Voz"},y.map((t=>function(t){const o=ww(t.fromAmount,t.toAmount,n,a);return ge.createElement("div",{key:t.dexLabel,tabIndex:0,role:"button",className:Tr("lL1VFeQA",E===t.dexLabel&&"AC6eCyuu",v===t.dexLabel&&"_F70O58C"),onClick:()=>{w(t.dexLabel)}},ge.createElement("div",{className:"YT_HY2ps"},ge.createElement("img",{src:"dedust"===t.dexLabel?Jk:Zk,alt:e.S7e[t.dexLabel],className:"V0Td82aA"}),e.S7e[t.dexLabel]),ge.createElement("div",{className:"J5iGiLKz"},null==B?void 0:B[t.dexLabel]),ge.createElement("div",{className:"JAHr4SCc"},o?ge.createElement(ge.Fragment,null,o.firstCurrencySymbol," ≈ ",o.price," ",o.secondCurrencySymbol):void 0),t.dexLabel===E&&ge.createElement("span",{className:"gq26TBf_"},p("Best")))}(t)))),ge.createElement("p",{className:Tr(Qk,!k&&Xk)},tr(p("$swap_dex_chooser_rate_title"))),T&&(d===Pn.Out?ge.createElement("p",{className:Tr(Qk,!k&&Xk)},tr(p("You will spend %amount% **less**.",{amount:ge.createElement("strong",null,sr(I,n.symbol))}))):ge.createElement("p",{className:Tr(Qk,!k&&Xk)},tr(p("You will receive %amount% **more**.",{amount:ge.createElement("strong",null,sr(I,a.symbol))})))),ge.createElement("div",{className:Tr(Ks.buttons,"IfkI_jwY")},ge.createElement(ff,{activeKey:k?0:1,name:"semiFade",slideClassName:"i8eq5QM3"},ge.createElement(Vs,{isPrimary:!0,className:Tr(Ks.buttonFullWidth,k&&"MevYjouy"),onClick:A},C))))))})));function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nC.apply(null,arguments)}const aC=[.5,1,2,5,10],oC=fe(je((e=>{var t;const{tokenInSlug:n,amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,slippage:s,priceImpact:c,amountOutMin:l,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p}=e.currentSwap,f=n?null===(t=Gn(ea(n)))||void 0===t?void 0:t.nativeToken:void 0,h=f?Wt(e,f.slug):void 0;return{amountIn:a,amountOut:o,networkFee:r,realNetworkFee:i,swapType:da(e),tokenIn:ca(e),tokenOut:la(e),slippage:s,priceImpact:c,amountOutMin:l,ourFee:d,ourFeePercent:u,dieselStatus:m,dieselFee:p,nativeTokenInBalance:h}}))((function(t){let{onClose:n,amountIn:a,amountOut:o,swapType:r,tokenIn:i,tokenOut:s,slippage:c,priceImpact:l,networkFee:d,realNetworkFee:u,amountOutMin:m,ourFee:p,ourFeePercent:f=e.YDh,dieselStatus:h,dieselFee:g,nativeTokenInBalance:v,showFullNetworkFee:w,onNetworkFeeClick:y}=t;const{setSlippage:b}=Ke(),E=Ar(),k=r===Fn.OnChain,[C,N]=ie(c),S=(l??0)>=5,A=void 0===C?"Slippage not specified":C>50?"Slippage too high":"",T=Wo((()=>{b({slippage:C}),n()})),I=Wo((e=>{const t=e?Number(e):void 0;N(t)})),B=de((()=>su({swapType:r,tokenInSlug:null==i?void 0:i.slug,networkFee:d,realNetworkFee:u,ourFee:p,dieselStatus:h,dieselFee:g,nativeTokenInBalance:v})),[r,i,d,u,p,h,g,v]);return ge.createElement(ge.Fragment,null,k&&ge.createElement("div",{className:zk.advancedInput},function(){const e=aC.map(((e,t)=>ge.createElement("div",{key:e,className:zk.advancedSlippageButton},ge.createElement("div",{role:"button",tabIndex:0,onClick:()=>N(e),className:zk.balanceLink},e,"%"),t+1!==aC.length&&ge.createElement("i",{className:zk.dot,"aria-hidden":!0}))));return ge.createElement("div",{className:zk.advancedSlippageContainer},ge.createElement("span",{className:zk.advancedSlippage},e))}(),ge.createElement(SE,{labelText:ge.createElement(ge.Fragment,null,E("Slippage"),ge.createElement(sC,{isError:Boolean(A)},ge.createElement("span",null,E("$swap_slippage_tooltip1")),ge.createElement("span",null,E("$swap_slippage_tooltip2")))),labelClassName:zk.slippageLabel,value:null==C?void 0:C.toString(),hasError:Boolean(A),decimals:2,suffix:"%",size:"normal",onChange:I}),ge.createElement("div",{className:zk.advancedSlippageError},ge.createElement("span",null,E(A)))),ge.createElement("div",{className:zk.advancedBlock},function(){const e=ww(a,o,i,s,!0);return ge.createElement("div",{className:zk.advancedRow},ge.createElement("span",{className:zk.advancedDescription},E("Exchange Rate")),ge.createElement("span",{className:zk.advancedValue},e?`${e.firstCurrencySymbol} ≈ ${e.price} ${e.secondCurrencySymbol}`:ge.createElement(iC,null)))}(),function(){const e=w?B.fullFee:B.realFee;let t=e&&i&&ge.createElement(Fy,{terms:e.networkTerms,precision:e.precision,token:i});return t&&y&&(t=ge.createElement("span",{role:"button",tabIndex:0,className:zk.advancedLink,onClick:()=>y()},ge.createElement("span",null,t),ge.createElement("i",{className:Tr("icon-chevron-right",zk.advancedLinkIcon),"aria-hidden":!0}))),ge.createElement("div",{className:zk.advancedRow},ge.createElement("span",{className:zk.advancedDescription},E("Blockchain Fee")),ge.createElement("span",{className:zk.advancedValue},t||ge.createElement(iC,null)))}(),B.shouldShowOurFee&&ge.createElement("div",{className:zk.advancedRow},ge.createElement("span",{className:zk.advancedDescription},E("Aggregator Fee"),ge.createElement(sC,null,ge.createElement("span",null,tr(E("$swap_aggregator_fee_tooltip",{percent:`${f}%`}))))),ge.createElement("span",{className:zk.advancedValue},void 0!==p?sr(p,(null==i?void 0:i.symbol)??"",void 0,!0):ge.createElement(iC,null))),r===Fn.OnChain&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:zk.advancedRow},ge.createElement("span",{className:Tr(zk.advancedDescription,S&&zk.advancedError)},E("Price Impact"),ge.createElement(sC,{isError:Boolean(S)},ge.createElement("span",null,E("$swap_price_impact_tooltip1")),ge.createElement("span",null,E("$swap_price_impact_tooltip2")))),ge.createElement("span",{className:Tr(zk.advancedValue,S&&zk.advancedError)},void 0!==l?`${l}%`:ge.createElement(iC,null))),ge.createElement("div",{className:zk.advancedRow},ge.createElement("span",{className:zk.advancedDescription},E("Minimum Received"),ge.createElement(sC,null,ge.createElement("span",null,E("$swap_minimum_received_tooltip1")),ge.createElement("span",null,E("$swap_minimum_received_tooltip2")))),ge.createElement("span",{className:zk.advancedValue},void 0!==m&&s?sr(m,s.symbol):ge.createElement(iC,null))))),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{className:Ks.button,onClick:n},E("Close")),k&&ge.createElement(Vs,{isPrimary:!0,isDisabled:Boolean(A),className:Ks.button,onClick:T},E("Save"))))})));function rC(e){let{isOpen:t,onClose:n,...a}=e;const o=Ar();return ge.createElement(Zs,{isOpen:t,onClose:n,isCompact:!0,title:o("Swap Details")},ge.createElement(oC,nC({onClose:n},a)))}function iC(){const e=Ar();return ge.createElement("span",{className:zk.advancedPlaceholder},e("No Data"))}function sC(e){let{children:t,isError:n}=e;return ge.createElement(ge.Fragment,null," ",ge.createElement(Iv,{message:t,size:"small",iconClassName:Tr(zk.advancedTooltip,n&&zk.advancedError),tooltipClassName:zk.advancedTooltipContainer}))}const cC=fe(je((e=>{var t;const n=rt(e);return{currentSwap:e.currentSwap,tokens:sa(e),addressByChain:null==n?void 0:n.addressByChain,isMultichainAccount:Ct(e,e.currentAccountId),swapType:da(e),isSensitiveDataHidden:e.settings.isSensitiveDataHidden,pairsBySlug:null===(t=e.swapPairs)||void 0===t?void 0:t.bySlug}}),((e,t,n)=>n(e.currentAccountId)))((function(t){var n,a,o,r,i,s;let{currentSwap:{tokenInSlug:c,tokenOutSlug:l,amountIn:d,amountOut:u,errorType:m,isEstimating:p,networkFee:f,realNetworkFee:h,priceImpact:g=0,inputSource:v,limits:w,isLoading:y,dieselStatus:b,ourFee:E,ourFeePercent:k,dieselFee:C},addressByChain:N,tokens:S,isActive:A,isStatic:T,isMultichainAccount:I,swapType:B,isSensitiveDataHidden:_,pairsBySlug:x}=t;const{setDefaultSwapParams:D,setSwapAmountIn:L,setSwapAmountOut:O,switchSwapTokens:P,estimateSwap:M,setSwapScreen:F,setSwapCexAddress:R,authorizeDiesel:U,showNotification:W}=Ke(),H=Ar(),$=me(),V=me(),z=c??e.Tu9.slug,K=l??e.rKC,q=de((()=>null==S?void 0:S.find((e=>e.slug===z))),[z,S]),j=de((()=>null==S?void 0:S.find((e=>e.slug===K))),[K,S]),Y=I||"ton"===(null==q?void 0:q.chain)?null===(n=Gn(null==q?void 0:q.chain))||void 0===n?void 0:n.nativeToken.slug:void 0,G=de((()=>null==S?void 0:S.find((e=>e.slug===Y))),[Y,S]),Q=(null==G?void 0:G.amount)??0n,X=d&&q?(0,Pt.UH)(d,q.decimals):void 0,J=u&&j?(0,Pt.UH)(u,j.decimals):void 0,Z=(null==q?void 0:q.amount)??0n,ee=de((()=>su({swapType:B,tokenInSlug:c,networkFee:f,realNetworkFee:h,ourFee:E,dieselStatus:b,dieselFee:C,nativeTokenInBalance:Q})),[B,c,f,h,E,b,C,Q]),te=cu({swapType:B,tokenInBalance:Z,tokenIn:q,fullNetworkFee:null===(a=ee.fullFee)||void 0===a?void 0:a.networkTerms,ourFeePercent:k}),ne=function(e){var t;const{swapType:n,amountIn:a,tokenInBalance:o,nativeTokenInBalance:r,tokenIn:i,fullNetworkFee:s}=e;if(n===Fn.CrosschainToWallet)return!0;if(void 0===a||!i||void 0===o||void 0===r||!s)return;const c=null===(t=Gn(ea(i.slug)))||void 0===t?void 0:t.nativeToken;if(!c)return;const l=cu(e);if(void 0===l)return;const d=(0,Pt.UH)(a,i.decimals),u=(0,Pt.UH)(s.native??"0",c.decimals);return d<=l&&u<=r}({swapType:B,tokenInBalance:Z,tokenIn:q,fullNetworkFee:null===(o=ee.fullFee)||void 0===o?void 0:o.networkTerms,ourFeePercent:k,amountIn:d,nativeTokenInBalance:Q}),ae=void 0!==f&&G?(0,Pt.UH)(f,G.decimals):0n,oe=Q>=ae,re=ee.isGasless&&"not-authorized"===b,se=re||(X??0n)>0n&&(J??0n)>0n&&ne&&(!ee.isGasless||"available"===b||"stars-fee"===b)&&!p&&void 0===m,le=void 0!==X&&void 0!==te&&X>te,ue=(X??0n)<=0n&&v===Pn.In?"":null==u?void 0:u.toString(),pe=!1===ne&&!(void 0!==Z&&void 0!==X&&X>Z)&&"not-authorized"!==b&&"pending-previous"!==b,fe=g>=5,he=B===Fn.CrosschainFromWallet||B===Fn.CrosschainToWallet,[ve,we]=function(e,t,n,a,o,r){var i;const s=e||(null==t||null===(i=t[n])||void 0===i||null===(i=i[a])||void 0===i?void 0:i.isReverseProhibited);return[s,de((()=>s?()=>{il(),o({message:r("$swap_reverse_prohibited")})}:void 0),[s,r,o])]}(he,x,z,K,W,H),ye=Wo((()=>{(A&&!Sl()||p)&&M()})),be=Ju(L,[L],500,!0),Ee=Ju(O,[O],500,!0),[ke,Ce,Ne,Se]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o]=ie();return[a,Wo((()=>o("settings"))),de((()=>n?()=>o("feeDetails"):void 0),[n]),Wo((()=>o(void 0)))]}(ee);ce((()=>{c||l||D()}),[c,l]),ce((()=>{p&&ye();const e=setInterval(ye,1e3);return()=>clearInterval(e)}),[p]);const Ae=Wo((e=>{be({amount:e||void 0})})),Te=Wo((()=>{F({state:On.SelectTokenFrom})})),Ie=Wo((()=>{F({state:On.SelectTokenTo})})),Be=Wo((e=>{Ee({amount:e||void 0})})),_e=Wo((()=>{if(void 0===te)return;il();const e=(0,Pt.nI)(te,q.decimals);L({amount:e,isMaxAmount:!0})})),xe=Wo((e=>{if(Io(e),se)if(re)U();else{if(il(),he)return R({toAddress:""}),void(B===Fn.CrosschainToWallet?F({state:On.Password}):I&&N[q.chain]&&N[j.chain]?(R({toAddress:N[j.chain]}),F({state:On.Password})):F({state:On.Blockchain}));F({state:On.Password})}})),De=Wo((()=>{il(),P()}));return ge.createElement(ge.Fragment,null,ge.createElement("form",{className:T?void 0:Ks.transitionContent,onSubmit:xe},ge.createElement("div",{className:zk.content},ge.createElement("div",{ref:$,className:zk.inputContainer},ge.createElement(ok,{maxAmount:te,token:q,isSensitiveDataHidden:_,onAmountClick:_e}),ge.createElement(SE,{id:"swap-sell",labelText:H("You sell"),className:zk.amountInput,hasError:le,value:null==d?void 0:d.toString(),isLoading:p&&v===Pn.Out,onChange:Ae,onPressEnter:xe,decimals:null==q?void 0:q.decimals,labelClassName:zk.inputLabel,inputClassName:zk.amountInputInner,cornerClassName:Tr(zk.swapCornerTop,T&&zk.swapCornerStaticTop),isStatic:T},ge.createElement(lE,{token:q,onClick:Te}))),ge.createElement("div",{className:Tr(zk.swapButtonWrapper,T&&zk.swapButtonWrapperStatic)},ge.createElement(lC,{onClick:De})),ge.createElement("div",{ref:V,className:zk.inputContainer},ge.createElement(SE,{id:"swap-buy",labelText:H("You buy"),className:zk.amountInputBuy,value:ue,isLoading:p&&v===Pn.In,disabled:ve,onChange:Be,onPressEnter:xe,onInputClick:we,decimals:null==j?void 0:j.decimals,labelClassName:zk.inputLabel,inputClassName:zk.amountInputInner,cornerClassName:Tr(zk.swapCornerBottom,T&&zk.swapCornerStaticBottom),isStatic:T},ge.createElement(lE,{token:j,onClick:Ie})))),ge.createElement(tC,{tokenIn:q,tokenOut:j,isStatic:T}),ge.createElement("div",{className:Tr(zk.footerBlock,T&&zk.footerBlockStatic)},function(){let e,t="exact";if(d&&u||(d||u)&&m){const n=pe?ee.fullFee:void 0;n&&({terms:e,precision:t}=n)}return ge.createElement(Ry,{isStatic:T,terms:e,token:q,precision:t,keepDetailsButtonWithoutFee:!0,onDetailsClick:Ce,className:zk.feeLine})}(),function(){if(g&&fe&&!he)return ge.createElement("div",{className:Tr(zk.priceImpact,T&&zk.priceImpactStatic),onClick:Ce},ge.createElement($p,{play:A,tgsUrl:fp.run,previewUrl:fp.runPreview,noLoop:!1,nonInteractive:!0,size:e.YO8,className:zk.priceImpactSticker}),ge.createElement("div",{className:zk.priceImpactContent},ge.createElement("span",{className:zk.priceImpactTitle},H("The exchange rate is below market value!",{value:`${g}%`}),ge.createElement("i",{className:Tr(zk.priceImpactArrow,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("span",{className:zk.priceImpactDescription},H("We do not recommend to perform an exchange, try to specify a lower amount."))))}(),function(){if(he)return ge.createElement("div",{className:Tr(zk.changellyInfo,T&&zk.changellyInfoStatic)},ge.createElement("span",{className:zk.changellyInfoTitle},ge.createElement("i",{className:Tr("icon-changelly",zk.changellyIcon),"aria-hidden":!0}),H("Cross-chain exchange provided by Changelly")),ge.createElement("span",{className:zk.changellyInfoDescription},H("$swap_changelly_agreement_message",{terms:ge.createElement("a",{href:e.Kq_,target:"_blank",rel:"noreferrer"},H("$swap_changelly_terms_of_use")),policy:ge.createElement("a",{href:e.kuw,target:"_blank",rel:"noreferrer"},H("$swap_changelly_privacy_policy")),kyc:ge.createElement("a",{href:e.BZS,target:"_blank",rel:"noreferrer"},"Changelly AML/KYC")})))}(),ge.createElement(qk,{tokenIn:q,tokenOut:j,amountIn:d,amountOut:u,swapType:B,isEstimating:p,isNotEnoughNative:!oe,nativeToken:G,dieselStatus:b,isSending:y,isPriceImpactError:fe,canSubmit:se,errorType:m,limits:w}))),ge.createElement(rC,{isOpen:"settings"===ke,onClose:Se,onNetworkFeeClick:Ne,showFullNetworkFee:pe}),ge.createElement($k,{isOpen:"feeDetails"===ke,onClose:Se,fullFee:null===(r=ee.fullFee)||void 0===r?void 0:r.networkTerms,realFee:null===(i=ee.realFee)||void 0===i?void 0:i.networkTerms,realFeePrecision:null===(s=ee.realFee)||void 0===s?void 0:s.precision,excessFee:ee.excessFee,excessFeePrecision:"approximate",token:q}))})));function lC(t){let{onClick:n}=t;const a=Ve().settings.animationLevel===e.zP3,[o,r,i]=ju(!1),s=Wo((()=>{a&&(r(),window.setTimeout((()=>{i()}),350)),null==n||n()}));function c(e){return ge.createElement("div",{className:Tr(zk.arrowContainer,e&&zk.arrowContainerInverted)},ge.createElement("div",{className:zk.arrow},ge.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),ge.createElement("div",{className:Tr(zk.arrowOld,o&&zk.animateDisappear)},ge.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})),ge.createElement("div",{className:Tr(zk.arrowNew,o&&zk.animateAppear)},ge.createElement("i",{className:"icon-arrow-up-swap","aria-hidden":!0})))}return ge.createElement("div",{className:zk.swapButton,onClick:s},c(),c(!0))}function dC(e,t){const n=new TextDecoder("utf-8"),a=(new TextEncoder).encode(e).slice(0,t);return n.decode(a).replace(/\uFFFD/g,"")}const uC=[{value:"raw",name:"Comment or Memo"},{value:"encrypted",name:"Encrypted Message"}],mC=fe((function(e){let{comment:t,shouldEncrypt:n,binPayload:a,stateInit:o,chain:r,isStatic:i,isCommentRequired:s,isEncryptedCommentSupported:c,onCommentChange:l}=e;const{setTransferShouldEncrypt:d}=Ke(),u=Ar(),m=Wo((e=>{d({shouldEncrypt:"encrypted"===e})})),p=de((()=>c?uC:uC.slice(0,1)),[c]);return a||o?ge.createElement(ge.Fragment,null,a&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Mb},u("Signing Data")),ge.createElement(Iy,{text:a,copyNotification:u("Data was copied!"),className:Rb})),o&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Mb},u("Contract Initialization Data")),ge.createElement(Iy,{text:o,copyNotification:u("Data was copied!"),className:Rb})),ge.createElement("div",{className:$b},tr(u("$signature_warning")))):ge.createElement(zp,{wrapperClassName:Wb,className:i?"RJsBtjCe":void 0,label:ge.createElement(pv,{items:p,selectedValue:uC[n?1:0].value,theme:"inherit",disabled:"tron"===r,menuPositionX:"left",shouldTranslateOptions:!0,onChange:m}),placeholder:u(s?"Required":"Optional"),value:t,isMultiline:!0,isDisabled:"tron"===r,onInput:l,isRequired:s})}));function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pC.apply(null,arguments)}const fC=new Set([Bn.Initial,Bn.None]),hC=Oa.Z2,gC=(0,l.sg)((e=>e()),500,!1),vC=fe(je((t=>{const{toAddress:n,resolvedAddress:a,toAddressName:o,amount:r,comment:i,shouldEncrypt:s,fee:c,realFee:l,tokenSlug:d,isLoading:u,state:m,nfts:p,binPayload:f,isMemoRequired:h,diesel:g,stateInit:v,scamWarningType:w}=t.currentTransfer,y=pt(t),b=ct(t),{baseCurrency:E=e.wOb,isSensitiveDataHidden:k}=t.settings,C=fC.has(m);return{toAddress:n,resolvedAddress:a,toAddressName:o,amount:r,comment:i,shouldEncrypt:s,fee:c,realFee:l,nfts:p,tokenSlug:d,binPayload:f,stateInit:v,tokens:Ut(t),savedAddresses:null==b?void 0:b.savedAddresses,isEncryptedCommentSupported:!(y||null!=p&&p.length||h),isMemoRequired:h,isActive:C,isLoading:u&&C,baseCurrency:E,currentAccountId:t.currentAccountId,accounts:at(t),nativeTokenBalance:Wt(t,Zn(ea(d)).slug),diesel:g,isDieselAuthorizationStarted:null==b?void 0:b.isDieselAuthorizationStarted,isMultichainAccount:Ct(t,t.currentAccountId),isSensitiveDataHidden:k,scamWarningType:w,isAllowSuspiciousActions:At(t,t.currentAccountId)}}),((e,t,n)=>n(e.currentAccountId)))((function(t){var n,a,o,r,i;let{isStatic:s,slideClassName:c,tokenSlug:l,toAddress:d="",resolvedAddress:u,toAddressName:m="",amount:p,comment:f="",shouldEncrypt:h,tokens:g,fee:v,realFee:w,savedAddresses:y,accounts:b,nativeTokenBalance:E,currentAccountId:k,isEncryptedCommentSupported:C,isMemoRequired:N,isActive:S,isLoading:A,baseCurrency:T,nfts:I,binPayload:B,stateInit:_,diesel:x,isDieselAuthorizationStarted:D,isMultichainAccount:L,isSensitiveDataHidden:O,scamWarningType:P,isAllowSuspiciousActions:M}=t;const{submitTransferInitial:F,fetchTransferFee:R,fetchNftFee:U,changeTransferToken:W,setTransferAmount:H,setTransferToAddress:$,setTransferComment:V,setTransferShouldEncrypt:z,cancelTransfer:K,showDialog:q,authorizeDiesel:j,fetchTransferDieselState:Y,checkTransferAddress:G,dismissTransferScamWarning:Q}=Ke(),X=Boolean(null==I?void 0:I.length);X&&(l=e.Tu9.slug,p=void 0);const J=Ar(),Z=de((()=>null==g?void 0:g.find((e=>e.slug===l))),[l,g]),{amount:ee,symbol:te,chain:ne}=Z||{},ae=Sh(P,!0),oe=me(!1),re=l===e.Tu9.slug,ie=ne?va(d,ne):void 0,se="ton"===ne,le=ak(null!=I&&I.length?I:[l]),pe=Wo(((e,t)=>{t&&(oe.current=!0),$({toAddress:e})})),fe=!(d||f||B||h||(X?s:void 0!==p)),he=de((()=>pa({fee:v,realFee:w,diesel:x,tokenSlug:l})),[v,w,x,l]),ve=function(e){let{tokenBalance:t,nativeTokenBalance:n,transferAmount:a,fullFee:o,canTransferFullBalance:r}=e;if(void 0===a||void 0===t||void 0===n||!o)return;const i=a===t&&r,s=(o.token??0n)+(i?0n:a),c=o.native??0n;return s<=t&&c<=n}({tokenBalance:ee,nativeTokenBalance:E,transferAmount:X?0n:p,fullFee:null===(n=he.fullFee)||void 0===n?void 0:n.terms,canTransferFullBalance:he.canTransferFullBalance}),we=!X&&!p,ye=fa({tokenBalance:ee,tokenSlug:l,fullFee:null===(a=he.fullFee)||void 0===a?void 0:a.terms,canTransferFullBalance:he.canTransferFullBalance}),be="not-authorized"===(null==x?void 0:x.status),Ee=be&&D?hC:void 0,ke=Wo((()=>{Y({tokenSlug:l})}));zh(ke,Ee),ce((()=>{re&&ee&&p&&v&&p<ee&&v<ee&&p+v>=ee&&H({amount:ee-v})}),[re,p,ee,v]),ce((()=>{if(we||!ie)return;const e=()=>{X?U({toAddress:d,comment:f,nfts:I??[]}):R({tokenSlug:l,toAddress:d,comment:f,shouldEncrypt:h,binPayload:B,stateInit:_})};oe.current?(oe.current=!1,e()):gC(e)}),[we,B,f,h,ie,X,I,_,d,l]),ce((()=>{ta(Z)&&q({title:J("Warning!"),message:J("$service_token_transfer_warning"),noBackdropClose:!0})}),[J,Z]);const Ce=Wo((e=>{W({tokenSlug:e})}));function Ne(){pe(""),G({address:""}),H({amount:void 0}),V({comment:void 0}),z({shouldEncrypt:!1})}const Se=Wo((()=>{s?K({shouldReset:!0}):Ne()})),Ae=Wo((()=>{Q(),s?Ne():K({shouldReset:!0})})),Te=Wo((()=>{oe.current=!0})),Ie=Wo((e=>{V({comment:dC(e,5e3)})})),Be=!X&&void 0!==ee&&void 0!==p&&p>ee,_e=!1===ve&&!Be&&"not-authorized"!==(null==x?void 0:x.status)&&"pending-previous"!==(null==x?void 0:x.status),xe=!X&&void 0!==p&&(void 0!==ye&&p>ye||_e),De=Boolean(d)&&N,Le=be||Boolean(ie&&!we&&!xe&&ve&&!(De&&!f)&&(!he.isGasless||"available"===(null==x?void 0:x.status)||"stars-fee"===(null==x?void 0:x.status))&&!(X&&(null==I||!I.length))),Oe=Wo((e=>{e&&Io(e),P||(be?j():Le&&(il(),F({tokenSlug:l,amount:p??0n,toAddress:d,comment:f,binPayload:B,shouldEncrypt:h,nfts:I,withDiesel:he.isGasless,isGaslessWithStars:"stars-fee"===(null==x?void 0:x.status),stateInit:_})))})),[Pe,Me,Fe]=function(e){var t;const n="exact"!==(null===(t=e.realFee)||void 0===t?void 0:t.precision),[a,o,r]=ju(!1);return[a,n?o:void 0,r]}(he),Re=de((()=>(g??[]).filter((e=>function(e,t){return"lp_token"!==e.type||e.amount>0&&!e.isDisabled||e.slug===t}(e,l)))),[g,l]),Ue=XE({amount:p,token:Z,baseCurrency:T,onAmountChange:(e,t)=>{S&&(void 0!==e&&e<0||(t&&(oe.current=!0),H({amount:e})))},onTokenChange:Ce}),We=ue((e=>{let t=0,n=" ";return p&&(Be?(t=1,n=ge.createElement("span",{className:Fb},J("Insufficient balance"))):_e&&(t=2,n=ge.createElement("span",{className:Fb},J("Insufficient fee")))),ge.createElement(ff,{className:e,name:"fade",activeKey:t},n)}),[p,_e,Be,J]);return ge.createElement(ge.Fragment,null,ge.createElement("form",{className:s?void 0:Ks.transitionContent,onSubmit:Oe,onPaste:Te},ge.createElement(ff,{activeKey:le,name:"semiFade",direction:s&&!se?"inverse":void 0,shouldCleanup:!0,slideClassName:Tr("TEJfM3gl",s&&"mfCYg0_s",c)},1===(null==I?void 0:I.length)&&ge.createElement(yy,{nft:I[0],isStatic:s,withMediaViewer:!0}),Boolean(null==I?void 0:I.length)&&I.length>1&&ge.createElement(rE,{nfts:I,isStatic:s}),ge.createElement(Yb,{label:J("Recipient Address"),value:d,chain:ne,addressBookChain:X?"ton":void 0,currentAccountId:k,accounts:b,savedAddresses:y,validateAddress:G,isStatic:s,withQrScan:!0,address:u||d,addressName:m,onInput:pe,onClose:K}),!X&&ge.createElement(lk,pC({},Ue,{maxAmount:ye,token:Z,allTokens:Re,isStatic:s,hasError:xe,isMultichainAccount:L,isMaxAmountLoading:void 0===ye,isSensitiveDataHidden:O,renderBottomRight:We,onPressEnter:Oe})),se&&ge.createElement(mC,{comment:f,shouldEncrypt:h,binPayload:B,stateInit:_,chain:ne,isStatic:s,isCommentRequired:De,isEncryptedCommentSupported:C,onCommentChange:Ie}),ge.createElement("div",{className:Tr("yVExFE73",s&&"ton"!==ne&&"NGWUkuR3")},function(){let e,t="exact";if(!we){const n=_e?he.fullFee:he.realFee;n&&({terms:e,precision:t}=n)}return ge.createElement(Ry,{isStatic:s,terms:e,token:Z,precision:t,onDetailsClick:Me})}(),ge.createElement("div",{className:"oMCN3Z8P"},ge.createElement(Vs,{isDisabled:fe||A,className:Hb,onClick:Se},J("Clear")),ge.createElement(Vs,{isPrimary:!0,isSubmit:!0,isDisabled:!Le,isLoading:A,className:Hb},"not-authorized"===(null==x?void 0:x.status)?J("Authorize %token% Fee",{token:te}):"pending-previous"===(null==x?void 0:x.status)?J("Awaiting Previous Fee"):J("$send_token_symbol",X?"NFT":te||"TON")))))),ge.createElement($k,{isOpen:Pe,onClose:Fe,fullFee:null===(o=he.fullFee)||void 0===o?void 0:o.terms,realFee:null===(r=he.realFee)||void 0===r?void 0:r.terms,realFeePrecision:null===(i=he.realFee)||void 0===i?void 0:i.precision,excessFee:he.excessFee,excessFeePrecision:"approximate",token:Z}),ge.createElement(Zs,{isOpen:Boolean(P),isCompact:!0,title:J("Warning!"),noBackdropClose:!0,onClose:Q},ge.createElement("div",null,function(e,t){return t?e(t===_n.DomainLike?"$domain_like_scam_warning":"$seed_phrase_scam_warning",{help_center_link:ge.createElement("a",{href:QE(e.code,t===_n.DomainLike?"domainScam":"seedScam"),target:"_blank",rel:"noreferrer"},ge.createElement("b",null,e("$help_center_prepositional")))}):void 0}(J,ae)),ge.createElement("div",{className:Ks.footerButtons},M?ge.createElement(ge.Fragment,null,ge.createElement(Vs,{className:Ks.fluidButton,onClick:Ae},J("Exit")),ge.createElement(Vs,{isPrimary:!0,isDestructive:!0,className:Ks.button,onClick:Q},J("Continue"))):ge.createElement(Vs,{onClick:Ae},J("Exit")))))}))),wC=e=>{let{elementRef:t,isMenuDisabled:a,shouldDisableOnLink:o,shouldDisableOnLongTap:r,shouldDisablePropagation:i}=e;const[s,c]=ie(!1),[l,d]=ie(void 0),[u,m]=ie(void 0),p=Wo((e=>{a||2!==e.button||(0,k.RK)((()=>{As(e.target,"no-selection")}))})),f=Wo((e=>{(0,k.RK)((()=>{Ts(e.target,"no-selection")})),a||o&&e.target.matches("a[href]")||(Io(e),l||(c(!0),d({x:e.clientX,y:e.clientY}),m(e.target),il()))})),h=Wo((()=>{c(!1)})),g=Wo((()=>{d(void 0)})),v=Wo((e=>{s&&Io(e)}));return ce((()=>{if(a||!n.TF||r)return;const e=t.current;if(!e)return;let s;const u=()=>{s&&(clearTimeout(s),s=void 0)},m=e=>{u(),v(e)},p=e=>{a||(i&&e.stopPropagation(),u(),s=window.setTimeout((()=>(e=>{u();const{clientX:t,clientY:a,target:r}=e.touches[0];l||o&&r.matches("a[href]")||(document.addEventListener("touchend",(e=>{n.pz&&n._7&&setTimeout((()=>{document.removeEventListener("mousedown",Io,{capture:!0}),document.removeEventListener("click",Io,{capture:!0})}),100),Io(e)}),{once:!0,capture:!0}),n._7&&n.pz&&(document.addEventListener("mousedown",Io,{once:!0,capture:!0}),document.addEventListener("click",Io,{once:!0,capture:!0})),c(!0),d({x:t,y:a}),il())})(e)),200))};return e.addEventListener("touchstart",p,{passive:!0}),e.addEventListener("touchcancel",u,!0),e.addEventListener("touchend",u,!0),e.addEventListener("touchmove",m,!0),()=>{u(),e.removeEventListener("touchstart",p),e.removeEventListener("touchcancel",u,!0),e.removeEventListener("touchend",u,!0),e.removeEventListener("touchmove",m,!0)}}),[l,a,r,t,o,i]),{isContextMenuOpen:s,contextMenuAnchor:l,contextMenuTarget:u,handleBeforeContextMenu:p,handleContextMenu:f,handleContextMenuClose:h,handleContextMenuHide:g}};function yC(e){let{items:t,rootRef:n,onItemClick:a,children:o,menuClassName:r,menuPositionY:i="bottom"}=e;const s=me(),c=me(),{isPortrait:l}=ui(),d=Wo((()=>s.current)),u=Wo((()=>(null==n?void 0:n.current)??document.body)),m=Wo((()=>c.current)),p=Wo((()=>({withPortal:!0,doNotCoverTrigger:!0,centerHorizontally:!0}))),{isContextMenuOpen:f,contextMenuAnchor:h,handleBeforeContextMenu:g,handleContextMenu:v,handleContextMenuClose:w,handleContextMenuHide:y}=wC({elementRef:s,shouldDisablePropagation:!0}),b=Wo((e=>{a(e)}));return ge.createElement(ge.Fragment,null,l&&ge.createElement(Cy,{isMenuOpen:f,contentRef:s,contentClassName:r}),o({ref:s,onMouseDown:g,onContextMenu:v},f),!!h&&ge.createElement(Mh,{ref:c,withPortal:!0,shouldTranslateOptions:!0,isOpen:f,items:t,menuPositionY:i,menuAnchor:h,bubbleClassName:r,getTriggerElement:d,getRootElement:u,getMenuElement:m,getLayout:p,onSelect:b,onClose:w,onCloseAnimationEnd:y}))}const bC={container:"oiB1R7GB",tabs:"Sue0UN3j",notAllTabs:"QLxHVfeT",tab:"qUqbpDN6",active:"PSKCyspY",tab_purple:"Hw7rCAOU",tabPurple:"Hw7rCAOU",tab_purpleText:"Y4BNELoX",tabPurpleText:"Y4BNELoX",tabDelimiter:"CLfyAuI6",withContextMenu:"xFC2ES5I",tabDecoration:"SSnDTAfy",tabIcon:"nIk_Y_3d",tabText:"IfCQ498V",contentHeader:"LzaI7YWC",firstActive:"G0Sd_POg",contentHeaderInner:"rWtZ588N",lastActive:"Y80L38VI",contentBg:"ibE61V3n",contentFooter:"WvrNEDxt",contentSlideStaked:"F0M6K6CS","tab-0":"NmGloXOI",tab0:"NmGloXOI","tab-1":"S7XD0emA",tab1:"S7XD0emA",slideContent:"bTsglo_e",transitionContent:"YJuoqMiV",slideContentAddBuy:"QO6jMpRA",spinner:"KCsGLTLM",menu:"Q6q8HQcu"};function EC(){return EC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},EC.apply(null,arguments)}const kC=[zn.Receive,zn.Transfer,zn.Swap,zn.Stake],CC={inactive:"Earn",active:"Earning",unstakeRequested:"$unstaking_short",readyToClaim:"$unstaking_short"},NC=fe(je((e=>{var t;const n=lt(e,e.currentAccountId)??{},{isOnRampDisabled:a}=e.restrictions;return{activeTabIndex:null==n?void 0:n.landscapeActionsActiveTabIndex,isTestnet:e.settings.isTestnet,isSwapDisabled:ua(e),isStakingDisabled:Aa(e),isOnRampDisabled:a,accentColorIndex:null===(t=ut(e))||void 0===t?void 0:t.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{containerRef:a,stakingStatus:o,isLedger:r,theme:i,activeTabIndex:s=e.Dde,isTestnet:c,isSwapDisabled:l,isOnRampDisabled:d,isStakingDisabled:u,accentColorIndex:m}=t;const{setLandscapeActionsActiveTabIndex:p}=Ke(),f=Ar(),h=s===zn.Stake&&"inactive"!==o,g=`transfer_slide_${ke()}`,{renderedBgHelpers:v,transitionRef:w}=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=me(),r=me(),i=me(),s=me(),c=Wo((function(){var n,c;let l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const d=`.${e}.${mf}`,u=a?" .staking-info":"",m=`${d} .${t}.${pf}, ${d} .${t}.${mf}`,p=`.${e}.${pf}${u}, ${d}${u}`,f=((null===(n=o.current)||void 0===n?void 0:n.querySelector(m))||(null===(c=o.current)||void 0===c?void 0:c.querySelector(p))).getBoundingClientRect(),h=!s.current||l;s.current!==f.height&&r.current&&(0,k.RK)((()=>{if(!r.current||!i.current)return;const e=r.current.style,t=i.current.style;h&&(e.transition="none",t.transition="none"),e.transform=`scaleY(calc(${f.height} / 100))`,t.transform=`translateY(${Math.floor(f.height)}px)`,h&&(0,k.RK)((()=>{r.current&&i.current&&(r.current.style.transition="",i.current.style.transition="")})),s.current=f.height}))}));ce((()=>{c(!0);const e=new ResizeObserver((e=>{e.length&&c()}));return o.current&&e.observe(o.current),()=>{e.disconnect()}}),[c]);return{renderedBgHelpers:de((()=>ge.createElement(ge.Fragment,null,ge.createElement("div",{ref:r,className:Tr(bC.contentBg,n)}),ge.createElement("div",{ref:i,className:Tr(bC.contentFooter,n)}))),[n]),transitionRef:o}}(bC.slideContent,g,h?bC.contentSlideStaked:void 0,h),y=!c&&!d,b=l||u,E=u&&l&&s===zn.Transfer||u&&!l&&s===zn.Swap||!u&&s===zn.Stake,[C,N,S]=ju(),[A,T,I]=ju(),[B,_,x]=ju(),[D,L,O]=ju(),P=Sf(i),M=fp[P],F=m?Gf[P][m]:void 0,R=me(0);function U(e){switch(s){case zn.Receive:return ge.createElement("div",{className:Tr(bC.slideContent,bC.slideContentAddBuy)},ge.createElement(jE,{isOpen:e,isStatic:!0}));case zn.Transfer:return ge.createElement("div",{className:Tr(bC.slideContent,bC.slideContentTransfer)},ge.createElement(vC,{isStatic:!0,slideClassName:g}));case zn.Swap:return ge.createElement("div",{className:bC.slideContent},ge.createElement(cC,{isStatic:!0,isActive:e}));case zn.Stake:return ge.createElement("div",{className:bC.slideContent},ge.createElement("inactive"===o?vk:Ck,{isStatic:!0,isActive:e}));default:return}}function W(e,t){n.TF&&t(),p({index:e},{forceOnHeavyAnimation:!0})}return Ee((()=>{R.current++}),[F]),ce((()=>{(l&&s===zn.Swap||u&&s===zn.Stake)&&p({index:zn.Transfer})}),[s,c,r,l,u]),ge.createElement("div",{className:bC.container},ge.createElement("div",{className:Tr(bC.tabs,b&&bC.notAllTabs)},ge.createElement("div",{className:Tr(bC.tab,s===zn.Receive&&bC.active),onMouseEnter:n.TF?void 0:N,onContextMenu:Io,onClick:()=>{W(zn.Receive,N)}},ge.createElement($p,{play:C,size:e.lk4,speed:2,className:bC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M.iconAdd,iconPreviewClass:"icon-action-add",onEnded:S}),ge.createElement("span",{className:bC.tabText},f(!l||y?"Add / Buy":"Add")),ge.createElement("span",{className:bC.tabDecoration,"aria-hidden":!0})),ge.createElement(yC,{items:Pk,rootRef:a,menuClassName:bC.menu,onItemClick:Mk},(t=>{let{ref:a,...o}=t;return ge.createElement("div",EC({},o,{ref:a,className:Tr(bC.tab,s===zn.Transfer&&bC.active,bC.withContextMenu),onMouseEnter:n.TF?void 0:T,onClick:()=>{W(zn.Transfer,T)}}),ge.createElement($p,{play:A,size:e.lk4,speed:2,className:bC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M.iconSend,iconPreviewClass:"icon-action-send",onEnded:I}),ge.createElement("span",{className:bC.tabText},f("Send")),ge.createElement("span",{className:bC.tabDecoration,"aria-hidden":!0}),ge.createElement("span",{className:bC.tabDelimiter,"aria-hidden":!0}))})),!l&&ge.createElement("div",{className:Tr(bC.tab,s===zn.Swap&&bC.active),onMouseEnter:n.TF?void 0:_,onContextMenu:Io,onClick:()=>{W(zn.Swap,_)}},ge.createElement($p,{play:B,size:e.lk4,speed:2,className:bC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M.iconSwap,iconPreviewClass:"icon-action-swap",onEnded:x}),ge.createElement("span",{className:bC.tabText},f("Swap")),ge.createElement("span",{className:bC.tabDecoration,"aria-hidden":!0}),ge.createElement("span",{className:bC.tabDelimiter,"aria-hidden":!0})),!u&&ge.createElement("div",{className:Tr(bC.tab,s===zn.Stake&&bC.active,h&&bC.tab_purple,"inactive"!==o&&bC.tab_purpleText),onMouseEnter:n.TF?void 0:L,onContextMenu:Io,onClick:()=>{W(zn.Stake,L)}},ge.createElement($p,{play:D,size:e.lk4,speed:2,className:bC.tabIcon,key:F,color:F,nonInteractive:!0,forceOnHeavyAnimation:!0,tgsUrl:M["inactive"!==o?"iconEarnPurple":"iconEarn"],iconPreviewClass:Tr("icon-action-earn","inactive"!==o&&bC.tab_purpleText),onEnded:O}),ge.createElement("span",{className:bC.tabText},f(CC[o])),ge.createElement("span",{className:bC.tabDecoration,"aria-hidden":!0}),ge.createElement("span",{className:bC.tabDelimiter,"aria-hidden":!0}))),ge.createElement("div",{className:Tr(bC.contentHeader,s===zn.Receive&&bC.firstActive,E&&bC.lastActive)},ge.createElement("div",{className:Tr(bC.contentHeaderInner,h&&bC.contentSlideStaked)})),v,ge.createElement(ff,{ref:w,name:"slideFade",activeKey:s,renderCount:kC.length,className:Tr(bC.transitionContent,"static-container")},U))}))),SC="f9uDJdvE",AC="iQddp8Ac";function TC(){return TC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},TC.apply(null,arguments)}const IC=fe((function(t){let{isTestnet:n,stakingStatus:a,isStakingDisabled:o,isSwapDisabled:r,isOnRampDisabled:i,containerRef:s,onEarnClick:c}=t;const{startTransfer:l,startSwap:d,openReceiveModal:u}=Ke(),m=Ar(),p=!n&&!i,f=e.TI6?"Receive":!r||p?"Add / Buy":"Add",h=Wo((()=>{il(),d()})),g=Wo((()=>{il(),l({isPortrait:!0})})),v=Wo((()=>{il(),u()})),w=Wo((()=>{il(),c()}));return ge.createElement("div",{className:"oAYeit4x"},ge.createElement("div",{className:"Xw7VtigI"},ge.createElement(Vs,{isSimple:!0,className:SC,onClick:v},ge.createElement("i",{className:Tr(AC,"icon-action-add"),"aria-hidden":!0}),m(f)),ge.createElement(yC,{rootRef:s,items:Pk,menuClassName:"kJbEm897",onItemClick:Mk},((e,t)=>ge.createElement(Vs,TC({},e,{isSimple:!0,className:Tr(SC,t&&"s05GLla1"),onClick:g,ref:e.ref}),ge.createElement("i",{className:Tr(AC,"icon-action-send"),"aria-hidden":!0}),m("Send")))),!r&&ge.createElement(Vs,{isSimple:!0,className:SC,onClick:h},ge.createElement("i",{className:Tr(AC,"icon-action-swap"),"aria-hidden":!0}),m("Swap")),!o&&ge.createElement(Vs,{isSimple:!0,className:Tr(SC,"inactive"!==a&&"DSist0sY"),onClick:w},ge.createElement("i",{className:Tr(AC,"icon-action-earn"),"aria-hidden":!0}),m(CC[a]))))}));function BC(e,t){return e=(0,Mt.z)(e),t=(0,Mt.z)(t),e.minus(e.div(t.plus(1)))}function _C(t,n){const a=(0,c.dU)(n??[],"tokenSlug"),o=t.reduce(((t,n)=>{if(e.Svl.has(n.slug))return t;const o=a[n.slug];if(o){const e=(0,Pt.CF)(eu(o),n.decimals);t=t.plus(e.mul(n.price))}return t.plus(n.totalValue)}),(0,Mt.z)(0)),[r,i]=ir(o).split("."),s=t.reduce(((e,t)=>e.plus(BC(t.totalValue,t.change24h))),(0,Mt.z)(0)).round(4).toNumber(),l=xr(o?s/(o.toNumber()-s)*100:0,2),d=s>0?"up":s<0?"down":void 0;return{primaryValue:o.toString(),primaryWholePart:r,primaryFractionPart:i,changePrefix:d,changePercent:l,changeValue:s}}function xC(e){const[t,n]=ie(!1);return zh((()=>{var t;const a=null===(t=ct(Ve()))||void 0===t?void 0:t[e];if(!a)return void n(!1);const o=Date.now()-a;n(o>2e3)}),1e3,!1),t}const DC=fe((function(e){let{className:t,noAnimation:n}=e;const a=ke("transparentMask-");return ge.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",className:t},ge.createElement("mask",{id:a},ge.createElement("rect",{width:"32",height:"32",fill:"black"}),ge.createElement("circle",{cx:"16",cy:"16",r:"16",fill:"white"}),ge.createElement("path",{d:"M17.375 8.87438C17.375 8.11563 16.7594 7.5 16 7.5C15.2406 7.5 14.625 8.11563 14.625 8.87438V16.0006C14.625 16.76 15.2406 17.375 16 17.375C16.7594 17.375 17.375 16.76 17.375 16.0006V8.87438Z",fill:"black"},!n&&ge.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"2s",repeatCount:"indefinite"})),ge.createElement("path",{d:"M17.375 11.985C17.375 11.2337 16.7594 10.625 16 10.625C15.2406 10.625 14.625 11.2337 14.625 11.985V16.015C14.625 16.7662 15.2406 17.375 16 17.375C16.7594 17.375 17.375 16.7662 17.375 16.015V11.985Z",fill:"black"},!n&&ge.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"12s",repeatCount:"indefinite"}))),ge.createElement("rect",{className:"avkqxacs",width:"32",height:"32",mask:`url(#${a})`}))})),LC=fe(je((t=>{const n=ct(t),{config:a}=ct(t)||{},o=t.settings.animationLevel;return{hasCardsInfo:Boolean(null==a?void 0:a.cardsInfo),isCardMinting:null==n?void 0:n.isCardMinting,noAnimation:o===e.dnp}}))((function(e){let{isCardMinting:t,hasCardsInfo:n,noAnimation:a}=e;const{openMintCardModal:o}=Ke(),r=Ar(),{shouldRender:i,ref:s}=Rs({isOpen:n||t,withShouldRender:!0});if(i)return ge.createElement("button",{ref:s,type:"button",className:"XUXxtxF8","aria-label":r("Mint Cards"),title:r("Mint Cards"),onClick:()=>o()},ge.createElement("i",{className:t?"icon-magic-wand-loading":"icon-magic-wand","aria-hidden":!0}),t&&ge.createElement(DC,{className:"uN651IGD",noAnimation:a}))})));let OC=0;const PC=(0,l.Fe)((()=>{OC=0})),MC=fe((t=>{let{text:n,isDisabled:a}=t;const o=Ve().settings.animationLevel,{isRtl:r}=Ar(),i=be(n),s=ve(),c=!(!(!a&&o===e.zP3&&void 0!==i&&i!==n)||OC>=10||(0===OC&&PC(),OC++,0)),l=de((()=>c?function(e,t){const n=[],a=e.length,o=(null==t?void 0:t.length)??0;for(let r=0;r<=a;r++){const i=a-r,s=o-r;t&&s>=0&&e[i]!==t[s]?n.unshift(ge.createElement("div",{className:"o6dPPa5S"},ge.createElement("div",{className:"wT7hwE_a"},e[i]??""),ge.createElement("div",{className:"pSP5fUMh"},t[s]),ge.createElement("div",{className:"FtEeojTc"},e[i]??""))):n.unshift(ge.createElement("span",null,e[i]??""))}return n}(n,i):n),[c,i,n]);return ce((()=>{if(!c)return;const e=window.setTimeout((()=>{s()}),200);return()=>{window.clearTimeout(e)}}),[c,n]),ge.createElement("span",{className:Tr(!a&&"UizaBW8F"),dir:r?"rtl":void 0},l)})),FC={containerWrapper:"wKxh3a3S",isLoading:"iGGNu8pc",center:"JhiFICIH",container:"DeiKNEF2",backstage:"Z0VKHxKs",tokenCard:"lPzc1tFZ",containerInner:"CJuAKeNp",balanceSlide:"_S0PhahZ",balanceTransition:"Q_lPdCwD",currencySymbol:"l0dhdAHZ",primaryValue:"_jSits6S",primaryFractionPart:"L4sI_b_K",iconCaret:"S_WiTJlv",iconCaretSmall:"AyZvbJo1",iconCaretFraction:"UPrAgVuY",currencySwitcher:"JRDSCLUm",currencySwitcherMenu:"ouGIASNp",addressContainer:"Hscx8f3y",icon:"Z4odaM4f",addressLabel:"bU030X2g",address:"xtFe1Hpt",menuItem:"DYEcCh8V",menuIcon:"reCfAfE0",menuItemName:"XG4JwTZX",menuFontIcon:"SR492iSb",menuExplorerIcon:"F5fuBEwJ",addressMenuBubble:"eqrUlhby",domainText:"FeL3tHeI",addressText:"W__Ag4Sn",separator:"x_DIVHjK",explorerButton:"a6nY4qXV",changeSpoiler:"u3xBtJOM",blurred:"VWmNqmzU",change:"p0ADnah2",changePrefix:"cuZcbnpx",chainIcon:"m2FMwrjB",multichainIcon:"f7vAJ3qA",tokenInfo:"bGU6MKkV",tokenLogo:"KjXvLECZ",tokenInfoHeader:"JX6roGM_",tokenInfoSubheader:"RxOFnjoX",tokenAmount:"eIbQBxJS",tokenName:"BnrECUAN",tokenValue:"FJv4OzYN",tokenChange:"GGm5XDND",tokenChangeSensitiveData:"f4V9saRa",tokenChangeSpoiler:"_12taTXqz",tokenTitle:"RmC9TfSK",tokenHistoryPrice:"_4dlU8cE",tokenCurrentPrice:"gV90_PgX",tokenPriceDate:"iPGWJEAe",apy:"NuM0o0NU",interactive:"qQdmiqxi",tokenExplorerButton:"OG4bpDUn",chart:"lKplVEJ6",chartImg:"RidGreTo",backButton:"rzhYg9wP",periodChooser:"fJhqjFVE",periodChooserHidden:"xPL1t22b",periodItem:"il0Zz8yE",periodItem_active:"fcYKEjig",periodItemActive:"fcYKEjig",periodInput:"PIahT0n2",loadingDotsContainer:"iRUbIPAX",cardCustomBackground:"A2ptDHpn",visible:"aEg2wczx",black:"ah_6og0J",platinum:"nnklDXWY",gold:"c4y77fMq",silver:"M9_HMKD7",borderShine_down:"VoOVf4tq",borderShineDown:"VoOVf4tq",borderShine_left:"dWc8MTsx",borderShineLeft:"dWc8MTsx",borderShine_up:"k8VOGUyt",borderShineUp:"k8VOGUyt",borderShine_right:"tqABUy73",borderShineRight:"tqABUy73"},RC=i.p+"multichain_account.18e8f6e7ee28b26527ba.svg",UC=fe(je((e=>{const{type:t,addressByChain:n,domainByChain:a}=it(e,e.currentAccountId)||{};return{addressByChain:n,domainByChain:a,isTestnet:e.settings.isTestnet,accountType:t}}))((function(e){let{addressByChain:t,domainByChain:a,isTestnet:o,accountType:r,withTextGradient:i}=e;const{showNotification:s}=Ke(),c=Ar(),{isPortrait:l}=ui(),d=me(),u=me(),[m,p]=ie(),f=Boolean(m),h=de((()=>Object.keys(t||{})),[t]),g="hardware"===r,v="view"===r,w=c("View on Explorer"),y=de((()=>{const e=h[0]&&(null==a?void 0:a[h[0]]);if(!(h.length<2)||e)return h.map((e=>({value:t[e],address:(0,Yt.W)(t[e],null!=a&&a[e]?4:void 0),...(null==a?void 0:a[e])&&{domain:a[e]},icon:Nw(e),fontIcon:"copy",chain:e,label:c("View address on %ton_explorer_name%",{ton_explorer_name:jo(e)}).join("")})))}),[t,a,h,c]),b=()=>{const{left:e,width:t,bottom:n}=d.current.getBoundingClientRect();p({x:e+t/2,y:n})},E=()=>{p(void 0)},k=Wo((e=>{s({message:c("Address was copied!"),icon:"icon-copy"}),dl(e)})),C=Wo(((e,t)=>{k(t),E()})),N=Wo(((e,t)=>{s({message:c("Domain was copied!"),icon:"icon-copy"}),dl(t),E()})),S=Wo(((e,t,n)=>{ic(Qo(t,n,o)),E()})),A=me(),T=Wo((()=>{A.current&&clearTimeout(A.current),b()})),I=Wo((()=>{A.current=window.setTimeout(E,150)})),B=Wo((()=>d.current)),_=Wo((()=>document.body)),x=Wo((()=>u.current)),D=Wo((()=>({withPortal:!0,centerHorizontally:l,preferredPositionX:"left",doNotCoverTrigger:l})));if(y){const e=h[0],t=null==a?void 0:a[e],o=1===h.length&&t?t:c("Multichain");return ge.createElement("div",{ref:d,className:FC.addressContainer},v&&ge.createElement("span",{className:FC.addressLabel},ge.createElement("i",{className:Tr(FC.icon,"icon-eye-filled"),"aria-hidden":!0}),c("$view_mode")),g&&ge.createElement("i",{className:Tr(FC.icon,"icon-ledger"),"aria-hidden":!0}),ge.createElement("button",{type:"button",className:Tr(FC.address,i&&"gradientText"),onMouseEnter:n.TF?void 0:T,onMouseLeave:n.TF?void 0:I,onClick:b},h.length>1?ge.createElement("img",{src:RC,alt:"",className:FC.multichainIcon}):ge.createElement("img",{src:Nw(e),alt:"",className:FC.chainIcon}),ge.createElement("span",{className:Tr(FC.itemName,"itemName")},o),ge.createElement("i",{className:Tr(FC.icon,"icon-caret-down"),"aria-hidden":!0})),ge.createElement(Oh,{menuRef:u,isOpen:f,type:"dropdown",withPortal:!0,getTriggerElement:B,getRootElement:_,getMenuElement:x,getLayout:D,anchor:m,bubbleClassName:FC.addressMenuBubble,noBackdrop:!n.TF,onMouseEnter:n.TF?void 0:T,onMouseLeave:n.TF?void 0:I,onClose:E},y.map(((e,t)=>{const n=Tr(Ah.item,t>0&&Ah.separator,FC.menuItem);return ge.createElement("div",{key:e.value,className:n},y.length>1&&ge.createElement("img",{src:e.icon,alt:"",className:Tr("icon",Ah.itemIcon,FC.menuIcon)}),ge.createElement("span",{className:Tr(Ah.itemName,FC.menuItemName)},e.domain&&ge.createElement(ge.Fragment,null,ge.createElement("span",{tabIndex:0,role:"button",className:FC.domainText,onClick:t=>N(t,e.domain)},e.domain),ge.createElement("span",{className:FC.separator},"·")),ge.createElement("span",{tabIndex:0,role:"button",onClick:t=>C(t,e.value),className:e.domain&&FC.addressText},e.address),ge.createElement("i",{className:Tr(`icon icon-${e.fontIcon}`,Ah.fontIcon,FC.menuFontIcon),"aria-hidden":!0,onClick:t=>C(t,e.value)})),ge.createElement("i",{tabIndex:0,role:"button",className:Tr(Ah.close,"icon icon-tonexplorer-small",FC.menuExplorerIcon),"aria-label":e.label,onClick:t=>S(t,e.chain,e.value)}))}))))}const L=h[0];if(!L)return;const O=t[L],P=(null==a?void 0:a[L])||(0,Yt.W)(O);return ge.createElement("div",{className:FC.addressContainer},v&&ge.createElement("span",{className:FC.addressLabel},ge.createElement("i",{className:Tr(FC.icon,"icon-eye-filled"),"aria-hidden":!0}),c("$view_mode")),g&&ge.createElement("i",{className:Tr(FC.icon,"icon-ledger"),"aria-hidden":!0}),ge.createElement("button",{type:"button",className:Tr(FC.address,i&&"gradientText"),"aria-label":c("Copy wallet address"),onClick:()=>k(O)},ge.createElement("img",{src:Nw(L),alt:"",className:FC.chainIcon}),P,ge.createElement("i",{className:Tr(FC.icon,"icon-copy"),"aria-hidden":!0})),ge.createElement("a",{href:Qo(L,O,o),className:FC.explorerButton,title:w,"aria-label":w,target:"_blank",rel:"noreferrer noopener",onClick:cc},ge.createElement("i",{className:Tr(FC.icon,"icon-tonexplorer-small"),"aria-hidden":!0})))}))),WC=fe(je((e=>({currentCurrency:e.settings.baseCurrency})))((function(t){let{isOpen:n,currentCurrency:a,excludedCurrency:o,menuPositionX:r,onClose:i,onChange:s}=t;const{changeBaseCurrency:c}=Ke(),l=de((()=>Object.entries(e.yR2).filter((e=>{let[t]=e;return t!==o})).map((e=>{let[t,{name:n}]=e;return{value:t,name:n}}))),[o]),d=Wo((e=>{i(),e!==a&&(c({currency:e}),null==s||s(e))}));return ge.createElement(Mh,{isOpen:n,items:l,shouldTranslateOptions:!0,selectedValue:a,menuPositionX:r,className:FC.currencySwitcherMenu,onClose:i,onSelect:d})}))),HC={root:"UUXTSSNb",sticky:"GydVN6zu",image:"GnuUYTcY",borderShine_down:"eZtdmQCz",borderShineDown:"eZtdmQCz",borderShine_left:"u_5j0LEw",borderShineLeft:"u_5j0LEw",borderShine_up:"DBu8v2wg",borderShineUp:"DBu8v2wg",borderShine_right:"iOyJF5OB",borderShineRight:"iOyJF5OB",borderShine_radioactive:"omctwMWw",borderShineRadioactive:"omctwMWw",shadow:"rm7OVuVh"},$C=fe((function(e){var t;let{isSticky:n,nft:a,noShowAnimation:o,shouldHide:r,onLoad:i,onTransitionEnd:s}=e;const{imageUrl:c}=nv(a?Zo(a):void 0),[l,d]=ju(),u=Ep(o||l&&!r),{borderShineType:m,withTextGradient:p,classNames:f}=av(a),h=Tr(HC.root,n&&HC.sticky,f,m&&HC[`borderShine_${m}`],l&&!r&&HC.loaded,r&&HC.hide),g="standard"===(null===(t=a.metadata)||void 0===t?void 0:t.mtwCardType);return ge.createElement("div",{ref:u,className:h,onTransitionEnd:s},c&&ge.createElement("img",{src:c,alt:a.name,className:HC.image,onLoad:function(){d(),null==i||i(p,f)}}),g&&ge.createElement("div",{className:HC.shadow}))})),VC=fe((function(e){let{isSticky:t,nft:n,onCardChange:a}=e;const o=me(void 0),r=ve();Ms((e=>{let[t,r]=e;(null==n?void 0:n.address)!==r&&(o.current=t),n||a(!1,void 0)}),[n,null==n?void 0:n.address]);const i=o.current,s=me(!0),c=n&&s.current;s.current=!1;const l=Wo((()=>{o.current=void 0,r()}));return ge.createElement("div",{teactFastList:!0},i&&ge.createElement($C,{key:i.address,isSticky:t,nft:i,shouldHide:!n,onTransitionEnd:l}),n&&ge.createElement($C,{key:n.address,isSticky:t,nft:n,noShowAnimation:c,onLoad:a,onTransitionEnd:l}))})),zC={green:[80,135,51],orange:[173,84,54],pink:[154,60,144],purple:[104,48,149],red:[156,52,75],sea:[43,116,123],tegro:[3,93,229],blue:[47,108,173]},KC={[e.Tu9.slug]:"blue",[e.X7T.slug]:"red",[e.rUK]:"sea",[e.QSz]:"sea",[e.vsz]:"sea",[e.Bqy]:"green"};const qC=fe((function(e){let{width:t,height:n,prices:a,selectedIndex:o,className:r,imgClassName:i,onSelectIndex:s,isUpdating:c}=e;const l=Ar(),d=de((()=>{const e=a.map((e=>{let[,t]=e;return t})),t=Math.min(...e),n=Math.max(...e);return{width:a.length-1,height:Math.max(1e-9,n-t),min:t}}),[a]),u=de((()=>{const e=t/d.width,o=n/d.height;return a.map(((t,n)=>{let[,a]=t;return{x:n*e+3,y:(a-d.min)*o+3}}))}),[d.height,d.min,d.width,n,t,a]);function m(e){const t=u.length-1,n=e<0?0:e>t?t:e,a=u[n],o=.9999,r=n/t,i=u[0],s=u[t].x-i.x,c=u[t].y-i.y;return{x:o*a.x+(1-o)*(i.x+r*s),y:o*a.y+(1-o)*(i.y+r*c)}}function p(e){const t=m(e),n=m(e-1),a=m(e-2);return`C ${(2*a.x+n.x)/3} ${(2*a.y+n.y)/3} ${(a.x+2*n.x)/3} ${(a.y+2*n.y)/3} ${(a.x+4*n.x+t.x)/6} ${(a.y+4*n.y+t.y)/6}`}function f(e){const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),{clientX:a}="touches"in e?e.touches[0]:e,o=a-t-n/u.length/2,r=Math.max(0,Math.min(Math.round(u.length*(o/n)),u.length-1));s(r)}function h(){s(-1),co()}return ge.createElement("div",{className:r,onMouseMove:f,onMouseLeave:h,onTouchStart:function(e){f(e),so()},onTouchMove:f,onTouchEnd:h,onTouchCancel:h},ge.createElement(ff,{activeKey:c?1:0,name:"semiFade",shouldCleanup:!0},ge.createElement("img",{src:function(){const e=u[o]||u[u.length-1];return`data:image/svg+xml;utf8,<svg viewBox="0 0 ${t+6} ${n+6}" height="${n+6}" width="${t+6}"\n        xmlns="http://www.w3.org/2000/svg" style="transform: scale(1,-1)">\n        <g fill="none" stroke="white">\n          <path stroke-linejoin="round" stroke-width="1.5" d="${function(){let e=u.reduce(((e,t,n)=>{const a=p(n);return 0===n?`M ${t.x} ${t.y} `:`${e} ${a} `}),"");return e+=p(u.length),e+=`L ${(t=u[u.length-1]).x} ${t.y}`,e;var t}()}" style="stroke-linecap: round" />\n          <circle r="2.5" fill="white" cx="${e.x}" cy="${e.y}" />\n        </g>\n      </svg>`}(),className:Tr(i,c&&"glare-image"),alt:l("Currency History")})))})),jC=e.Kfi.map((e=>({value:e,name:"ALL"===e?"All":e}))),YC=fe(je((e=>{const t=ct(e);return{currentPeriod:null==t?void 0:t.currentTokenPeriod}}))((function(e){let{isOpen:t,currentPeriod:n,onClose:a,onChange:o}=e;const{setCurrentTokenPeriod:r}=Ke(),i=Wo((e=>{a(),e!==n&&(il(),r({period:e}),null==o||o(e))}));return ge.createElement(Mh,{isOpen:t,onClose:a,items:jC,className:"Lfs6oB99",bubbleClassName:"EJsuJXfx",buttonClassName:"J7O_MmwF",selectedValue:n,menuPositionX:"right",onSelect:i})}))),GC=12e4,QC=5*Oa.Z2,XC=e.Kfi[0],JC=fe(je(((e,t)=>{var n;const a=t.token.slug,o=ct(e),r=null===(n=e.tokenInfo.bySlug[a])||void 0===n?void 0:n.tokenAddress,i=Ea(e,e.currentAccountId);return{isTestnet:e.settings.isTestnet,period:null==o?void 0:o.currentTokenPeriod,baseCurrency:e.settings.baseCurrency,historyPeriods:e.tokenPriceHistory.bySlug[t.token.slug],tokenAddress:r,stakingStates:i,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(t){let{ref:a,isTestnet:o,token:r,classNames:i,period:s=XC,isUpdating:c,baseCurrency:l,historyPeriods:d,tokenAddress:u,stakingStates:m,isSensitiveDataHidden:p,onYieldClick:f,onClose:h}=t;const{loadPriceHistory:g}=Ke(),v=Ar(),w=ve(),[y,b,E]=ju(!1),[k,C,N]=ju(!1),S=void 0===l||l===r.symbol,A=ur(S?e.wOb:l),[T,I]=ie(-1);Ee((e=>{let[t]=e;n.pz&&void 0!==t&&il()}),[T]);const{slug:B,symbol:_,amount:x,name:D,price:L,decimals:O}=r,{annualYield:P,yieldType:M,id:F}=de((()=>{if(!e.TI6)return null==m?void 0:m.reduce(((e,t)=>t.tokenSlug===B&&(!e||t.balance>e.balance)?t:e),void 0)}),[m,B])??{},R=Wo((e=>{g({slug:B,period:e??s})})),U=Wo((e=>{g({slug:B,period:s,currency:e})}));zh(R,QC);const W=null==d?void 0:d[s],H=null!=W&&W.length?1e3*W[W.length-1][0]:void 0,$=null!=W&&W.length?W[W.length-1][1]:L,V=null==W?void 0:W[T],z=(null==V?void 0:V[1])??(S?$:void 0)??L,K=p?L:z,q=!H||Date.now()-H>GC,j=V?(0,Oa.mf)(v.code,1e3*V[0],!0,!0):q&&H?(0,Oa.mf)(v.code,H,!0,!1):v("Now");Kh(w,q?void 0:GC,[H]);const Y=de((()=>{var e;return null==W||null===(e=W.find((e=>{let[,t]=e;return Boolean(t)})))||void 0===e?void 0:e[1]}),[W]),G=(0,Pt.CF)(x,O).mul(z),Q=G.toString(),X=Y&&z?z-Y:0,J=Y&&K?BC(G,Y&&K?K/Y-1:0).toNumber():0,Z=void 0===X?X:X>0?"↑":X<0?"↓":0,ee=J?Math.abs(Ft(J,4)):0,te=X?Math.abs(Ft(X/Y*100,2)):0,ne=Boolean(void 0!==X),ae=null!=W&&W.length?new Date(1e3*W[0][0]):void 0,oe=Boolean(r.cmcSlug||u),re=!(null!=W&&W.length)&&0===r.priceUsd,se=de((()=>function(e){let t="blue",n=1/0;if(!e)return t;if(KC[e.slug])return KC[e.slug];if(!e.color)return t;const a=Ap(e.color);return Object.entries(zC).forEach((e=>{let[o,r]=e;const i=function(e,t){const[n,a,o]=Tp(e),[r,i,s]=Tp(t),c=Math.sqrt(a*a+o*o),l=c-Math.sqrt(i*i+s*s),d=a-i,u=o-s,m=(n-r)/1,p=l/(1+.045*c),f=Math.sqrt(d*d+u*u-l*l)/(1+.015*c);return Math.sqrt(m*m+p*p+f*f)}(a,r);i<n&&(n=i,t=o)})),n>35?"blue":t}(r)),[r]);return ge.createElement("div",{ref:a,className:Tr(FC.container,FC.tokenCard,i,se,"token-card")},ge.createElement("div",{className:FC.tokenInfo},ge.createElement(Vs,{className:FC.backButton,isSimple:!0,onClick:h,ariaLabel:v("Back")},ge.createElement("i",{className:"icon-chevron-left","aria-hidden":!0})),ge.createElement(Bw,{token:r,size:"x-large",className:FC.tokenLogo}),ge.createElement("div",{className:FC.tokenInfoHeader},ge.createElement("b",{className:FC.tokenAmount},ge.createElement(Mw,{isActive:p,maskSkin:"cardLightText",cols:10,rows:2,cellSize:8},sr((0,Pt.nI)(x,r.decimals),_))),ne&&ge.createElement("div",{className:FC.tokenValue},ge.createElement(Mw,{isActive:p,maskSkin:"cardLightText",align:"right",cols:10,rows:2,cellSize:8},ge.createElement("div",{className:FC.currencySwitcher,role:"button",tabIndex:0,onClick:b},"≈ ",sr(Q,A,void 0,!0),ge.createElement("i",{className:Tr("icon","icon-caret-down",FC.iconCaretSmall),"aria-hidden":!0})),ge.createElement(WC,{isOpen:y,menuPositionX:"right",excludedCurrency:r.symbol,onClose:E,onChange:U})))),ge.createElement("div",{className:FC.tokenInfoSubheader},ge.createElement("span",{className:FC.tokenTitle},ge.createElement("span",{className:FC.tokenName},D),M&&ge.createElement("span",{className:Tr(FC.apy,f&&FC.interactive),onClick:f?()=>f(F):void 0},M," ",Ft(P??0,2),"%")),ne&&Boolean(ee)&&ge.createElement("div",{className:FC.tokenChange},Z," ",Math.abs(te),"% ·",ge.createElement(Mw,{isActive:p,align:"right",maskSkin:"cardLightText",cols:6,rows:2,cellSize:8,className:FC.tokenChangeSensitiveData,maskClassName:FC.tokenChangeSpoiler},sr(Math.abs(ee),A))))),ge.createElement(ff,{activeKey:W?W.length?e.Kfi.indexOf(s)+1:-1:0,name:"fade"},W?null!=W&&W.length?ge.createElement(ge.Fragment,null,ge.createElement(qC,{className:FC.chart,imgClassName:FC.chartImg,width:300,height:64,prices:W,selectedIndex:T,onSelectIndex:I,isUpdating:c}),ge.createElement("div",{className:FC.tokenHistoryPrice},sr(W[0][1],A,2,!0),ge.createElement("div",{className:FC.tokenPriceDate},(0,Oa.mf)(v.code,ae)))):void 0:ge.createElement("div",{className:Tr(FC.isLoading)},ge.createElement(Qg,{color:"white",className:FC.center}))),ge.createElement("span",{className:Tr(FC.periodChooser,re&&FC.periodChooserHidden),role:"button",tabIndex:0,onClick:C},"ALL"===s?"All":s,ge.createElement("i",{className:Tr("icon","icon-caret-down",FC.iconCaretSmall),"aria-hidden":!0}),ge.createElement(YC,{isOpen:k,onChange:R,onClose:N})),ge.createElement("div",{className:FC.tokenCurrentPrice},sr(z,A,-1===T?2:4,!0),ge.createElement("div",{className:FC.tokenPriceDate},j,oe&&function(){const e=function(e,t,n,a){if(t||n)return n?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ko[e].explorer.replace("{base}",Yo(e,t))}(e,a).replace("{address}",n):`https://coinmarketcap.com/currencies/${t}/`}(r.chain,r.cmcSlug,u,o);if(!e)return;const t=v("Open on %ton_explorer_name%",{ton_explorer_name:jo(r.chain)}).join("");return ge.createElement(ge.Fragment,null," · ",ge.createElement("a",{href:e,title:t,"aria-label":t,target:"_blank",rel:"noreferrer",className:FC.tokenExplorerButton,onClick:cc},ge.createElement("i",{className:"icon-tonexplorer-small","aria-hidden":!0})))}())))}))),ZC=fe(je((e=>{const t=ct(e),n=Ea(e,e.currentAccountId),{cardBackgroundNft:a}=ut(e)||{};return{isViewMode:Tt(e),tokens:Ut(e),currentTokenSlug:null==t?void 0:t.currentTokenSlug,baseCurrency:e.settings.baseCurrency,stakingStates:n,cardNft:a,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{ref:a,tokens:o,currentTokenSlug:r,onTokenCardClose:i,onYieldClick:s,baseCurrency:c,stakingStates:l,isSensitiveDataHidden:d,isNftBuyingDisabled:u,cardNft:m,isViewMode:p}=t;const f=me(),h=ur(c),[g,v]=ie(void 0),[w,y]=ie(!1),{isPortrait:b}=ui(),{width:E}=Zu(),k=xC("balanceUpdateStartedAt"),{updateFontScale:C}=CE(f),N=b?E:0,[S,A,T]=ju(!1),I=Sh(de((()=>o?o.find((e=>e.slug===r)):void 0),[r,o]),!0),{shouldRender:B,ref:_}=Rs({isOpen:Boolean(r),noMountTransition:!0,withShouldRender:!0}),x=function(e){const{mtwCardType:t,mtwCardTextType:n}=(null==e?void 0:e.metadata)||{};return"gold"===t?"cardGoldText":"silver"===t||"dark"===n?"cardDarkText":"cardLightText"}(m),D=Wo(((e,t)=>{v(t),y(e)})),L=de((()=>o?_C(o,l):void 0),[o,l]);zi({isActive:Boolean(r),onBack:i}),ce((()=>B?Ih(i):void 0),[B,i]);const{primaryValue:O,primaryWholePart:P,primaryFractionPart:M,changePrefix:F,changePercent:R,changeValue:U}=L||{};return le((()=>{void 0!==O&&C()}),[M,O,P,h,C,N]),ge.createElement("div",{ref:a,className:FC.containerWrapper},ge.createElement(ff,{activeKey:k?1:0,name:"fade",shouldCleanup:!0,className:FC.loadingDotsContainer},k?ge.createElement(Hs,{isActive:!0,isDoubled:!0}):void 0),ge.createElement("div",{className:Tr(FC.container,r&&FC.backstage,g)},ge.createElement(VC,{nft:m,onCardChange:D}),ge.createElement("div",{className:Tr(FC.containerInner,g)},L?function(){const e=Tr("icon","icon-caret-down",M||h.length>1?FC.iconCaretFraction:FC.iconCaret),t=!k||n.Yw||n.pz;return ge.createElement(ge.Fragment,null,ge.createElement(ff,{ref:f,activeKey:k&&!d?1:0,name:"fade",shouldCleanup:!0,className:FC.balanceTransition,slideClassName:FC.balanceSlide},ge.createElement(Mw,{isActive:d,maskSkin:x,rows:4,cols:14,cellSize:13,align:"center",maskClassName:FC.blurred},ge.createElement("div",{className:Tr(FC.primaryValue,"rounded-font")},ge.createElement("span",{className:Tr(FC.currencySwitcher,k&&"glare-text",!k&&w&&"gradientText"),role:"button",tabIndex:0,onClick:d?void 0:A},1===h.length&&ge.createElement("span",{className:FC.currencySymbol},h),ge.createElement(MC,{isDisabled:t,text:P??""}),M&&ge.createElement("span",{className:FC.primaryFractionPart},ge.createElement(MC,{isDisabled:t,text:`.${M}`})),h.length>1&&ge.createElement("span",{className:FC.primaryFractionPart}," ",h),ge.createElement("i",{className:e,"aria-hidden":!0}))))),ge.createElement(WC,{isOpen:S,menuPositionX:"right",onClose:T}),"0"!==O&&ge.createElement(Mw,{isActive:d,maskSkin:x,rows:2,cols:11,align:"center",cellSize:14,className:FC.changeSpoiler,maskClassName:FC.blurred},ge.createElement("div",{className:Tr(FC.change,"rounded-font")},!!F&&ge.createElement(ge.Fragment,null,ge.createElement("i",{className:Tr(FC.changePrefix,"up"===F?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0}),ge.createElement(MC,{text:`${Math.abs(R)}%`})," · "),ge.createElement(MC,{text:sr(Math.abs(U),h)}))))}():ge.createElement("div",{className:Tr(FC.isLoading)},ge.createElement(Qg,{color:"white",className:FC.center})),ge.createElement(UC,{withTextGradient:w}),!e.TI6&&!u&&!p&&ge.createElement(LC,null))),B&&ge.createElement(JC,{token:I,ref:_,isUpdating:k,onYieldClick:p?void 0:s,onClose:i}))})));function eN(e,t){if(!e)return null;const n=function(e){return e?".app-slide-content":`.custom-scroll.${mf}`}(t);return t?e.closest(n):e.matches(n)?e:e.querySelector(n)}function tN(e,t){return e&&t?".app-slide-content":void 0}const nN=fe((function(e){let{isOpen:t,selectedNftsToHide:n}=e;const{addNftsToBlacklist:a,closeNftCollection:o,closeHideNftModal:r}=Ke(),i=Ar(),s=Wo((()=>{a({addresses:n.addresses}),null!=n&&n.isCollection&&o(),r()}));return ge.createElement(Zs,{isOpen:t,isCompact:!0,onClose:r,title:i("Hide NFTs")},ge.createElement("p",{className:Ks.text},null!=n&&n.isCollection?i("Are you sure you want to hide this NFT collection containing %number% NFTs?",{number:null==n?void 0:n.addresses.length}):i("Are you sure you want to hide these %number% NFTs?",{number:null==n?void 0:n.addresses.length})),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:r,className:Ks.button},i("Cancel")),ge.createElement(Vs,{isDestructive:!0,onClick:s,className:Ks.button},i("Hide"))))}));function aN(e,t,n,a){const{length:o}=e,r=a?e.indexOf(a):0,i=t===jn.Forwards?r:r+1||o,s=Math.max(0,i-n),c=i+n-1,l=e.slice(Math.max(0,s),c+1);let d,u;switch(t){case jn.Forwards:d=i>=0,u=s>=0;break;case jn.Backwards:d=i<o,u=c<=o-1}return{newViewportIds:l,areSomeLocal:d,areAllLocal:u,newIsOnTop:l[0]===e[0]}}const oN=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const l=me();if(!l.current&&t&&!a){const{newViewportIds:e,newIsOnTop:n}=aN(t,jn.Forwards,o,t[0]);l.current={viewportIds:e,isOnTop:n}}const d=ve(),u=nb(r),m=Wo((()=>{if(null==t||!t.length)return;const{newViewportIds:e,newIsOnTop:n}=aN(t,jn.Forwards,o,t[0]);l.current={viewportIds:e,isOnTop:n}}));Ee((()=>{(r!==u||s&&!i)&&m()}),[i,u,r,s]);const p=be(t),f=be(a);if(!t||a||t===p&&a===f)t||(l.current=void 0);else{const{viewportIds:e,isOnTop:n}=l.current??{},{newViewportIds:a,newIsOnTop:r}=function(e,t,n,a){if(n)return a=Math.max(a,((null==t?void 0:t.length)??0)-1),aN(e,jn.Backwards,a,e[0]);let o=null==t?void 0:t[Math.round(t.length/2)];return o&&!e.includes(o)&&(o=e[0]),aN(e,jn.Forwards,a,o)}(t,e,n,o);e&&(0,c.k)(e,a)||(l.current={viewportIds:a,isOnTop:r})}const h=Wo((n=>{let{direction:a}=n;if(!i)return;const{viewportIds:r}=l.current||{},s=r?a===jn.Backwards?r[r.length-1]:r[0]:void 0;if(!t)return void(e&&e({offsetId:s}));const{newViewportIds:u,areSomeLocal:m,areAllLocal:p,newIsOnTop:f}=aN(t,a,o,s);!m||r&&(0,c.k)(r,u)||(l.current={viewportIds:u,isOnTop:f},d()),!p&&e&&e({offsetId:s})}));return a?[t]:[null===(n=l.current)||void 0===n?void 0:n.viewportIds,h,m]},rN=(e,t,n)=>{const a=me();return le((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)},iN=".ListItem",sN=20,cN=800,lN=e=>{let{ref:t,style:a,className:o,items:r,itemSelector:i=iN,preloadBackwards:s=sN,sensitiveArea:c=cN,withAbsolutePositioning:d,maxHeight:u,noScrollRestore:m=!1,noScrollRestoreOnTop:p=!1,noFastList:f,cacheBuster:h,beforeChildren:g,scrollContainerClosest:v,children:w,onLoadMore:y,onScroll:b,onWheel:E,onClick:C,onKeyDown:N,onDragOver:S,onDragLeave:A}=e,T=me();t&&(T=t);const I=me({}),[B,_]=de((()=>y?[(0,l.sg)((()=>{y({direction:jn.Backwards})}),Oa.Z2,!0,!1),(0,l.sg)((()=>{y({direction:jn.Forwards})}),Oa.Z2,!0,!1)]:[]),[y,r]);ce((()=>{if(!B)return;if(s>0&&(!r||r.length<s))return void B();const e=v?T.current.closest(v):T.current,{scrollHeight:t,clientHeight:n}=e;n&&t<=n&&B()}),[r,B,s,v]),rN((e=>{let[t]=e;const a=v?T.current.closest(v):T.current,o=I.current,r=a.querySelectorAll(i);o.listItemElements=r,null!=t&&t.length&&(0,k.gm)((()=>{let e;if(o.currentAnchor&&Array.from(r).includes(o.currentAnchor)){const{scrollTop:t}=a,n=o.currentAnchor.getBoundingClientRect().top;e=t+(n-o.currentAnchorTop)}else{const e=r[0];e&&(o.currentAnchor=e,o.currentAnchorTop=e.getBoundingClientRect().top)}if(d||m)return;const{scrollTop:t}=a;return p&&0===t?void 0:()=>{((e,t)=>{n.pz&&(e.style.overflow="hidden"),void 0!==t&&(e.scrollTop=t),n.pz&&(e.style.overflow="")})(a,e),o.isScrollTopJustUpdated=!0}}))}),[r,i,m,p,h,d,v]);const x=Wo((e=>{if(_&&B){const{isScrollTopJustUpdated:e,currentAnchor:t,currentAnchorTop:n}=I.current,a=I.current.listItemElements;if(e)return void(I.current.isScrollTopJustUpdated=!1);const o=a.length,r=v?T.current.closest(v):T.current,{scrollTop:i,scrollHeight:s,offsetHeight:l}=r,d=i<=(o?a[0].offsetTop:0)+c,u=(o?a[o-1].offsetTop+a[o-1].offsetHeight:s)-(i+l)<=c;let m=!1;if(d){const e=a[0];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o>n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,_())}}if(u){const e=a[o-1];if(e){const a=e.getBoundingClientRect().top,o=null!=t&&t.offsetParent&&t!==e?t.getBoundingClientRect().top:a;t&&void 0!==n&&o<n&&(I.current.currentAnchor=e,I.current.currentAnchorTop=a,m=!0,B())}}if(!m)if(null!=t&&t.offsetParent)I.current.currentAnchorTop=t.getBoundingClientRect().top;else{const e=a[0];e&&(I.current.currentAnchor=e,I.current.currentAnchorTop=e.getBoundingClientRect().top)}}b&&b(e)}));return le((()=>{if(!v)return;const e=T.current.closest(v);if(!e)return;const t=e=>x(e);return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[x,v]),ge.createElement("div",{ref:T,className:o,onScroll:x,onWheel:E,teactFastList:!f&&!d,onKeyDown:N,onDragOver:S,onDragLeave:A,onClick:C,style:a},g,d&&null!=r&&r.length?ge.createElement("div",{teactFastList:!f,style:bp("position: relative",n.Ni&&void 0!==u&&`height: ${u}`)},w):w)},dN="qI7nEtyA",uN="t2U79mme",mN="a2p7XeQH",pN="xJCALuqk";function fN(e){setTimeout((()=>{(0,k.RK)((()=>{e.classList.remove(mN,pN),e.style.opacity="",e.style.transform=""}))}),250)}const hN=function(e){let{topOffset:t,withAnimation:n,children:a}=e;const{ref:o}=function(e,t){const n=me();return rN((a=>{let[o]=a;const r=n.current;e&&r&&(void 0===o?(function(e){e.style.opacity="0",(0,k.RK)((()=>{e.classList.add(mN),e.style.opacity="1"}))}(r),fN(r)):t!==o&&(function(e,t){e.style.transform=`translate3d(0, ${-t}rem, 0)`,(0,k.RK)((()=>{e.classList.add(pN),e.style.transform=""}))}(r,t-o),fN(r)))}),[t,e]),{ref:n}}(n,t);return ge.createElement("div",{ref:o,style:`top: ${t}rem`,className:Tr("ListItem","ebD9lZA7")},a)},gN={container:"k3PjQTgC",panel:"ZX_ET6v1",emptyList:"y3OrMGkQ",text:"W7PJUQAi",header:"vhx2gdHr",description:"iQxbUd1C"},vN=fe((function(t){let{isActive:n,isMutlichainAccount:a,mode:o}=t;const r=Ar();return ge.createElement("div",{className:Tr(gN.container,gN[o])},ge.createElement($p,{play:n,tgsUrl:fp.hello,previewUrl:fp.helloPreview,nonInteractive:!0,noLoop:!1,size:"emptyList"===o?e.igk:e.jzp}),ge.createElement("div",{className:gN.text},ge.createElement("p",{className:gN.header},r(a?"You have just created a new multichain wallet":"You have just created a new wallet")),ge.createElement("p",{className:gN.description},r(a?"Now you can transfer tokens from your TON and TRON wallets.":"You can now transfer your tokens from another wallet or exchange."))))})),wN=2.625*n.$,yN="date:",bN=Object.freeze([]),EN=Object.freeze({}),kN=fe(je((e=>{var t;const n=e.currentAccountId,a=ct(e),o=ut(e),r=null==a?void 0:a.currentTokenSlug,i=Ca(e,n),{byId:s}=(null==a?void 0:a.activities)??{},{byAddress:c}=(null==a?void 0:a.nfts)||{},l=tt(e),d=Sn(e,n,r),u=function(e,t,n){var a;const{idsMain:o,idsBySlug:r}=(null===(a=lt(e,t))||void 0===a?void 0:a.activities)??{};return n?null==r?void 0:r[n]:o}(e,n,r);return{isMultichainAccount:Ct(e,e.currentAccountId),currentAccountId:n,slug:r,byId:s,allActivityIds:u,tokensBySlug:e.tokenInfo.bySlug,swapTokensBySlug:null===(t=e.swapTokenInfo)||void 0===t?void 0:t.bySlug,areTinyTransfersHidden:e.settings.areTinyTransfersHidden,savedAddresses:null==a?void 0:a.savedAddresses,isHistoryEndReached:d,currentActivityId:null==a?void 0:a.currentActivityId,alwaysShownSlugs:null==o?void 0:o.alwaysShownSlugs,theme:e.settings.theme,baseCurrency:e.settings.baseCurrency,stakingStateBySlug:i,isSensitiveDataHidden:e.settings.isSensitiveDataHidden,nftsByAddress:c,accounts:l}}),((t,n,a)=>{let{totalTokensAmount:o}=n;const r=ct(t),i=o<=(mi()?e.nj6:e.hUs);return a(((null==r?void 0:r.activeContentTab)===Kn.Activity||(null==r?void 0:r.activeContentTab)===Kn.Assets&&i)&&t.currentAccountId)}))((function(t){let{isActive:a,currentAccountId:o,isMultichainAccount:r,slug:i,byId:s,allActivityIds:l,tokensBySlug:d,swapTokensBySlug:u,areTinyTransfersHidden:m,currentActivityId:p,savedAddresses:f,isHistoryEndReached:h,alwaysShownSlugs:g,theme:v,baseCurrency:w,isSensitiveDataHidden:y,stakingStateBySlug:b,nftsByAddress:E,accounts:k,onScroll:C}=t;const{fetchPastActivities:N,showActivityInfo:S}=Ke(),A=Ar(),{isLandscape:T,isPortrait:I}=ui(),B=me(),_=xC("activitiesUpdateStartedAt"),x=Sf(v),D=me(!1),L=de((()=>{const e=function(e,t,n,a,o,r){return e.filter((e=>{const i=null==t?void 0:t[e];return!!i&&(null==i||!i.shouldHide)&&("swap"===(null==i?void 0:i.kind)?!n||i.from===n||i.to===n:(null==i?void 0:i.slug)&&(!n||i.slug===n)&&(!o||n&&0===(null===(s=a[i.slug])||void 0===s?void 0:s.priceUsd)||!Rd(i,a[i.slug])||(null==r?void 0:r.includes(i.slug)))&&!Zt(i));var s}))}(l??bN,s??EN,i,d,m,g);if(e.length||h)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=1/0;const a=[];for(const o of e){const e=(0,Oa.CS)(t[o].timestamp);e<n&&(n=e,a.push(`${yN}${e}`)),a.push(o)}return a}(e,s)}),[m,s,g,l,i,d,h]),O=null==L?void 0:L[0],P=Wo((()=>{N({slug:i,shouldLoadWithBudget:!0})})),[M,F,R]=oN(P,L,void 0,30,i,a),U=function(e,t){const n=me();return n.current??={},Ms((a=>{let[o=[],r={}]=a;const i=n.current,s=(0,c.oE)(o.map((e=>r[e]))),l=(0,c.oE)(e.map((e=>t[e]))),d=(0,c.V6)(wn(s,l));for(const{id:e}of l){const t=d[e];i[e]=(t&&i[t])??(0,we.A)()}const u=new Set(e);for(const e of Object.keys(i))u.has(e)||delete i[e]}),[e,t]),Wo((e=>{var t;return(null===(t=n.current)||void 0===t?void 0:t[e])??e}))}(M??bN,s??EN),W=Boolean(a&&!D.current),H=de((()=>{const e={};let t=0;return null==L||L.forEach(((n,a)=>{const o=n.startsWith(yN)?2.125+(0===a?.5:0):uy(s[n]);e[n]={top:t,height:o},t+=o})),e}),[s,L]),$=de((()=>{if(null==M||!M.length)return 0;const e=M[M.length-1],t=H[e];return t?t.top+t.height:0}),[H,M]);!function(e,t,a,o,r){rN((i=>{var s,c;let[l]=i;const d=eN(o.current,a);if(!(r.current&&d&&l&&e.length))return;const u=e[Math.floor(e.length/2)],m=null===(s=l[u])||void 0===s?void 0:s.top,p=null===(c=t[u])||void 0===c?void 0:c.top;void 0!==m&&void 0!==p&&m!==p&&(0,Ir.Uj)((()=>{d.scrollBy({top:(p-m)*n.$,behavior:"instant"})}))}),[t,e,o,r,a])}(M??bN,H,I,B,D),le((()=>{const e=B.current;e&&Bs(e,{height:T?"":`${$}rem`})}),[T,$]),ce((()=>{null!=L&&L.length||P()}),[i,l,L,P]),ce((()=>{a||T||(null==R||R(),D.current=!1)}),[a,T,R]);const V=Wo((e=>{const t=e.target.scrollTop;D.current=t>=wN,null==C||C(e)})),z=Wo((e=>{S({id:e})}));if(o)return void 0===L?ge.createElement("div",{className:Tr(dN,"BUMeW3vl")},ge.createElement(Qg,null)):L.length?ge.createElement(lN,{ref:B,className:Tr("custom-scroll","fUr4n5dv"),scrollContainerClosest:tN(a,I),items:M,preloadBackwards:30,withAbsolutePositioning:!0,maxHeight:`${$}rem`,onLoadMore:F,onScroll:V},function(){if(M)return M.map(((e,t)=>{var n;const a=(null===(n=H[e])||void 0===n?void 0:n.top)??0;let i;if(e.startsWith(yN))i=function(e,t){const n=(0,Oa.N5)(A,e),a=ge.createElement("div",{className:uN},n);if(!t)return a;const o=ge.createElement("div",{className:Tr(uN,"vFLWFB14")},n,ge.createElement(Hs,{isActive:!0,isDoubled:!0,className:"Ig34AhI2"}));return ge.createElement(ff,{name:"semiFade",activeKey:_?1:0,className:"ubrkPkql",slideClassName:"rHTS83Rc"},_?o:a)}(Number(e.slice(5)),e===O);else{const n=null==s?void 0:s[e];if(!n)return;const a=n.id===p,c=t===M.length-1||M[t+1].startsWith(yN);i=ge.createElement(dy,{activity:n,isLast:c,isActive:a,tokensBySlug:d,swapTokensBySlug:u,appTheme:x,isSensitiveDataHidden:y,nftsByAddress:E,currentAccountId:o,stakingStateBySlug:b,savedAddresses:f,withChainIcon:r,accounts:k,baseCurrency:w,onClick:z})}return ge.createElement(hN,{key:U(e),topOffset:a,withAnimation:W},i)}))}()):i?ge.createElement("div",{className:dN},ge.createElement($p,{play:a,tgsUrl:fp.noData,previewUrl:fp.noDataPreview,size:e.igk,className:"L93gae4c",noLoop:!1,nonInteractive:!0}),ge.createElement("p",{className:"ddnxH_YM"},A("No Activity"))):ge.createElement("div",{className:Tr(T&&"HZCBxAlC")},ge.createElement(vN,{isActive:a,isMutlichainAccount:r,mode:T?"emptyList":"panel"}))}))),CN={container:"y_zyRtG4",button:"mDOHosrF",vestingIcon:"vKLHR9fe",percent:"JLnToFoo",readyToClaim:"T4MfMcFP",active:"gcp9pSal",iconArrow:"zzgzZR90",iconChevron:"WLJ2jON8",primaryCell:"MWjR4yCQ",secondaryCell:"zBTGbg76",subtitle:"v9EXZKHv",amountChange:"fvwKm83g",name:"IJaceq0j",name_text:"JMnoFXEt",nameText:"JMnoFXEt",secondaryValue:"yB7hzLme",secondaryValue_staked:"Fy56cR9i",secondaryValueStaked:"Fy56cR9i",change:"ka5acfM4",change_up:"VR0vGdiX",changeUp:"VR0vGdiX",change_down:"osD2vwqW",changeDown:"osD2vwqW",dot:"zJntRecr",label:"jN5w9AWO",apyLabel:"xWg00BgF",apyLabel_staked:"UeDUf_9U",apyLabelStaked:"UeDUf_9U",chainLabel:"B9HfGrEc",tokenIcon:"BcTpLjhN",secondaryValue_vesting:"rE0JGav4",secondaryValueVesting:"rE0JGav4",secondaryValue_vestingUnfreeze:"LHgVJV2I",secondaryValueVestingUnfreeze:"LHgVJV2I",wrapperVisible:"n7iUgDe0",menu:"ilWFIqJF"},NN=7*Oa.d_,SN="open-context-menu",AN=fe((function(t){let{ref:n,token:a,amount:o,stakingStatus:r,stakingState:i,vestingStatus:s,unfreezeEndDate:l,annualYield:d,isInvestorView:u,classNames:m,style:p,appTheme:f,isActive:h,baseCurrency:g,withChainIcon:v,withContextMenu:w,isSensitiveDataHidden:y,isStakingAvailable:b,isSwapDisabled:E,isViewMode:k,yieldType:C,onClick:N}=t;const{symbol:S,slug:A,amount:T,price:I,change24h:B,decimals:_}=a,x=Ar(),{isPortrait:D}=ui();let L=me();const O=me(),P=Boolean(null==s?void 0:s.length),M=o??(0,Pt.nI)(T,_,!0),F=(0,Mt.z)(M).mul(I).toString(),R=B>0?CN.change_up:B<0?CN.change_down:void 0,U=Math.abs(Ft((W=Number(F))-W/(1+B),4));var W;const H=Math.abs(Ft(100*B,2)),$=!e.TI6&&void 0!==d,V=ur(g),z=Boolean(!P&&e.OZB[A]),K=null==i?void 0:i.id,q=function(t,n,a){return a?n.slug===e.wpN.slug?t("%token% Staking",{token:"Ethena"})[0]:t("%token% Staking",{token:n.name})[0]:n.name}(x,a,!!K),j=de((()=>pw(4,12,q)),[q]),Y=5+j%6;n&&(L=n);const{shouldRender:G,ref:Q}=Rs({isOpen:$,withShouldRender:!0}),X=Wo((()=>{N(K??A)})),J=Wo((()=>L.current)),Z=Wo((()=>document.body)),ee=Wo((()=>O.current)),te=Wo((()=>({withPortal:!0,doNotCoverTrigger:D,topShiftY:D?void 0:4,preferredPositionX:"left"}))),{isContextMenuOpen:ne,isContextMenuShown:ae,contextMenuAnchor:oe,items:re,isBackdropRendered:ie,handleBeforeContextMenu:se,handleContextMenu:ce,handleContextMenuClose:le,handleContextMenuHide:ue,handleMenuItemSelect:pe}=function(t,n){const{openReceiveModal:a,startTransfer:o,startSwap:r,startStaking:i,openSettingsWithState:s,toggleTokenVisibility:l,setLandscapeActionsActiveTabIndex:d,setReceiveActiveTab:u,startUnstaking:m,startStakingClaim:p}=Ke(),{token:f,isPortrait:h,withContextMenu:g,isStakingAvailable:v,isSwapDisabled:w,isViewMode:y,stakingState:b}=n,{isContextMenuOpen:E,contextMenuAnchor:k,handleBeforeContextMenu:C,handleContextMenu:N,handleContextMenuClose:S,handleContextMenuHide:A}=wC({elementRef:t,isMenuDisabled:!g}),T=ta(f),I=null==b?void 0:b.id,B=void 0!==k,_=b?"readyToClaim"===Xd(b):void 0,x="jetton"===(null==b?void 0:b.type)?!!b.unclaimedRewards:void 0,D=de((()=>{const e=[!I&&{name:"Hide",fontIcon:"eye-closed",value:"hide"},{name:"Manage Tokens",fontIcon:"menu-params",withDelimiter:!(y&&I),value:"settings"}];if(y)return(0,c.oE)(e);const t=I?[("ethena"!==(null==b?void 0:b.type)||!_)&&{name:"ethena"===(null==b?void 0:b.type)?"Request Unstaking":"Unstake",fontIcon:"menu-send",value:"unstake"},{name:"Stake More",fontIcon:"menu-receive",value:"stakeMore"},(_||x)&&{name:"Claim Rewards",fontIcon:"menu-gem",value:"claimRewards"}]:[!T&&{name:"Add / Buy",fontIcon:"menu-plus",value:"add"},{name:"Send",fontIcon:"menu-send",value:"send"},!w&&{name:"Swap",fontIcon:"menu-swap",value:"swap"},v&&{name:"Stake",fontIcon:"menu-percent",value:"stake"}];return(0,c.oE)(t.concat(e))}),[_,x,v,w,y,I,null==b?void 0:b.type,T]),L=Wo((t=>{switch(il(),t){case"add":h?a({chain:f.chain}):(u({chain:f.chain}),d({index:zn.Receive}));break;case"send":o({isPortrait:h,tokenSlug:f.slug});break;case"swap":r({tokenInSlug:f.slug,tokenOutSlug:f.slug===e.JhS?e.rKC:e.JhS});break;case"stake":case"stakeMore":i({tokenSlug:f.slug});break;case"settings":s({state:$n.Assets});break;case"hide":l({slug:f.slug,shouldShow:!1});break;case"unstake":m({stakingId:I});break;case"claimRewards":p({stakingId:I})}S()}));return{isContextMenuOpen:E,isContextMenuShown:B,contextMenuAnchor:k,items:D,isBackdropRendered:h&&E,handleBeforeContextMenu:C,handleContextMenu:N,handleContextMenuClose:S,handleContextMenuHide:A,handleMenuItemSelect:L}}(L,{token:a,isPortrait:D,withContextMenu:w,isStakingAvailable:b,isSwapDisabled:E,isViewMode:k,stakingState:i});function fe(){const e=Tr(CN.label,CN.apyLabel,r&&CN.apyLabel_staked);return ge.createElement("span",{ref:Q,className:e},C," ",Ft(d??0,2),"%")}function he(){if(0!==B)return ge.createElement("i",{className:Tr(CN.iconArrow,B>0?"icon-arrow-up":"icon-arrow-down"),"aria-hidden":!0})}function ve(){return"active"===r?ge.createElement("i",{className:Tr("icon-percent",CN.percent),"aria-hidden":!0}):"readyToClaim"===r?ge.createElement("i",{className:Tr("icon-check-alt",CN.readyToClaim),"aria-hidden":!0}):ge.createElement($p,{play:!0,size:e.wg4,className:CN.percent,nonInteractive:!0,noLoop:!1,tgsUrl:fp[f].iconClockPurple,previewUrl:fp[f].preview.iconClockPurple})}const we=Tr(CN.button,h&&CN.active,ne&&SN);return ge.createElement("div",{className:Tr(CN.container,m),style:p},ge.createElement(Cy,{isMenuOpen:ie,contentRef:L,contentClassName:CN.wrapperVisible}),u?ge.createElement(Vs,{ref:L,isSimple:!0,className:we,onMouseDown:se,onContextMenu:ce,onClick:X},ge.createElement(Bw,{size:"large",token:a,withChainIcon:v,className:CN.tokenIcon},ge.createElement(ge.Fragment,null,r&&ve(),s&&ge.createElement("i",{className:Tr("frozen"===s?"icon-snow":"icon-fire",CN.vestingIcon),"aria-hidden":!0}))),ge.createElement("div",{className:CN.primaryCell},ge.createElement("div",{className:CN.name},ge.createElement("span",{className:CN.nameText},q),G&&fe(),z&&ge.createElement("span",{className:Tr(CN.label,CN.chainLabel)},e.OZB[A])),ge.createElement("div",{className:CN.subtitle},ge.createElement(Mw,{isActive:y,cols:Y,rows:2,cellSize:8},ge.createElement(MC,{text:sr(M,S)})),ge.createElement("i",{className:CN.dot,"aria-hidden":!0}),ge.createElement(MC,{text:sr(I,V,void 0,!0)}))),ge.createElement("div",{className:CN.secondaryCell},ge.createElement(Mw,{isActive:y,cols:j,rows:2,cellSize:8,align:"right",className:Tr(CN.secondaryValue,r&&CN.secondaryValue_staked,P&&CN.secondaryValue_vesting,P&&"readyToUnfreeze"===s&&CN.secondaryValue_vestingUnfreeze)},ge.createElement(MC,{text:sr(F,V)})),l?ge.createElement("div",{className:Tr(CN.change,l-Date.now()<NN&&CN.change_down)},x("Unfreeze")," ",x("until %date%",{date:`${(0,Oa.TK)(x.code,l)}`})):ge.createElement(Mw,{isActive:y,cols:Y,rows:2,cellSize:8,align:"right",className:Tr(CN.change,R)},he(),ge.createElement(MC,{text:String(H)}),"%",ge.createElement("i",{className:CN.dot,"aria-hidden":!0}),ge.createElement(MC,{text:sr(U,V,void 0,!0)})))):function(){const t=(0,Mt.z)(M).mul(I),n=void 0!==d;return ge.createElement(Vs,{ref:L,isSimple:!0,className:we,onMouseDown:se,onContextMenu:ce,onClick:X},ge.createElement(Bw,{token:a,size:"large",withChainIcon:v,className:CN.tokenIcon},ge.createElement(ge.Fragment,null,r&&ve(),s&&ge.createElement("i",{className:Tr("frozen"===s?"icon-snow":"icon-fire",CN.vestingIcon),"aria-hidden":!0}))),ge.createElement("div",{className:CN.primaryCell},ge.createElement("div",{className:CN.name},ge.createElement("span",{className:CN.nameText},q),n&&fe(),z&&ge.createElement("span",{className:Tr(CN.label,CN.chainLabel)},e.OZB[A])),ge.createElement("div",{className:CN.subtitle},ge.createElement(MC,{text:sr(I,V,void 0,!0)}),!r&&ge.createElement(ge.Fragment,null,ge.createElement("i",{className:CN.dot,"aria-hidden":!0}),l?ge.createElement("span",{className:l-Date.now()<NN&&CN.change_down},x("Unfreeze")," ",x("until %date%",{date:`${(0,Oa.TK)(x.code,l)}`})):ge.createElement("span",{className:R},he(),ge.createElement(MC,{text:String(H)}),"%")))),ge.createElement("div",{className:CN.secondaryCell},ge.createElement(Mw,{isActive:y,cols:j,rows:2,cellSize:8,align:"right",className:Tr(CN.secondaryValue,r&&CN.secondaryValue_staked,P&&CN.secondaryValue_vesting,P&&"readyToUnfreeze"===s&&CN.secondaryValue_vestingUnfreeze)},ge.createElement(MC,{text:sr(M,S)})),ge.createElement(Mw,{isActive:y,cols:Y,rows:2,cellSize:8,align:"right",className:CN.subtitle},t.gt(0)?"≈":""," ",ge.createElement(MC,{text:sr(t,V,void 0,!0)}))))}(),w&&ae&&ge.createElement(Mh,{ref:O,withPortal:!0,shouldTranslateOptions:!0,isOpen:ne,items:re,menuAnchor:oe,bubbleClassName:CN.menu,fontIconClassName:CN.menuIcon,getTriggerElement:J,getRootElement:Z,getMenuElement:ee,getLayout:te,onSelect:pe,onClose:le,onCloseAnimationEnd:ue}))})),TN={wrapper:"EmokOdHM",wrapperLoading:"QP7e6eAO",emptyList:"XSZ9FBiN",emptyListSeparate:"SHa5wmx_",noTokens:"KNRqFMNX",noTokens_text:"XwRCmsa8",noTokensText:"XwRCmsa8",noTokens_header:"qDi9Fjks",noTokensHeader:"qDi9Fjks",noTokens_description:"Lxfq6_5v",noTokensDescription:"Lxfq6_5v",openSettingsButton:"L2IEb5c3"},IN=fe(je((e=>{var t;const n=e.currentAccountId,a=Ut(e),o=sa(e),r=ct(e),{isInvestorViewEnabled:i}=e.settings,s=Ea(e,n),c=Tt(e);return{tokens:a,swapTokens:o,vesting:null==r||null===(t=r.vesting)||void 0===t?void 0:t.info,isInvestorViewEnabled:i,currentTokenSlug:null==r?void 0:r.currentTokenSlug,baseCurrency:e.settings.baseCurrency,mycoin:Kt(e),isMultichainAccount:Ct(e,e.currentAccountId),isSensitiveDataHidden:e.settings.isSensitiveDataHidden,theme:e.settings.theme,states:s,isViewMode:c,isSwapDisabled:ua(e),isStakingDisabled:Aa(e)}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:n,tokens:a,swapTokens:o,vesting:r,isInvestorViewEnabled:i,isSeparatePanel:s,currentTokenSlug:l,onTokenClick:d,onStakedTokenClick:u,baseCurrency:m,mycoin:p,isMultichainAccount:f,isSensitiveDataHidden:h,theme:g,states:v,isViewMode:w,isSwapDisabled:y,isStakingDisabled:b,onScroll:E}=t;const k=Ar(),{openSettingsWithState:C}=Ke(),N=me(),S=Sh(a,!0),A=Sh(p,!0),T=de((()=>{if(S&&A)return S.find((e=>{let{slug:t}=e;return t===A.slug}))}),[A,S]),{isLandscape:I,isPortrait:B}=ui(),_=Sf(g),x=de((()=>e.TI6?[]:(null==v?void 0:v.filter(Jd))??[]),[v]),D=de((()=>x.reduce(((e,t)=>{const n=null==a?void 0:a.find((e=>{let{slug:n}=e;return n===t.tokenSlug}));return n&&(e[t.tokenSlug]={token:n,state:t}),e}),{})),[a,x]),L=de((()=>(0,c.dU)(o??[],"slug")),[o]),{shouldRender:O}=Rs({isOpen:Boolean(Object.keys(D).length),withShouldRender:!0}),{ref:P,shouldRender:M,amount:F,vestingStatus:R,unfreezeEndDate:U,onVestingTokenClick:W}=function(e){let{vesting:t,userMycoin:n,isDisabled:a}=e;const{loadMycoin:o,openVestingModal:r}=Ke(),i=!a&&Boolean(null==t?void 0:t.length),s=Boolean(n);ce((()=>{!s&&i&&o()}),[i,s]);const c=de((()=>{if(i)return _k(t,["frozen","ready"])}),[i,t]),l=de((()=>{if(i)for(const{parts:e}of t)for(const t of e)if("ready"===t.status)return new Date(t.timeEnd).getTime()}),[i,t]),{shouldRender:d,ref:u}=Rs({isOpen:Boolean(i&&s&&n&&"0"!==c),withShouldRender:!0});return{shouldRender:d,ref:u,amount:c,vestingStatus:l?"readyToUnfreeze":"frozen",unfreezeEndDate:l,onVestingTokenClick:Wo((()=>{r()}))}}({vesting:r,userMycoin:T,isDisabled:e.TI6}),H=de((()=>null==S?void 0:S.filter((e=>{let{isDisabled:t}=e;return!t})).map((e=>{let{slug:t}=e;return t}))),[S]),[$,V]=oN(void 0,H,void 0,void 0,void 0,n,B),z=de((()=>{if(!$)return-1;let e=H.indexOf($[0]);return O&&(e+=Object.keys(D).length),M&&e++,e}),[O,M,H,$,D]),K=de((()=>S?(0,c.dU)(S,"slug"):void 0),[S]),q=H&&H.length>30,j=de((()=>{if(q&&null!=$&&$.length&&!(z<0))return 4*(z+$.length)}),[z,null==$?void 0:$.length,q]);le((()=>{const e=N.current;e&&Bs(e,{height:j&&!I?`${j}rem`:""})}),[I,j]);const Y=Wo((()=>{C({state:$n.Assets})})),G=(0,c.dU)(v??[],"tokenSlug");return M||O||null!=H&&H.length?ge.createElement(lN,{ref:N,className:Tr(TN.wrapper,s&&!S&&TN.wrapperLoading),scrollContainerClosest:tN(n,B),items:$,itemSelector:".token-list-item",withAbsolutePositioning:q,maxHeight:void 0===j?void 0:`${j}rem`,onLoadMore:V,onScroll:E},!S&&ge.createElement("div",{key:"loading",className:s?TN.emptyListSeparate:TN.emptyList},ge.createElement(Qg,null)),M&&ge.createElement(AN,{ref:P,key:"vesting",token:T,vestingStatus:R,unfreezeEndDate:U,amount:F,isInvestorView:i,baseCurrency:m,appTheme:_,isSensitiveDataHidden:h,onClick:W}),O&&Object.values(D).map((e=>{let{state:t,token:n}=e;const{id:a,annualYield:o,yieldType:r}=t,s=Xd(t),c=eu(t);return ge.createElement(AN,{key:`staking-${a}`,token:n,stakingStatus:s,annualYield:o,yieldType:r,amount:(0,Pt.nI)(c,n.decimals),isInvestorView:i,baseCurrency:m,appTheme:_,isSensitiveDataHidden:h,withContextMenu:!0,isViewMode:w,isSwapDisabled:y,stakingState:t,onClick:u})})),null==$?void 0:$.map(((e,t)=>function(e,t){const n=q?`position: absolute; top: ${4*(z+t)}rem`:void 0,{annualYield:a,yieldType:o}=!(e.slug in D)&&G[e.slug]||{},r=Boolean(!b&&G[e.slug]),s=Boolean(L[e.slug]);return ge.createElement(AN,{classNames:"token-list-item",style:n,key:e.slug,token:e,annualYield:a,yieldType:o,isInvestorView:i,isActive:e.slug===l,baseCurrency:m,withChainIcon:f,appTheme:_,isSensitiveDataHidden:h,withContextMenu:!0,isViewMode:w,isStakingAvailable:r,isSwapDisabled:y||!s,onClick:d})}(K[e],t)))):ge.createElement("div",{className:TN.noTokens},ge.createElement($p,{tgsUrl:fp.noData,previewUrl:fp.noDataPreview,size:e.jzp,nonInteractive:!0,noLoop:!1,className:TN.sticker}),ge.createElement("div",{className:TN.noTokensText},ge.createElement("span",{className:TN.noTokensHeader},k("No tokens yet")),ge.createElement("span",{className:TN.noTokensDescription},k("$no_tokens_description")),ge.createElement(Vs,{onClick:Y,isPrimary:!0,isSmall:!0,className:TN.openSettingsButton},k("Add Tokens"))))}))),BN="aKYq5U9K",_N="_XXYEoWI",xN="bCLB_xx7",DN="ADFSqjjF",LN="L1JCMSY4",ON="vvSB5YmR",PN="X205Pp2C",MN="S3NdyNSK",FN="lRocmYkd",RN=fe(je((e=>{var t;const{byAddress:n,currentCollectionAddress:a,collectionTabs:o,dnsExpiration:r}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{};return{currentCollectionAddress:a,nfts:n,isTestnet:e.settings.isTestnet,isViewMode:Tt(e),collectionTabs:o,dnsExpiration:r}}),((e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=ct(e))||void 0===a?void 0:a.nfts)||{};return n(o)}))((function(t){let{currentCollectionAddress:n,nfts:a,isTestnet:o,isViewMode:r,collectionTabs:i,dnsExpiration:s}=t;const{closeNftCollection:l,selectNfts:d,startTransfer:u,burnNfts:m,openHideNftModal:p,addCollectionTab:f,removeCollectionTab:h,openDomainRenewalModal:g}=Ke(),v=Ar(),[w,y]=ie(),b=Boolean(w),E=me(),k=me(),C=n===e.X6R,N=de((()=>n&&a?Object.values(a).filter((e=>C&&e.isTelegramGift||e.collectionAddress===n)):[]),[n,C,a]),S=de((()=>{if(n!==e.nQN)return;const t=(0,ga.ZC)(N,void 0,s);return t?(0,Oa.GS)(t):void 0}),[N,n,s]),A=C?v("Telegram Gifts"):N[0].collectionName??v("Unnamed Collection"),T=de((()=>{const t=null==i?void 0:i.includes(n);return(0,c.oE)([!r&&{name:"Send All",value:"sendAll"},N[0].isOnFragment&&{name:"Fragment",value:"fragment",fontIcon:"external"},{name:"Getgems",value:"getgems",fontIcon:"external"},!C&&{name:jo("ton"),value:"tonExplorer",fontIcon:"external"},!r&&n===e.nQN&&{name:N.length>1?"Renew All":"Renew",value:"renew",description:S&&S<0?N.length>1?"$expired_many":"Expired":v("$expires_in %days%",{days:v("$in_days",S)},void 0,N.length)},!e.TI6&&{name:"Hide All",value:"hideAll"},!r&&{name:"Burn All",value:"burnAll",isDangerous:!0},{name:"Select All",value:"selectAll",withDelimiter:!0},{name:v(t?"Remove Tab":"Add Tab"),value:t?"removeTab":"addTab"}])}),[N,i,n,S,C,r,v]);zi({isActive:!0,onBack:l}),ce((()=>Ih(l)),[]);const I=Wo((()=>E.current)),B=Wo((()=>document.body)),_=Wo((()=>k.current)),x=Wo((()=>({withPortal:!0}))),D=Wo((t=>{switch(t){case"sendAll":u({nfts:N.filter((e=>{let{isOnSale:t}=e;return!t})),isPortrait:mi()});break;case"getgems":{const t=o?e.PKm:e.wln;ic(C?`${t}top-gifts`:`${t}collection/${n}`);break}case"tonExplorer":{const e=function(e,t){if(e)return`${Yo("ton",t)}nft/${e}`}(n,o);e&&ic(e);break}case"fragment":C?ic("https://fragment.com/gifts"):n===e.q5n[0]?ic("https://fragment.com/numbers"):n===e.q5n[1]?ic("https://fragment.com"):ic(`https://fragment.com/gifts/${A.toLowerCase().replace(/\W/g,"").replace(/s$/,"")}`);break;case"selectAll":d({addresses:N.filter((e=>{let{isOnSale:t}=e;return!t})).map((e=>{let{address:t}=e;return t}))});break;case"burnAll":m({nfts:N.filter((e=>{let{isOnSale:t}=e;return!t}))});break;case"hideAll":p({addresses:N.map((e=>e.address)),isCollection:!0});break;case"addTab":f({collectionAddress:n});break;case"removeTab":l(),h({collectionAddress:n});break;case"renew":g({addresses:N.map((e=>e.address))})}})),L=Wo((()=>{const{right:e,bottom:t}=E.current.getBoundingClientRect();y({x:e,y:t})})),O=Wo((()=>{y(void 0)}));return ge.createElement("div",{className:BN},ge.createElement(Vs,{isSimple:!0,isText:!0,ariaLabel:v("Back"),className:_N,onClick:l},ge.createElement("i",{className:Tr(xN,"icon-chevron-left"),"aria-hidden":!0})),ge.createElement("div",{className:DN},ge.createElement("div",{className:LN},A),ge.createElement("div",{className:"hsn7RdaK"},N.length>1?v("%amount% NFTs",{amount:N.length}):v("1 NFT"))),ge.createElement(Vs,{isSimple:!0,ref:E,className:ON,onClick:L,ariaLabel:v("Open Menu")},ge.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),ge.createElement(Mh,{isOpen:b,ref:k,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:w,getTriggerElement:I,getRootElement:B,getMenuElement:_,getLayout:x,buttonClassName:MN,bubbleClassName:PN,itemDescriptionClassName:FN,items:T,onSelect:D,onClose:O}))}))),UN=fe((function(e){let{id:t,name:n,value:a,isChecked:o,className:r,onChange:i}=e;return ge.createElement("div",{className:Tr("OyHWXuOj",r,o&&"BCTrjQeD")},ge.createElement("input",{id:t,type:"radio",name:n,className:"visually-hidden",value:a,checked:o,onChange:i}))}));function WN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[n,a]=ie(e);return ce((()=>{if(e===n)return;const o=window.setTimeout((()=>{a(e)}),t);return()=>{window.clearTimeout(o)}}),[e,t,n]),n}const HN={name:"Cannot be sent",value:"send",description:"NFT is for sale",isDisabled:!0},$N={name:"Configure DNS",value:"tondns",fontIcon:"external"},VN={name:"Send",value:"send"},zN={name:"Fragment",value:"fragment",fontIcon:"external"},KN={name:"Getgems",value:"getgems",fontIcon:"external"},qN={name:jo("ton"),value:"tonExplorer",fontIcon:"external"},jN={name:"Collection",value:"collection"},YN={name:"Hide",value:"hide"},GN={name:"Renew",value:"renew"},QN={name:"Not Scam",value:"not_scam"},XN={name:"Unhide",value:"unhide"},JN={name:"Burn",value:"burn",isDangerous:!0},ZN={name:"Select",value:"select",withDelimiter:!0},eS={name:"Install Card",value:"installCard"},tS={name:"Reset Card",value:"resetCard"},nS={name:"Apply Palette",value:"installAccentColor"},aS={name:"Reset Palette",value:"resetAccentColor"},oS={name:"Link to Wallet",value:"linkDomain"},rS={name:"Change Wallet",value:"linkDomain"};function iS(t){let{nft:n,isViewMode:a,dnsExpireInDays:o,linkedAddress:r,isNftBlacklisted:i,isNftWhitelisted:s,isNftInstalled:l,isNftAccentColorInstalled:d}=t;const{startTransfer:u,selectNfts:m,openNftCollection:p,burnNfts:f,addNftsToBlacklist:h,addNftsToWhitelist:g,closeMediaViewer:v,closeNftAttributesModal:w,openUnhideNftModal:y,setCardBackgroundNft:b,clearCardBackgroundNft:E,installAccentColorFromNft:k,clearAccentColorFromNft:C,openDomainRenewalModal:N,openDomainLinkingModal:S}=Ke(),A=Ar();function T(){v(),w()}const I=Wo(((t,a)=>{const{isTestnet:o}=Ve().settings,r=(null==a?void 0:a.shiftKey)||(null==a?void 0:a.ctrlKey)||(null==a?void 0:a.metaKey);switch(t){case"send":u({isPortrait:mi(),nfts:[n]}),T();break;case"tonExplorer":ic(Xo(n.address,o),{isExternal:r});break;case"getgems":{const t=o?e.PKm:e.wln;ic(n.collectionAddress?`${t}collection/${n.collectionAddress}/${n.address}`:`${t}nft/${n.address}`,{isExternal:r});break}case"tondns":ic(`https://dns.ton.org/#${(n.name||"").replace(/\.ton$/i,"")}`,{isExternal:r});break;case"installCard":b({nft:n}),k({nft:n});break;case"resetCard":E(),C();break;case"installAccentColor":k({nft:n});break;case"resetAccentColor":C();break;case"fragment":{let e;const{collectionName:t,name:a,metadata:{fragmentUrl:o}}=n;e=o||(null!=t&&t.toLowerCase().includes("numbers")?`https://fragment.com/number/${null==a?void 0:a.replace(/[^0-9]/g,"")}`:`https://fragment.com/username/${encodeURIComponent((null==a?void 0:a.substring(1))||"")}`),ic(e,{isExternal:r});break}case"collection":p({address:n.collectionAddress},{forceOnHeavyAnimation:!0}),T();break;case"hide":h({addresses:[n.address]}),T();break;case"not_scam":y({address:n.address,name:n.name});break;case"unhide":g({addresses:[n.address]}),T();break;case"burn":f({nfts:[n]}),T();break;case"select":m({addresses:[n.address]});break;case"renew":N({addresses:[n.address]});break;case"linkDomain":S({address:n.address})}}));return{menuItems:de((()=>{if(!n)return[];const{collectionAddress:t,isOnSale:u,isOnFragment:m,isScam:p}=n,f=(0,ga.bU)(n),h=!e.TI6&&n.collectionAddress===e.qL;return(0,c.oE)([!a&&(u?HN:VN),!a&&f&&!u&&void 0!==o&&{...GN,description:o<0?"Expired":A("$expires_in %days%",{days:A("$in_days",o)},void 0,1)},!a&&f&&!u&&(r?rS:oS),!e.TI6&&(!p&&!i||s)&&YN,!e.TI6&&p&&!s&&QN,!e.TI6&&!p&&i&&XN,...u||a?[]:[JN,ZN],t&&jN,f&&!a&&$N,...h?[l?tS:eS]:[],...h?[d?aS:nS]:[],m&&zN,KN,qN])}),[n,a,o,A,r,i,s,l,d]),handleMenuItemSelect:I}}const sS=fe(je(((e,t)=>{let{nft:n}=t;const{blacklistedNftAddresses:a,whitelistedNftAddresses:o}=ct(e)||{},{cardBackgroundNft:r,accentColorNft:i}=ut(e)||{},s=Ta(e,n);return{blacklistedNftAddresses:a,whitelistedNftAddresses:o,cardBackgroundNft:r,accentColorNft:i,isViewMode:Tt(e),linkedAddress:s}}))((function(e){let{isViewMode:t,isContextMenuMode:n,nft:a,ref:o,dnsExpireInDays:r,linkedAddress:i,menuAnchor:s,blacklistedNftAddresses:c,whitelistedNftAddresses:l,cardBackgroundNft:d,accentColorNft:u,className:m,onOpen:p,onClose:f,onCloseAnimationEnd:h}=e;const g=de((()=>null==c?void 0:c.includes(a.address)),[a,c]),v=de((()=>null==l?void 0:l.includes(a.address)),[a,l]),w=WN(a&&a.address===(null==d?void 0:d.address),Lh),y=WN(a&&a.address===(null==u?void 0:u.address),Lh),{menuItems:b,handleMenuItemSelect:E}=iS({nft:a,isViewMode:t,dnsExpireInDays:r,linkedAddress:i,isNftBlacklisted:g,isNftWhitelisted:v,isNftInstalled:w,isNftAccentColorInstalled:y});let k=me();const C=me(),N=Boolean(s);o&&(k=o);const S=Wo((()=>k.current)),A=Wo((()=>document.body)),T=Wo((()=>C.current)),I=Wo((()=>({withPortal:!0,topShiftY:n?4:0,preferredPositionX:n?"left":"right"}))),B=Ar();return ge.createElement(ge.Fragment,null,ge.createElement("button",{ref:k,type:"button",className:Tr("Zwrm7aDb",m),"aria-label":B("NFT Menu"),onClick:e=>{Io(e),N?f():(il(),p())}},ge.createElement("i",{className:Tr("lGtsxpv1","icon-menu-dots"),"aria-hidden":!0})),ge.createElement(Mh,{isOpen:N,ref:C,withPortal:!0,menuAnchor:s,menuPositionX:"right",getTriggerElement:n?void 0:S,getRootElement:A,getMenuElement:T,getLayout:I,items:b,shouldTranslateOptions:!0,className:n?"kuj1PIIl":"Pc0Y7YGI",bubbleClassName:"UhvMK8mg",buttonClassName:"AZjbQROQ",itemDescriptionClassName:"XbyfBxfu",shouldCleanup:!0,onClose:f,onCloseAnimationEnd:h,onSelect:E}))}))),cS="ITYna3lB",lS="P5UTNS9t",dS="O3ePb4wF",uS="wvB9itFX",mS="xeApkBtH",pS=fe((function(t){let{nft:a,selectedAddresses:o,tonDnsExpiration:r,observeIntersection:i,isViewAccount:s}=t;const{selectNfts:c,clearNftSelection:l,openDomainRenewalModal:d,openNftAttributesModal:u}=Ke(),m=Ar(),p=me(),{isLottie:f,shouldPlay:h,noLoop:g,markHover:v,unmarkHover:w}=function(e,t,a){var o;const r=Boolean(null===(o=e.metadata)||void 0===o?void 0:o.lottie),i=Ps($h(t,r?a:void 0,void 0)),[s,c,l]=ju();if(!r)return{isLottie:r};return{isLottie:r,shouldPlay:i||s,noLoop:!s,...!(n.pz||n.Ni)&&{markHover:c,unmarkHover:l}}}(a,p,i),[y,b]=ie(),E=!!o&&o.length>0,k=de((()=>null==o?void 0:o.includes(a.address)),[o,a.address]),C=Boolean(y),N=r?(0,Oa.GS)(r):void 0,S=void 0!==N&&N<=e.tI4,{shouldRender:A,ref:T}=Rs({isOpen:E&&a.isOnSale,withShouldRender:!0}),{isContextMenuOpen:I,contextMenuAnchor:B,handleBeforeContextMenu:_,handleContextMenu:x,handleContextMenuHide:D,handleContextMenuClose:L}=wC({elementRef:p}),O=Tr("wdIabR9U",!E&&a.isOnSale&&"TcBQN9hf",C&&"AFzPXqVX",E&&a.isOnSale&&dS);function P(e){Io(e),d({addresses:[a.address]})}const M=Wo((()=>{b(B)})),F=Wo((()=>{const{right:e,y:t}=p.current.getBoundingClientRect();b({x:e,y:t})})),R=Wo((()=>{b(void 0),L()}));function U(){return ge.createElement("button",{type:"button",className:Tr("VpqrQ0wB",s&&dS),onClick:s?void 0:P},N<0?"Expired":m("$expires_in %days%",{days:m("$in_days",N)},void 0,1))}return Ee((()=>{I?M():R()}),[I]),ge.createElement("div",{key:a.address,ref:p,className:O,onMouseEnter:v,onMouseLeave:w,onClick:E&&a.isOnSale?void 0:function(){E?k?l({address:a.address}):c({addresses:[a.address]}):(il(),u({nft:a}))},onMouseDown:_,onContextMenu:x},E&&!a.isOnSale&&ge.createElement(UN,{isChecked:k,name:"nft",value:a.address,className:"VqbpRLGL"}),!E&&ge.createElement(sS,{nft:a,isContextMenuMode:Boolean(B),dnsExpireInDays:N,menuAnchor:y,onOpen:F,onClose:R,onCloseAnimationEnd:D}),f?ge.createElement("div",{className:uS},ge.createElement($p,{shouldStretch:!0,play:h,noLoop:g,tgsUrl:a.metadata.lottie,previewUrl:a.thumbnail,noPreviewTransition:!0,className:Tr(lS,k&&mS)}),S&&U()):ge.createElement(Tf,{url:a.thumbnail,className:uS,imageClassName:Tr(lS,k&&mS)},S&&U()),A&&ge.createElement("div",{ref:T,className:"qtSm9QOQ"},m("For sale. Cannot be sent and burned")),ge.createElement("div",{className:"v0SE1VHL"},ge.createElement("b",{className:"KokxXqZI"},a.name||(0,Yt.W)(a.address,4))),ge.createElement("div",{className:"_xEjK2pw"},a.collectionName))})),fS=fe(je((e=>{var t;const{orderedAddresses:n,byAddress:a,currentCollectionAddress:o,selectedAddresses:r,dnsExpiration:i}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{},{isNftBuyingDisabled:s}=e.restrictions,{blacklistedNftAddresses:c,whitelistedNftAddresses:l}=ct(e)||{};return{orderedAddresses:n,selectedAddresses:r,byAddress:a,currentCollectionAddress:o,blacklistedNftAddresses:c,whitelistedNftAddresses:l,isNftBuyingDisabled:s,dnsExpiration:i,isViewAccount:Tt(e)}}),((e,t,n)=>{var a;const{currentCollectionAddress:o}=(null===(a=ct(e))||void 0===a?void 0:a.nfts)||{};return n(`${e.currentAccountId}_${o||"all"}`)}))((function(t){let{isActive:n,orderedAddresses:a,selectedAddresses:o,byAddress:r,currentCollectionAddress:i,dnsExpiration:s,isNftBuyingDisabled:c,blacklistedNftAddresses:l,whitelistedNftAddresses:d,isViewAccount:u}=t;const{fetchNftsFromCollection:m,clearNftsSelection:p}=Ke(),f=Ar(),h=me(),{isPortrait:g,isLandscape:v}=ui(),w=Boolean(null==o?void 0:o.length),[y,b]=ie(!1),E=tN(!0,g)||".nfts-container";ce((()=>{i&&m({collectionAddress:i})}),[i]),ce(p,[p,n,i]),ce((()=>w?Ih(p):void 0),[w]);const k=de((()=>{if(!a||!r)return;const t=new Set(l),n=new Set(d),o=a.reduce(((a,o)=>{const s=r[o];return!s||i&&s.collectionAddress!==i&&(i!==e.X6R||!s.isTelegramGift)||s.isHidden&&!n.has(s.address)||t.has(s.address)||a.push(s),a}),[]);return y?o:o.slice(0,50)}),[r,i,a,l,d,y]),C=Wo((()=>{var e;const t=null===(e=h.current)||void 0===e?void 0:e.closest(E);if(!t||y)return;const{scrollTop:n,scrollHeight:a,clientHeight:o}=t;a-n-o<=800&&b(!0)}));le((()=>{var e;if(!E||null==k||!k.length)return;const t=null===(e=h.current)||void 0===e?void 0:e.closest(E);return t?(t.addEventListener("scroll",C),()=>{t.removeEventListener("scroll",C)}):void 0}),[null==k?void 0:k.length,E]);const{observe:N}=Hh({throttleMs:200,isDisabled:!(null!=k&&k.length)});return void 0===k?ge.createElement("div",{className:Tr(cS,"AmFNUCBn")},ge.createElement(Qg,null)):0===k.length?ge.createElement("div",{className:cS},ge.createElement($p,{play:n,tgsUrl:fp.happy,previewUrl:fp.happyPreview,size:g?e.jzp:e.igk,className:"e1KDXttI",noLoop:!1,nonInteractive:!0}),ge.createElement("div",{className:"VvA3zcqe"},ge.createElement("p",{className:"dfDaqpor"},f("No NFTs yet")),!c&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:"T93VHAYd"},tr(f("$nft_explore_offer"),g?["simple_markdown"]:void 0)),ge.createElement("button",{type:"button",className:"MQHqPBS8",onClick:function(t){Io(t),ic(e.FgL,{title:e.Ia6,subtitle:qo(e.FgL)})}},f("Open %nft_marketplace%",{nft_marketplace:e.Ia6}))))):ge.createElement("div",{ref:h,className:Tr("dpiMguJa",v&&"UaTzvOas")},k.map((e=>ge.createElement(pS,{key:e.address,nft:e,selectedAddresses:o,tonDnsExpiration:(0,ga.Cz)(e,s),isViewAccount:u,observeIntersection:N}))))}))),hS=fe(je((e=>{var t;const{selectedAddresses:n,byAddress:a,currentCollectionAddress:o,dnsExpiration:r}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{};return{selectedAddresses:n,byAddress:a,currentCollectionAddress:o,dnsExpiration:r,isViewMode:Tt(e)}}))((function(t){let{isViewMode:n,selectedAddresses:a,byAddress:o,dnsExpiration:r,currentCollectionAddress:i}=t;const{selectAllNfts:s,clearNftsSelection:l,startTransfer:d,burnNfts:u,openHideNftModal:m,openDomainRenewalModal:p}=Ke(),f=Ar(),h=(null==a?void 0:a.length)??1,g=Boolean(null==a?void 0:a.length),v=de((()=>!(null==a||!a.length)&&a.every((e=>(0,ga.bU)(null==o?void 0:o[e])))),[o,a]),w=de((()=>{if(!v)return;const e=(0,ga.ZC)(a??[],o,r);return e?(0,Oa.GS)(e):void 0}),[v,r,a,o]),y=((null==a?void 0:a.length)??0)>1;zi({isActive:g,onBack:l}),ce((()=>g?Ih(l):void 0),[g]);const b=de((()=>(0,c.oE)([!n&&{name:"Send",value:"send"},!n&&v&&{name:y?"Renew All":"Renew",value:"renew",description:w&&w<0?y?"$expired_many":"Expired":f("$expires_in %days%",{days:f("$in_days",w)},void 0,(null==a?void 0:a.length)??1)},!e.TI6&&{name:"Hide",value:"hide"},!n&&{name:"Burn",value:"burn",isDangerous:!0},{name:"Select All",value:"select-all",withDelimiter:!0}])),[v,w,n,f,null==a?void 0:a.length,y]),E=Wo((()=>{const e=a.map((e=>o[e]))??[];l(),d({isPortrait:mi(),nfts:e})})),k=Wo((()=>{const e=a.map((e=>o[e]))??[];l(),u({nfts:e})})),C=Wo((()=>{l(),m({addresses:a,isCollection:!1})})),[N,S]=ie(),A=Boolean(N),T=me(),I=me(),B=Wo((()=>{const{right:e,bottom:t}=T.current.getBoundingClientRect();S({x:e,y:t})})),_=Wo((()=>{S(void 0)})),x=Wo((()=>T.current)),D=Wo((()=>document.body)),L=Wo((()=>I.current)),O=Wo((()=>({withPortal:!0}))),P=Wo((e=>{switch(e){case"send":E();break;case"hide":C();break;case"burn":k();break;case"select-all":s({collectionAddress:i});break;case"renew":p({addresses:a})}}));return ge.createElement("div",{className:BN},ge.createElement(Vs,{isSimple:!0,isText:!0,ariaLabel:f("Back"),className:_N,onClick:l},ge.createElement("i",{className:Tr(xN,"icon-chevron-left"),"aria-hidden":!0})),ge.createElement("div",{className:DN},ge.createElement("div",{className:LN},h>1?f("%amount% NFTs Selected",{amount:h}):f("1 NFT Selected"))),ge.createElement("div",null,ge.createElement(Vs,{isSimple:!0,ref:T,className:ON,onClick:B,ariaLabel:f("Open Menu")},ge.createElement("i",{className:"icon-menu-dots","aria-hidden":!0})),ge.createElement(Mh,{isOpen:A,ref:I,withPortal:!0,shouldTranslateOptions:!0,menuPositionX:"right",menuAnchor:N,getTriggerElement:x,getRootElement:D,getMenuElement:L,getLayout:O,buttonClassName:MN,bubbleClassName:PN,itemDescriptionClassName:FN,items:b,onSelect:P,onClose:_})))}))),gS={contentPanel:"i_rtpHaE",landscapeContentPanel:"UzEmZry2",container:"wmmKI_Q8",landscapeContainer:"xwYhKvej",assetsPanel:"LsCBKsIM",tabsContainer:"qxl4O9Cg",tabsSlide:"ES31v1R7",tab:"Sd0JpmLp",slides:"vxe8iSc4",slide:"MU2eE1B1",portraitContainer:"joLgqn25",tabsContent:"VjN3P9Zv",tabs:"q8lTUtx5",tabsOverlay:"razu85QH"},vS=Object.values(Kn).length/2;let wS=0;const yS=fe(je((e=>{var t;const n=e.currentAccountId,{activeContentTab:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,selectedNftsToHide:i,vesting:s,nfts:{byAddress:c,currentCollectionAddress:l,selectedAddresses:d,collectionTabs:u}={},currentSiteCategoryId:m}=ct(e)??{},p=Ut(e),f=gt(e.currentAccountId)(p),h=Boolean(null==s||null===(t=s.info)||void 0===t?void 0:t.length),g=n?Ea(e,n):void 0,v=function(e){const t=rt(e);return Boolean(null==t?void 0:t.addressByChain.ton)}(e);return{nfts:c,currentCollectionAddress:l,selectedAddresses:d,tokensCount:f,activeContentTab:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,selectedNftsToHide:i,states:g,hasVesting:h,currentSiteCategoryId:m,doesSupportNft:v,collectionTabs:u}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:a,activeContentTab:o,tokensCount:r,nfts:i,currentCollectionAddress:s,selectedAddresses:l,onStakedTokenClick:d,blacklistedNftAddresses:u,whitelistedNftAddresses:m,selectedNftsToHide:p,states:f,hasVesting:h,currentSiteCategoryId:g,doesSupportNft:v,collectionTabs:w,onTabsStuck:y}=t;const{selectToken:b,showTokenActivity:E,setActiveContentTab:C,openNftCollection:N,closeNftCollection:S,openSettingsWithState:A}=Ke(),T=Ar(),{isPortrait:I,isLandscape:B}=ui(),_=me(),x=Boolean(null==l?void 0:l.length),D=de((()=>(null==f?void 0:f.filter(Jd).length)??0),[f]);Ee((()=>{s?wS+=1:wS=0}),[s]);const L=Wo((e=>{"hidden_nfts"===e?A({state:$n.HiddenNfts}):N({address:e},{forceOnHeavyAnimation:!0})})),O=de((()=>{const t=new Set(u),n=new Set(m);let a=!1;const o=Object.values(i??{}).reduce(((e,o)=>(!o.collectionAddress||o.isHidden&&!n.has(o.address)||t.has(o.address)||(e[o.collectionAddress]||(e[o.collectionAddress]={value:o.collectionAddress,name:o.collectionName||T("Unnamed collection")}),!a&&o.isTelegramGift&&(a=!0)),e)),{}),r=Object.values(o);return r.sort(((e,t)=>e.name.localeCompare(t.name))),a&&r.unshift({value:e.X6R,name:T("Telegram Gifts"),fontIcon:"gift",withDelimiterAfter:!0}),r}),[T,i,u,m]),P=de((()=>{if(e.TI6)return!1;const t=new Set(u);return Object.values(i??{}).some((e=>t.has(e.address)||e.isHidden))}),[u,i]),M=me(),F=r+(h?1:0)+D,R=F<=(I?e.nj6:e.hUs),[U,W]=de((()=>{const t=(0,c.oE)([!R&&{id:Kn.Assets,title:T("Assets"),className:gS.tab},{id:Kn.Activity,title:T("Activity"),className:gS.tab},!I&&!e.TI6&&{id:Kn.Explore,title:T("Explore"),className:gS.tab},v&&{id:Kn.Nft,title:T("Collectibles"),className:gS.tab,menuItems:P?[...O,{name:T("Hidden NFTs"),value:"hidden_nfts",withDelimiter:!0}]:O,onMenuItemClick:L}]);return[t.length,t.concat((null==w?void 0:w.map(((t,n)=>{const a=O.find((e=>e.value===t));if(a)return{id:vS+n,title:a.name,className:gS.tab,collectionAddress:t,icon:t===e.X6R?"icon-gift":void 0}})).filter(Boolean))??[])]}),[w,v,I,T,O,P,R]),H=de((()=>{const e=W.findIndex((e=>e.id===o));return-1===e?Kn.Assets:e}),[W,o]),$=de((()=>{if(!s||W[H].id===Kn.Nft)return H;const e=(null==w?void 0:w.indexOf(s))??-1;return-1===e?H:U+e}),[H,w,s,U,W]);ye((()=>{void 0===o&&C({tab:Kn.Assets})}));const V=Wo((e=>{const t=W.findIndex((t=>{let{id:n}=t;return n===e}));if(t>=U){const e=w[t-U];N({address:e},{forceOnHeavyAnimation:!0})}else b({slug:void 0},{forceOnHeavyAnimation:!0}),C({tab:e})})),z=Wo((()=>{const e=eN(M.current,I);null==e||e.scrollTo(0,0)})),{handleScroll:K,isScrolled:q,update:j}=Qh();zi({isActive:0!==H,onBack:()=>V(Kn.Assets)});const Y=Tb(),G=n.XS-Y-1,Q=Wo((e=>{const t=e.intersectionRatio<1;null==y||y(t),(0,k.RK)((()=>{e.target.classList.toggle(gS.tabsContainerStuck,t)}))}));Ib({isDisabled:!I,targetRef:_,rootMargin:`${G}px 0px 0px 0px`,threshold:[1],cb:Q}),ce((()=>{if(n.TF)return Fr(M.current,{includedClosestSelector:".swipe-container",excludedClosestSelector:".dapps-feed",onSwipe:(e,t)=>{var n;if(t===Dr.Up||t===Dr.Down||null!==(n=e.target)&&void 0!==n&&n.closest(`.${SN}`))return!1;if(t===Dr.Left){const e=W[Math.min(W.length-1,H+1)];return V(e.id),!0}if(t===Dr.Right){if(g)return!1;if(s)S();else{const e=W[Math.max(0,H-1)];V(e.id)}return!0}return!1},selectorToPreventScroll:".custom-scroll"})}),[W,V,H,s,g]);const X=Wo((e=>{E({slug:e})})),J=Wo((()=>{I||(0,k.YS)((()=>{const e=eN(M.current,I);e&&j(e)}))})),Z=Tr(gS.container,n.TF&&"swipe-container",I?gS.portraitContainer:gS.landscapeContainer);function ee(e){if(0===H&&R)return ge.createElement(kN,{isActive:e,totalTokensAmount:F,onScroll:B?K:void 0});if(s&&W[H].id!==Kn.Nft)return ge.createElement("div",{className:"nfts-container",onScroll:B?K:void 0},ge.createElement(fS,{key:`custom:${s}`,isActive:e}));switch(W[H].id){case Kn.Assets:return ge.createElement(IN,{isActive:e,onTokenClick:X,onStakedTokenClick:d,onScroll:B?K:void 0});case Kn.Activity:return ge.createElement(kN,{isActive:e,totalTokensAmount:F,onScroll:B?K:void 0});case Kn.Explore:return ge.createElement(Cb,{isActive:e,onScroll:B?K:void 0});case Kn.Nft:return ge.createElement(ff,{activeKey:wS,name:I?"slide":"slideFade",className:"nfts-container",onScroll:B?K:void 0},ge.createElement(fS,{key:s||"all",isActive:e}));default:return}}return ge.createElement("div",{className:Z},R&&ge.createElement("div",{className:gS.assetsPanel},ge.createElement(IN,{isActive:!0,isSeparatePanel:!0,onStakedTokenClick:d,onTokenClick:X})),ge.createElement("div",{className:Tr(I?gS.contentPanel:gS.landscapeContentPanel)},function(){const e=x||!I&&g?2:s?1:0;return ge.createElement(ge.Fragment,null,ge.createElement("div",{ref:_,className:Tr(gS.tabsContainer,s&&gS.tabsContainerForNftCollection,"with-notch-on-scroll",q&&"is-scrolled")},ge.createElement(ff,{name:"slideFade",className:gS.tabsContent,activeKey:e,slideClassName:gS.tabsSlide,shouldCleanup:!0,cleanupExceptionKey:0},x?ge.createElement(hS,null):!I&&g?ge.createElement(bb,{id:g}):s?ge.createElement(RN,{key:"collection"}):ge.createElement(OE,{isActive:a,tabs:W,activeTab:H,onSwitchTab:V,onActiveTabClick:z,className:Tr(gS.tabs,"content-tabslist"),overlayClassName:gS.tabsOverlay}))),ge.createElement(ff,{ref:M,name:I?"slide":"slideFade",activeKey:$,renderCount:U+((null==w?void 0:w.length)??0),className:Tr(gS.slides,"content-transition"),slideClassName:Tr(gS.slide,"custom-scroll"),onStop:J,onScroll:B?K:void 0},ee))}()),ge.createElement(nN,{isOpen:Boolean(null==p?void 0:p.addresses.length),selectedNftsToHide:p}))}))),bS=fe((function(e){let{isOpen:t,name:n,currentAccountId:a,onClose:o}=e;const{renameAccount:r}=Ke(),i=Ar(),s=me(),[c,l]=ie(n);ce((()=>{t&&l(n)}),[t,n]),hp(s,!t);const d=Wo((e=>{Io(e),0!==c.trim().length&&(r({accountId:a,title:c.trim()}),o())}));return ge.createElement(Zs,{isCompact:!0,isOpen:t,title:i("Rename Wallet"),onClose:o},ge.createElement("form",{action:"#",onSubmit:d},ge.createElement("p",null,i("You can rename this wallet for easier identification.")),ge.createElement(zp,{ref:s,placeholder:i("Name"),onInput:l,value:c,maxLength:255,enterKeyHint:"done"}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:o,className:Ks.button},i("Cancel")),ge.createElement(Vs,{isPrimary:!0,isSubmit:!0,isDisabled:0===c.trim().length,className:Ks.button},i("Save")))))})),ES={root:"a3WLGvJB",slide:"HwTx4nDa",accountTitle:"MoMRv8lX",withBalance:"VUELTqry",accountTitleInteractive:"KaXidGii",accountTitleInner:"CsZvEIzk",arrowIcon:"fwj1nsFY",balance:"ReXRdYnq",balanceFractionPart:"rMdzMb2a",balanceCurrency:"LJreYpVF",balanceCurrencyPrefix:"iYR_GSsp",container:"yg1dh4un",dialog:"_GKFEXQQ",backdrop:"Yb4jStqu",dialog_compact:"VQfOatN5",dialogCompact:"VQfOatN5",createAccountButton:"_cBvU9yb",createAccountIcon:"wWwtr3AE"},kS=fe(je((e=>{const{walletVersions:t,settings:{byAccountId:n,baseCurrency:a,isSensitiveDataHidden:o}}=e,r=at(e),i=e.currentAccountId,s=null==r?void 0:r[i],c=Ea(e,i);return{currentAccountId:i,currentAccount:s,accounts:r,currentWalletVersion:null==t?void 0:t.currentVersion,settingsByAccountId:n,tokens:Ut(e),baseCurrency:a,stakingStates:c,isSensitiveDataHidden:o}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{currentAccountId:n,currentAccount:a,forceClose:o,accountClassName:r,accountSelectorClassName:i,withAccountSelector:s,withBalance:c,tokens:l,baseCurrency:d,stakingStates:u,isSensitiveDataHidden:m,accounts:p,currentWalletVersion:f,settingsByAccountId:h}=t;const{switchAccount:g,openAddAccountModal:v,openSettingsWithState:w}=Ke(),y=Ar(),{isPortrait:b}=ui(),[E,k,C]=ju(!1),[N,S,A]=ju(!1),{shouldRender:T,ref:I}=Rs({isOpen:E,className:"slow",withShouldRender:!0}),B="mnemonic"===(null==a?void 0:a.type)&&Boolean(null==a?void 0:a.addressByChain.tron),_=Boolean(null==a?void 0:a.addressByChain.ton),x="W5"!==f&&"hardware"!==(null==a?void 0:a.type)&&_&&!B,D=de((()=>Object.keys(p||{}).length),[p]),L=de((()=>l?_C(l,u):void 0),[l,u]),O=ur(d),{primaryWholePart:P,primaryFractionPart:M}=L||{};ce((()=>{E&&o&&C()}),[o,E]),ce((()=>T?Ih(C):void 0),[C,E,T]),ce((()=>T&&I.current?qr(I.current):void 0),[I,T]);const F=Wo((e=>{il(),C(),g({accountId:e})})),R=Wo((()=>{il(),C(),v()})),U=Wo((()=>{il(),C(),w({state:$n.WalletVersion})})),W=Tr(ES.container,i),H=Tr(ES.accountTitle,s&&!c&&ES.accountTitleInteractive,c&&ES.withBalance,r);function $(){const t=Tr(ES.dialog,D<=2&&ES.dialog_compact);return ge.createElement("div",{ref:I,className:W,tabIndex:-1,role:"dialog"},ge.createElement("div",{className:ES.backdrop,onClick:()=>C()}),ge.createElement("div",{className:t},p&&Object.entries(p).map((t=>{let[a,{title:o,addressByChain:r,type:i}]=t;return function(t,a,o,r){const{cardBackgroundNft:i}=(null==h?void 0:h[t])||{};return ge.createElement(ov,{key:t,accountId:t,addressByChain:a,accountType:o,isActive:t===n,title:r,cardBackgroundNft:i,canEditAccount:!e.TI6,onClick:F,onEdit:S})}(a,r,i,o)})),x&&ge.createElement(Vs,{className:ES.createAccountButton,onClick:U},y("Switch to W5"),ge.createElement("i",{className:Tr(ES.createAccountIcon,"icon-versions"),"aria-hidden":!0})),ge.createElement(Vs,{className:ES.createAccountButton,onClick:R},y("Add Wallet"),ge.createElement("i",{className:Tr(ES.createAccountIcon,"icon-plus"),"aria-hidden":!0}))))}return ge.createElement(ge.Fragment,null,ge.createElement(ff,{name:"slideVerticalFade",activeKey:c?1:0,className:ES.root,slideClassName:ES.slide},c&&ge.createElement("div",{className:Tr(ES.balance,"rounded-font")},ge.createElement(Mw,{isActive:m,shouldHoldSize:!0,align:"center",cols:10,rows:2,cellSize:8.5},ge.createElement("span",{className:ES.currencySwitcher},1===O.length&&ge.createElement("span",{className:Tr(ES.balanceCurrency,ES.balanceCurrencyPrefix)},O),P,M&&ge.createElement("span",{className:ES.balanceFractionPart},".",M),O.length>1&&ge.createElement("span",{className:ES.balanceCurrency}," ",O)))),ge.createElement("div",{className:H,onClick:s?()=>{k()}:void 0},ge.createElement("span",{className:ES.accountTitleInner},(a&&(0,Ye.S)(a))??""),s&&!c&&ge.createElement("i",{className:Tr("icon icon-caret-down",ES.arrowIcon),"aria-hidden":!0}))),T&&(b?ge.createElement(zs,null,$()):$()),ge.createElement(bS,{isOpen:N,currentAccountId:n,name:(null==a?void 0:a.title)??"",onClose:A}))}))),CS="heOBVClj",NS=fe((function(){const{setIsManualLockActive:e}=Ke(),t=Ar(),n=Wo((()=>{e({isActive:!0,shouldHideBiometrics:!0}),il()}));return ge.createElement(Vs,{className:CS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t("App Lock"),onClick:n},ge.createElement("i",{className:"icon-manual-lock","aria-hidden":!0}))})),SS=fe((function(e){let{isViewMode:t}=e;const{requestOpenQrScanner:a}=Ke(),o=Ar(),r=Pb()&&!t,i=Wo((()=>{n.pz&&(0,n.v3)()?alert("Scanning is temporarily not available"):a()}));if(r)return ge.createElement(Vs,{className:Tr(CS,"qduFjDA3"),isText:!0,isSimple:!0,kind:"transparent",ariaLabel:o("Scan QR Code"),onClick:i},ge.createElement("i",{className:"icon-qr-scanner","aria-hidden":!0}))})),AS=fe((function(){const{openSettings:e}=Ke(),t=Ar();return ge.createElement(Vs,{className:CS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t("Main menu"),onClick:e},ge.createElement("i",{className:"icon-cog","aria-hidden":!0}))})),TS=fe((function(e){let{isFullscreen:t}=e;const n=Ar(),a=Wo((()=>{var e,n;t?null===(e=no())||void 0===e||e.exitFullscreen():null===(n=no())||void 0===n||n.requestFullscreen()}));return ge.createElement(Vs,{className:CS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:n("Toggle fullscreen"),onClick:a},ge.createElement("i",{className:t?"icon-fullscreen-exit":"icon-fullscreen","aria-hidden":!0}))})),IS=fe((function(){const{setAppLayout:e}=Ke(),t=Ar(),{isPortrait:n}=ui(),a=Wo((()=>{e({layout:n?"landscape":"portrait"})}));return ge.createElement(Vs,{className:CS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:t(n?"Toggle to landscape layout":"Toggle to portrait layout"),onClick:a},ge.createElement("i",{className:n?"icon-view-landscape":"icon-view-portrait","aria-hidden":!0}))})),BS=fe((function(e){let{isSensitiveDataHidden:t}=e;const{setIsSensitiveDataHidden:n}=Ke(),a=Ar(),o=Wo((()=>{n({isHidden:!t})}));return ge.createElement(Vs,{className:CS,isText:!0,isSimple:!0,kind:"transparent",ariaLabel:a(t?"Show Sensitive Data":"Hide Sensitive Data"),onClick:o},ge.createElement("i",{className:t?"icon-eye":"icon-eye-closed","aria-hidden":!0}))})),_S="gwvxwQs9",xS="EX9t6A36",DS="mKaPMjmN",LS=fe(je((e=>{const{isFullscreen:t,settings:{isAppLockEnabled:n,isSensitiveDataHidden:a}}=e,o=bt(e);return{isViewMode:Tt(e),isAppLockEnabled:n&&o,isFullscreen:Boolean(t),isSensitiveDataHidden:Boolean(a)}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isViewMode:a,withBalance:o,areTabsStuck:r,isScrolled:i,isAppLockEnabled:s,isSensitiveDataHidden:c,isFullscreen:l}=t;const{isPortrait:d}=ui(),u=e.hL1||n.cp;if(d){const t=Tr(_S,r&&"IHMQLLd2",i&&"_sQ5O2j4"),n=1+(s?1:0)+(e.tKX?1:0)+(u?1:0);return ge.createElement("div",{className:t},ge.createElement("div",{className:xS,style:`--icons-amount: ${n}`},ge.createElement(SS,{isViewMode:a}),ge.createElement(kS,{withBalance:o,withAccountSelector:!e.TI6}),ge.createElement("div",{className:"oLoKLzOb"},s&&ge.createElement(NS,null),ge.createElement(BS,{isSensitiveDataHidden:c}),e.tKX&&ge.createElement(TS,{isFullscreen:l}),u&&ge.createElement(IS,null))))}return ge.createElement("div",{className:_S},ge.createElement("div",{className:xS},ge.createElement("div",{className:DS},ge.createElement(BS,{isSensitiveDataHidden:c}),ge.createElement(SS,{isViewMode:a}),s&&ge.createElement(NS,null)),ge.createElement(kS,{withBalance:o,withAccountSelector:!e.TI6}),ge.createElement("div",{className:DS},e.tKX&&ge.createElement(TS,{isFullscreen:l}),u&&ge.createElement(IS,null),ge.createElement(AS,null))))})));function OS(e){let t=document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${e?"light":"dark"})"]`);return t||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),t.setAttribute("media",`(prefers-color-scheme: ${e?"light":"dark"})`),document.getElementsByTagName("head")[0].appendChild(t)),t}const PS={portraitContainer:"nDlx2B3w",container:"H35Oa6Xc",testnetWarning:"FeOh0iRA",wrapper:"PUMHiqAW",wrapper_landscape:"j9PIExiC",wrapperLandscape:"j9PIExiC",wrapperFlex:"WUreitT1",icon:"l3sBnS54",text:"WFekTm0y",light:"TR3h5nXi",closeButton:"tQS1IhkF",domainPreviewWrapper:"qB47T3_D",domainPreview:"VOiW6ZiQ",domainPreview_1:"qdZywUBz",domainPreview1:"qdZywUBz",domainPreview_2:"z795yKpX",domainPreview2:"z795yKpX",domainPreview_3:"QhDZUBwR",domainPreview3:"QhDZUBwR"},MS=fe(je((e=>({theme:e.settings.theme})),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isRequired:t,theme:n,onOpenBackupWallet:a}=e;const{shouldRender:o,ref:r}=Rs({isOpen:t,noMountTransition:!0,withShouldRender:!0}),{isLandscape:i}=ui(),s=Ar();if(function(e){let{isActive:t,currentTheme:n,lightColor:a,darkColor:o}=e;ce((()=>{const e=OS(!0),r=OS(),i="dark"===n?o:a,s="light"===n?a:o;return t&&(e.setAttribute("content",i),r.setAttribute("content",s)),()=>{e.remove(),r.remove()}}),[a,t,o,n])}({isActive:t,currentTheme:n,lightColor:"#F36A6B",darkColor:"#C44646"}),o)return ge.createElement("div",{ref:r,className:Tr(PS.wrapper,i&&PS.wrapper_landscape),onClick:()=>{a()}},s("Wallet is not backed up"),ge.createElement("i",{className:Tr(PS.icon,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("p",{className:PS.text},s("Back up wallet to have full access to it")))}))),FS="open",RS=fe((function(e){let{children:t,isShown:n}=e;const a=me(),o=me(n),[r,i]=ie(n),s=be(n),c=me();function l(){a.current&&(a.current.classList.toggle(FS),o.current=!o.current)}void 0!==s&&s!==n&&(n&&!o.current?(i(!0),c.current&&window.clearTimeout(c.current),setTimeout((()=>(0,k.RK)(l)),200)):((0,k.RK)(l),c.current=window.setTimeout((()=>{i(!1)}),200)));const d=ge.createElement("div",{className:"content"},t);return ge.createElement("div",{ref:a,className:Tr("collapsible",n&&"shown",o.current&&FS)},r?d:void 0)}));let US=[];const WS=fe(je((e=>{const{nfts:t}=ct(e)||{};return{orderedAddresses:null==t?void 0:t.orderedAddresses,byAddress:null==t?void 0:t.byAddress,dnsExpiration:null==t?void 0:t.dnsExpiration}}))((function(e){let{orderedAddresses:t,byAddress:n,dnsExpiration:a}=e;const{openDomainRenewalModal:o}=Ke(),r=Ar(),{isLandscape:i}=ui(),s=ve(),c=de((()=>(0,ga.s$)(t??[],n,a).filter((e=>{let{address:t}=e;return!US.includes(t)}))),[n,US,t]),l=c.length>0,d=Sh(l?c:void 0,!0),u=de((()=>{const e=(0,ga.ZC)(d??[],void 0,a);return e?(0,Oa.GS)(e):void 0}),[d,a]),m=de((()=>{if(!u||u>=0||!d)return[];const e=Date.now();return d.filter((t=>{const n=(0,ga.Cz)(t,a);return n&&n<e}))}),[a,u,d]);return ge.createElement(RS,{isShown:l},ge.createElement("div",{className:Tr(PS.wrapper,PS.wrapperFlex,i&&PS.wrapper_landscape),onClick:function(){const e=(d??[]).map((e=>{let{address:t}=e;return t}));o({addresses:e})}},function(){const e=(d??[]).slice(0,3);return ge.createElement("div",{className:PS.domainPreviewWrapper},e.map(((t,n)=>ge.createElement("img",{key:t.address,src:t.thumbnail,alt:t.name,style:`--index: ${n}`,className:Tr(PS.domainPreview,PS[`domainPreview_${e.length}`])}))))}(),ge.createElement("div",null,1===(d??[]).length?r("Renew Domain"):r("Renew Domains"),ge.createElement("i",{className:Tr(PS.icon,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("p",{className:Tr(PS.text,PS.light)},function(){if(void 0!==u)return 1===c.length?u<0?r("$domain_was_expired",{domain:c[0].name}):r("$domain_expire",{domain:c[0].name,days:r("$in_days",u,"i")}):u<0?r("$domains_was_expired",{domain:m.length},void 0,m.length):r("$domains_expire",{domain:c.length,days:r("$in_days",u,"i")},void 0,c.length)}())),ge.createElement("button",{type:"button",className:PS.closeButton,"aria-label":r("Close"),onClick:function(e){Io(e),US=[...US,...c.map((e=>{let{address:t}=e;return t}))],s()}},ge.createElement("i",{className:"icon-close","aria-hidden":!0}))))}))),HS=fe(je((e=>({isSecurityWarningHidden:e.settings.isSecurityWarningHidden})))((function(t){let{isSecurityWarningHidden:n}=t;const{closeSecurityWarning:a}=Ke(),{shouldRender:o,ref:r}=Rs({isOpen:!n,noMountTransition:!0,withShouldRender:!0}),{isLandscape:i}=ui(),s=Ar(),c=Wo((e=>{e.stopPropagation(),a()}));if(o)return ge.createElement("div",{ref:r,className:Tr(PS.wrapper,i&&PS.wrapper_landscape),onClick:function(){ic(e.tpB)}},s("Consider More Secure Version"),ge.createElement("i",{className:Tr(PS.icon,"icon-chevron-right"),"aria-hidden":!0}),ge.createElement("p",{className:PS.text},s("Install our native app or browser extension.")),ge.createElement("button",{type:"button",className:PS.closeButton,"aria-label":s("Close"),onClick:c},ge.createElement("i",{className:"icon-close","aria-hidden":!0})))}))),$S=!(e.TI6||n.cp||e.hL1||n.pz||n.Ni||e.tKX),VS=fe(je((e=>{var t;return{isBackupRequired:Boolean(null===(t=ct(e))||void 0===t?void 0:t.isBackupRequired),isTestnet:e.settings.isTestnet,isViewMode:Tt(e)}}),((e,t,n)=>n(e.currentAccountId)))((function(e){let{isBackupRequired:t,isTestnet:n,isViewMode:a,onOpenBackupWallet:o}=e;const{isPortrait:r}=ui(),i=Ar();return ge.createElement(ge.Fragment,null,n&&ge.createElement("div",{className:r?PS.portraitContainer:PS.container},ge.createElement("div",{className:PS.testnetWarning},i("Testnet Version"))),!a&&ge.createElement(ge.Fragment,null,ge.createElement(MS,{isRequired:t,onOpenBackupWallet:o}),ge.createElement(WS,null)),$S&&ge.createElement(HS,null))}))),zS=fe(je((e=>{var t,n;const{ledger:a}=rt(e)||{},o=ct(e),{currentTokenSlug:r}=o??{},{isOnRampDisabled:i}=e.restrictions;return{stakingState:e.currentAccountId?Na(e,e.currentAccountId):void 0,currentTokenSlug:r,isTestnet:e.settings.isTestnet,isLedger:Boolean(a),isViewMode:Tt(e),isStakingInfoModalOpen:e.isStakingInfoModalOpen,isMediaViewerOpen:Boolean(null===(t=e.mediaViewer)||void 0===t?void 0:t.mediaId),isSwapDisabled:ua(e),isStakingDisabled:Aa(e),isOnRampDisabled:i,theme:e.settings.theme,accentColorIndex:null===(n=ut(e))||void 0===n?void 0:n.accentColorIndex}}),((e,t,n)=>n(e.currentAccountId)))((function(t){let{isActive:a,currentTokenSlug:o,stakingState:r,isTestnet:i,isViewMode:s,isLedger:c,isStakingInfoModalOpen:l,isSwapDisabled:d,isStakingDisabled:u,isOnRampDisabled:m,isMediaViewerOpen:p,theme:f,accentColorIndex:h}=t;const{selectToken:g,openBackupWalletModal:v,setActiveContentTab:w,closeStakingInfo:y,openStakingInfoOrStart:b,changeCurrentStaking:E,setLandscapeActionsActiveTabIndex:k,loadExploreSites:C,openReceiveModal:N,updatePendingSwaps:S}=Ke(),A=me(),T=me(),I=me(),B=Tb(),[_,x,D]=ju(!Sl()),[L,O]=ie(!1),P=3*n.$+B,M=r?Xd(r):"inactive";Nl(D,x),bi("receive",N),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ce((()=>{if(n.TF){if(!e)return null==Bb||Bb.setAttribute("content",_b),n.pz&&!n._7&&document.addEventListener("gesturestart",Io),()=>{null==Bb||Bb.setAttribute("content",xb),n.pz&&!n._7&&document.removeEventListener("gesturestart",Io)};null==Bb||Bb.setAttribute("content",xb)}}),[e])}(p);const{isPortrait:F,isLandscape:R}=ui();ye((()=>{e.TI6||C({isLandscape:R})})),zh(S,_?3e3:15e3);const{isVisible:U}=Ib({isDisabled:!F||!a,targetRef:A,rootMargin:`-${P}px 0px 0px 0px`,threshold:[1]}),{isVisible:W}=Ib({isDisabled:!F||!a,targetRef:A,rootMargin:`-${P}px 0px 0px 0px`}),H=Wo((()=>{g({slug:void 0}),w({tab:Kn.Assets})}));ce((()=>{if(n.TF&&F&&T.current&&o)return Fr(T.current,{excludedClosestSelector:".token-card",onSwipe:(e,t)=>t===Dr.Right&&(H(),!0)})}),[o,H,F]);const $=Sf(f);Xf(F?T:I,$,h);const V=Wo((e=>{e&&E({stakingId:e}),F||s?b():k({index:zn.Stake})}));return ge.createElement(ge.Fragment,null,!n.bA&&(F?ge.createElement("div",{ref:T,className:"c4YKj_bz"},ge.createElement("div",{className:"rfAUzAO1"},ge.createElement(VS,{onOpenBackupWallet:v}),ge.createElement(LS,{withBalance:!W,areTabsStuck:L,isScrolled:!U}),ge.createElement(ZC,{ref:A,onTokenCardClose:H,onYieldClick:V}),!s&&ge.createElement(IC,{containerRef:T,isTestnet:i,stakingStatus:M,isStakingDisabled:u,isSwapDisabled:d,isOnRampDisabled:m,onEarnClick:V})),ge.createElement(yS,{isActive:a,onStakedTokenClick:V,onTabsStuck:O})):ge.createElement("div",{ref:I,className:"nZyFvDbE"},ge.createElement("div",{className:Tr("mpB6taR7","custom-scroll")},ge.createElement(VS,{onOpenBackupWallet:v}),ge.createElement(LS,null),ge.createElement(ZC,{onTokenCardClose:H,onYieldClick:V}),!s&&ge.createElement(NC,{containerRef:I,stakingStatus:M,isLedger:c,theme:f})),ge.createElement("div",{className:"Sr6Y7sw5"},ge.createElement(yS,{onStakedTokenClick:V})))),ge.createElement(yk,null),ge.createElement(Nk,{isOpen:l,onClose:y}),ge.createElement(YE,null),ge.createElement(BE,null),ge.createElement(Ik,null),ge.createElement(Ek,null),ge.createElement(Lk,null),ge.createElement(Ok,null),ge.createElement(sE,null),ge.createElement(oE,null),!n.cp&&!n.bA&&ge.createElement(Bk,null))}))),KS=fe((function(t){let{isActive:n,isLoading:a,error:o,onClearError:r,onSubmit:i,onBack:s,onClose:c}=t;const l=Ar();return zi({isActive:n,onBack:s}),ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:l("Enter Password"),onClose:c}),ge.createElement(Cf,{isActive:n,isLoading:a,error:o,operationType:"passcode",withCloseButton:e.UMQ,submitLabel:l("Send"),cancelLabel:l("Back"),onSubmit:i,onCancel:s,onUpdate:r}))})),qS="cOGOPS4Q";var jS=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.SelectAccountsHardware=3]="SelectAccountsHardware",e[e.ViewMode=4]="ViewMode",e}(jS||{});const YS=fe(je((e=>{var t,n;const a=at(e),o=bt(e),{byId:r}=e.walletVersions??{},i=null==r?void 0:r[e.currentAccountId],s=!(null==i||!i.length),{auth:{forceAddingTonOnlyAccount:c},hardware:{hardwareWallets:l}}=e;return{isOpen:e.isAddAccountModalOpen,isLoading:null===(t=e.accounts)||void 0===t?void 0:t.isLoading,error:null===(n=e.accounts)||void 0===n?void 0:n.error,accounts:a,isPasswordPresent:o,hardwareWallets:l,withOtherWalletVersions:s,forceAddingTonOnlyAccount:c}}))((function(t){let{isOpen:a,isLoading:o,error:r,hardwareWallets:i,isPasswordPresent:s,accounts:c,withOtherWalletVersions:l,forceAddingTonOnlyAccount:d}=t;const{addAccount:u,clearAccountError:m,closeAddAccountModal:p,afterSelectHardwareWallets:f,openSettingsWithState:h,resetHardwareWalletConnect:g,clearAccountLoading:v}=Ke(),w=Ar(),[y,b]=ie(jS.Initial),[E,k]=ie(!1),C=Wo((()=>{b(jS.Initial),m()})),N=Wo((()=>{b(jS.Initial),k(!1),v()})),S=Wo((()=>{s?im()?sm().then((e=>u({method:"createAccount",password:e}))):(b(jS.Password),k(!1)):u({method:"createAccount",password:""})}));ce((()=>{d&&S()}),[d]);const A=Wo((()=>{s?(k(!0),im()?sm().then((e=>u({method:"importMnemonic",password:e}))):b(jS.Password)):u({method:"importMnemonic",password:""})})),T=Wo((()=>{b(jS.ViewMode)})),I=Wo((()=>{g(),b(jS.ConnectHardware)})),B=Wo((()=>{f({hardwareSelectedIndices:[i[0].index]}),p()})),_=Wo((e=>{e?B():b(jS.SelectAccountsHardware)})),x=Wo((e=>{u({method:E?"importMnemonic":"createAccount",password:e})})),D=Wo((()=>{p(),h({state:$n.WalletVersion})}));function L(t,a,s){switch(s){case jS.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:w("Add Wallet"),onClose:p}),ge.createElement("div",{className:Tr(qS,"t8FNRQDi")},ge.createElement(Jg,{icon:"wallet-add",label:w("Create New Wallet"),onClick:S,isLoading:!E&&o})),ge.createElement("span",{className:"nnhxqZYR"},w("or import from")),ge.createElement("div",{className:qS},ge.createElement(Jg,{icon:"key",label:w(e.TI6?"24 Secret Words":"12/24 Secret Words"),onClick:A,isLoading:E&&o}),n.sC&&ge.createElement(Jg,{icon:"ledger-alt",label:w("Ledger"),onClick:I})),!e.TI6&&ge.createElement("div",{className:qS},ge.createElement(Jg,{icon:"wallet-view",label:w("View Any Address"),onClick:T})),l&&ge.createElement("div",{className:"Ai_X8CqD"},ge.createElement("span",null,w("$wallet_switch_version_1",{action:ge.createElement("div",{role:"button",tabIndex:0,onClick:D,className:"d8gw7TAv"},w("$wallet_switch_version_2"))}))));case jS.Password:return ge.createElement(KS,{isActive:t,isLoading:o,error:r,onClearError:m,onSubmit:x,onBack:C,onClose:p});case jS.ConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:_,onCancel:C,onClose:p});case jS.SelectAccountsHardware:return ge.createElement(Nb,{accounts:c,hardwareWallets:i,onCancel:C,onClose:p});case jS.ViewMode:return ge.createElement(Wg,{isActive:t,isLoading:o,onCancel:C,onClose:p})}}return ge.createElement(Zs,{hasCloseButton:!0,isOpen:a,noBackdropClose:!0,dialogClassName:"ZNc8nV1w",contentClassName:"BGrP96yj",nativeBottomSheetKey:"add-account",forceFullNative:y===jS.Password,onCloseAnimationEnd:N,onClose:p},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:y,nextKey:y!==jS.Initial||im()?void 0:jS.Password},L))}))),GS=fe((function(e){let{isActive:t,isInModal:n,mnemonic:a,checkIndexes:o,buttonLabel:r,onCancel:i,onSubmit:s,onClose:c}=e;const l=Ar();return zi({isActive:t,onBack:i}),ge.createElement("div",{className:Ks.transitionContentWrapper},ge.createElement(Fh,{title:l("Let's Check!"),onClose:c}),ge.createElement("div",{className:Tr(Ks.transitionContent,"custom-scroll")},ge.createElement("p",{className:Tr(ag.info,ag.small)},l("Let’s make sure your secrets words are recorded correctly.")),ge.createElement(hg,{descriptionClassName:Tr(ag.info,ag.small),isActive:t,mnemonic:a,checkIndexes:o,isInModal:n,errorClassName:Tr(ag.error,ag.small),onSubmit:s}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:i,className:Ks.button},l("Back")),ge.createElement(Vs,{isPrimary:!0,forFormId:"check_mnemonic_form",className:Ks.button},r))))})),QS=fe((function(e){let{isActive:t,mnemonic:n,onNext:a,onClose:o}=e;const r=Ar(),i=(null==n?void 0:n.length)||0;return zi({isActive:t,onBack:o}),ge.createElement("div",{className:Ks.transitionContentWrapper},ge.createElement(Fh,{title:r("%1$d Secret Words",i),onClose:o}),ge.createElement("div",{className:Tr(ag.mnemonicContainer,Ks.transitionContent,"custom-scroll")},ge.createElement(Vg,{mnemonic:n}),a&&ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,onClick:a},r("Let's Check")))))})),XS=fe((function(e){let{isActive:t,privateKeyHex:n,onClose:a}=e;const o=Ar();return zi({isActive:t,onBack:a}),ge.createElement("div",{className:Ks.transitionContentWrapper},ge.createElement(Fh,{title:o("Private Key"),onClose:a}),ge.createElement("div",{className:Tr(ag.mnemonicContainer,Ks.transitionContent,"custom-scroll")},ge.createElement("p",{className:Tr(ag.info,ag.small)},ge.createElement(eg,{from:"⚠️"})," ",tr(o("$mnemonic_warning"))),ge.createElement("p",{className:ag.privateKey},n)))})),JS=fe((function(e){let{isActive:t,onSubmit:n,onClose:a}=e;const o=Ar(),[r,i]=ie(!1),[s,c]=ie(!1),[l,d]=ie(!1),u=r&&s&&l,m=Wo((()=>{u&&n()}));return ge.createElement("div",{className:Ks.transitionContentWrapper},ge.createElement(Fh,{title:o("Safety Rules"),onClose:a}),ge.createElement("div",{className:Tr(Ks.transitionContent,"custom-scroll")},ge.createElement(Hg,{customStickerClassName:ag.modalSticker,customButtonWrapperClassName:Ks.buttons,isFullSizeButton:!1,isActive:t,isFirstCheckboxSelected:r,isSecondCheckboxSelected:s,isThirdCheckboxSelected:l,textFirst:o("$safety_rules_one"),textSecond:o("$safety_rules_two"),textThird:o("$safety_rules_three"),onFirstCheckboxClick:i,onSecondCheckboxClick:c,onThirdCheckboxClick:d,onSubmit:m})))}));var ZS=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.mnemonic=2]="mnemonic",e[e.check=3]="check",e}(ZS||{});const eA=fe(je((e=>{const{isBackupRequired:t}=ct(e)||{};return{currentAccountId:e.currentAccountId,isBackupRequired:t}}))((function(t){let{isOpen:n,currentAccountId:o,onClose:r,isBackupRequired:i}=t;const{setIsBackupRequired:s,setIsPinAccepted:c,clearIsPinAccepted:l}=Ke(),d=Ar(),[u,m]=ie(ZS.confirm),[p,f]=ie(ZS.password),[h,g]=ie([]),[v,w]=ie(!1),[y,b]=ie(),E=me(void 0),k=u===ZS.confirm||u===ZS.password;ce((()=>{E.current=void 0}),[n]);const C=Wo((()=>{m(ZS.password),f(ZS.mnemonic)})),N=Wo((async e=>{if(w(!0),E.current=await(0,a.p)("fetchMnemonic",o,e),!E.current)return b("Wrong password, please try again."),w(!1),void sl();tl()&&(c(),await cl(!0),l()),w(!1),f(ZS.check),m(ZS.mnemonic)})),S=Wo((()=>{b(void 0)})),A=Wo((()=>{var t;g(Md((null===(t=E.current)||void 0===t?void 0:t.length)||e.xA_)),m(ZS.check),f(void 0)})),T=Wo((()=>{m(ZS.mnemonic),f(ZS.check)})),I=Wo((()=>{w(!1),b(void 0),m(ZS.confirm),f(ZS.password)})),B=Wo((()=>{s({isMnemonicChecked:!0}),r()}));function _(t,n,a){const o=E.current;switch(a){case ZS.confirm:return ge.createElement(JS,{isActive:t,onSubmit:C,onClose:r});case ZS.password:return ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:d("Enter Password"),onClose:r}),ge.createElement(Cf,{isActive:t,isLoading:v,error:y,withCloseButton:e.UMQ,submitLabel:d("$back_up_auth"),cancelLabel:d("Cancel"),onSubmit:N,onCancel:r,onUpdate:S}));case ZS.mnemonic:return o&&ml(o)?ge.createElement(XS,{privateKeyHex:o[0],onClose:r}):ge.createElement(QS,{isActive:t,mnemonic:o,onNext:i?A:void 0,onClose:r});case ZS.check:return ge.createElement(GS,{isActive:t,isInModal:!0,mnemonic:E.current,checkIndexes:h,buttonLabel:d("Done"),onSubmit:B,onCancel:T,onClose:r})}}return ge.createElement(Zs,{isOpen:n,hasCloseButton:!0,dialogClassName:"S7OzI0EB",nativeBottomSheetKey:"backup",forceFullNative:u===ZS.password,noResetFullNativeOnBlur:k,onClose:r,onCloseAnimationEnd:I},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:u,nextKey:p},_))}))),tA={modal:"gDlNRq3N",dialog:"meAvQTC9",container:"EWcWOV6u",menuButton:"hLEOc4Ou",closeButton:"mlPdYaCz",icon:"xQLJ1EYA",nftInfo:"VUUxnoTG",thumbnail:"_LL4RfB7",info:"j87GjThh",nftName:"O9BeJGjg",collectionName:"EHtLitju",content:"uo4QatBc",noData:"Tg1GGhMT",label:"SiE9CJ9J",description:"NsrMt36R",attributesList:"bDlzAhU_",attributeName:"Q59iVuTN",attributeValue:"d7Ra9vbr",first:"o8kAOnv4",last:"gw8tS0Ge",expandButton:"Wgu0lfq9",collectionNameIcon:"BjwLITqA",expandButtonIcon:"PcBlbvHP"},nA=fe(je((e=>{const{currentNftForAttributes:t,nfts:n}=ct(e)||{},{dnsExpiration:a}=n||{};return{nft:t,dnsExpiration:a}}))((function(e){let{nft:t,dnsExpiration:a}=e;const{closeNftAttributesModal:o,openMediaViewer:r,openNftCollection:i}=Ke(),s=Ar(),c=me(),[l,d]=ie(),{isPortrait:u}=ui(),m=!!t,p=Sh(t,!0),{metadata:{lottie:f,attributes:h}}=p||{metadata:{}},g=(null==h?void 0:h.length)||0,[v,w]=ie(g>5),y=(0,ga.Cz)(p,a),b=y?(0,Oa.GS)(y):void 0,E=(null==h?void 0:h.slice(0,v?5:void 0))||[],k=!(null!=p&&p.description)&&0===E.length;Ee((()=>{w(g>6)}),[g,t]),ce((()=>{if(m)return zr(),Kr}),[m]);const C=Wo((()=>{const{right:e,y:t}=c.current.getBoundingClientRect();d({x:e,y:t})})),N=Wo((()=>{d(void 0)})),S=Wo((e=>{Io(e),w(!1)})),A=Wo((()=>{r({mediaId:p.address,mediaType:qn.Nft})})),T=Wo((e=>{Io(e),o(void 0,{forceOnHeavyAnimation:!0}),i({address:p.collectionAddress},{forceOnHeavyAnimation:!0})}));if(p)return ge.createElement(Zs,{isOpen:m,className:tA.modal,dialogClassName:tA.dialog,contentClassName:tA.container,onClose:o},ge.createElement("button",{type:"button","aria-label":s("Close"),className:tA.closeButton,onClick:()=>o()},ge.createElement("i",{className:Tr(tA.icon,tA.actionIcon,!u||n.cp&&n.MP?"icon-close":"icon-chevron-left"),"aria-hidden":!0})),ge.createElement(sS,{nft:p,ref:c,dnsExpireInDays:b,menuAnchor:l,className:tA.menuButton,onOpen:C,onClose:N}),ge.createElement("div",{className:Tr(tA.nftInfo,"nft-container"),"data-nft-address":p.address},f?ge.createElement($p,{size:250,shouldStretch:!0,play:m,noLoop:!1,tgsUrl:f,previewUrl:p.thumbnail,className:tA.thumbnail,noPreviewTransition:!0,onClick:A}):ge.createElement("img",{src:p.image||p.thumbnail,alt:p.name,role:"button",tabIndex:0,className:tA.thumbnail,onClick:A}),ge.createElement("div",{className:tA.info},ge.createElement("div",{className:tA.nftName},p.name),p.collectionName&&ge.createElement("div",{className:tA.collectionName,onClick:T,tabIndex:0,role:"button"},p.collectionName,ge.createElement("i",{className:Tr(tA.collectionNameIcon,"icon-chevron-right"),"aria-hidden":!0})))),ge.createElement("div",{className:Tr(tA.content,k&&tA.noData)},k&&s("No additional data."),p.description&&ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:tA.label},s("Description")),ge.createElement("div",{className:tA.description},p.description)),E.length>0&&ge.createElement(ge.Fragment,null,ge.createElement("h3",{className:tA.label},s("Attributes")),ge.createElement("table",{className:tA.attributesList},ge.createElement("tbody",null,E.map(((e,t)=>{const n=0===t,a=t===E.length-1;return ge.createElement("tr",{key:t},ge.createElement("th",{className:Tr(tA.attributeName,n&&tA.first,a&&tA.last)},e.trait_type),ge.createElement("td",{className:Tr(tA.attributeValue,n&&tA.first,a&&tA.last)},e.value))})))),v&&ge.createElement("a",{href:"#",className:tA.expandButton,onClick:S},s("Show All"),ge.createElement("i",{className:Tr(tA.expandButtonIcon,"icon-chevron-down"),"aria-hidden":!0})))))}))),aA=fe(je((e=>{const{addressByChain:t}=it(e,e.currentAccountId)||{},{countryCode:n}=e.restrictions,{chainForOnRampWidgetModal:a}=e;return{chain:a,address:a&&(null==t?void 0:t[a]),countryCode:n,theme:e.settings.theme}}))((function(e){let{chain:t,address:n,countryCode:o,theme:r}=e;const{closeOnRampWidgetModal:i,showError:s}=Ke(),c=Boolean(t)&&Boolean(n),l=Ar(),d=me(),[u,m]=ie(!0),[p,f]=ie(!0),[h,g]=ie(""),v=Sf(r);ce((()=>(c||(m(!0),f(!0),g("")),()=>window.clearTimeout(d.current))),[c]),ce((()=>{c&&("RU"!==o?(async()=>{const e=await(0,a.p)("getMoonpayOnrampUrl",t,n,v);e&&"error"in e?s({error:e.error}):g((null==e?void 0:e.url)||"")})():g(`https://dreamwalkers.io/ru/mytonwallet/?wallet=${n}&give=CARDRUB&take=TON&type=buy`))}),[n,v,t,o,c]);const w=()=>{f(!1),d.current=window.setTimeout((()=>{m(!1)}),200)};return ge.createElement(Zs,{hasCloseButton:!0,isOpen:c,title:l("Buy with Card"),dialogClassName:"LcOFGyVq",forceFullNative:!0,nativeBottomSheetKey:"onramp-widget",onClose:i},ge.createElement("div",{className:"ccR1JZvK"},ge.createElement("div",{className:Tr("RfEkSEyB",!p&&"X5xveqOQ",!u&&"m3F53tk6")},ge.createElement(Qg,null)),function(){if(h)return ge.createElement("iframe",{title:"On Ramp Widget",onLoad:w,className:Tr("l_Jb77z9",!p&&"ZRxV9CWH"),width:"100%",height:"100%",frameBorder:"none",allow:"autoplay; camera; microphone; payment",src:h},l("Cannot load widget"))}()))}))),oA="Fq9FxTrz",rA=n.pz?160:360,iA=n.pz?650:500,sA=n.pz?250:500,cA=fe((function(e){let{isOpen:t,onClose:a}=e;const{handleQrCode:o}=Ke(),[r,i]=ie(!1),[s,c]=ie(!1),[d,u]=ie(!1),{ref:m,shouldRender:p}=Rs({isOpen:r,withShouldRender:!0}),f=Ar(),h=me(),g=Wo((async()=>{Ts(document.documentElement,oA),await Ku.stopScan()})),v=Wo((()=>{u(!1),c(!1),a()})),w=Wo((async()=>{const e={formats:[zu.Gi.QrCode]},t=function(e){if(!e)return;const t=e.getBoundingClientRect(),a={left:t.left*n.Lv,right:t.right*n.Lv,top:t.top*n.Lv,bottom:t.bottom*n.Lv,width:t.width*n.Lv,height:t.height*n.Lv};return[[a.left,a.top],[a.left+a.width,a.top],[a.left+a.width,a.top+a.height],[a.left,a.top+a.height]]}(h.current);await Ku.removeAllListeners();const a=await Ku.addListener("barcodesScanned",(async e=>{let{barcodes:[r]}=e,i=r.cornerPoints;i=i?function(e){e.sort(((e,t)=>e[1]-t[1]));const t=e.slice(0,2),n=e.slice(2);return t.sort(((e,t)=>t[0]-e[0])),n.sort(((e,t)=>e[0]-t[0])),[...t,...n]}(i):void 0,t&&i&&!function(e,t){return e[0][0]>t[0][0]||e[0][1]>t[0][1]||e[1][0]<t[1][0]||e[1][1]>t[1][1]||e[2][0]<t[2][0]||e[2][1]<t[2][1]||e[3][0]>t[3][0]||e[3][1]<t[3][1]}(t,i)&&(await a.remove(),await cl(),o({data:r.rawValue}),v(),await(0,l.v7)(sA),n.pz&&Ts(document.documentElement,oA))}));u(!0),await Ku.startScan(e),r||Ku.isTorchAvailable().then((e=>{i(e.available)})),Ku.isTorchEnabled().then((e=>{c(e.enabled)}))}));pi((e=>{let a,o,[r]=e;if(!n.KI)return t?(a=window.setTimeout(w,rA),o=window.setTimeout((()=>{As(document.documentElement,oA)}),iA)):r&&v(),()=>{a&&window.clearTimeout(a),o&&window.clearTimeout(o)}}),[t,v,w]);const y=Wo((async()=>{s?await Ku.disableTorch():await Ku.enableTorch(),c(!s)})),b=Tr("GRYD1l1J",s&&"om10jZuu");return ge.createElement(Zs,{isOpen:t,onClose:v,nativeBottomSheetKey:"qr-scanner",forceFullNative:!0,onCloseAnimationEnd:g},ge.createElement("div",{className:Tr("D8GViz8d",d&&"MmIKemUX")},ge.createElement("div",{className:"CxvvAWsI","aria-label":f("Close"),role:"button",tabIndex:0,onClick:v},ge.createElement("i",{className:Tr(Ks.closeIcon,"icon-close"),"aria-hidden":!0})),p&&ge.createElement("div",{ref:m,className:b,onClick:y,"aria-label":f("Toggle Flashlight"),role:"button",tabIndex:0},ge.createElement("i",{className:"icon-flashlight","aria-hidden":!0})),ge.createElement("div",{className:"D1xdmb1p"},f("Scan QR Code")),ge.createElement("div",{className:"cQ9fX2T7",ref:h},ge.createElement("div",{className:"Y5_NorwC"}))))}));var lA=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.complete=2]="complete",e}(lA||{});const dA=fe(je((e=>{const{dataHex:t,error:n,isSigned:a}=e.currentSignature||{};return{dataHex:t,error:n,isSigned:a}}))((function(e){let{dataHex:t,error:n,isSigned:a}=e;const{submitSignature:o,clearSignatureError:r,cancelSignature:i}=Ke(),s=Ar(),[c,l,d]=ju(!1),[u,m]=ie(lA.confirm),[p,f]=ie(lA.password);le((()=>{t&&(m(lA.confirm),f(lA.password),l())}),[t,l]),le((()=>{a&&(m(lA.complete),f(void 0))}),[a]),ce((()=>u===lA.complete?Wr({onEnter:d}):void 0),[d,u]);const h=Wo((()=>{m(lA.password),f(lA.complete)})),g=Wo((e=>{o({password:e})}));function v(e,a,o){switch(o){case lA.confirm:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:s("Confirmation"),onClose:d}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement("div",{className:Mb},s("Signing Data")),ge.createElement("div",{className:Ub},t),ge.createElement("div",{className:"IHEwWBxd"},tr(s("$signature_warning"))),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{className:Ks.button,onClick:d},s("Cancel")),ge.createElement(Vs,{isPrimary:!0,className:Ks.button,onClick:h},s("Sign")))));case lA.password:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:s("Enter Password"),onClose:d}),ge.createElement(Cf,{isActive:e,error:n,submitLabel:s("Sign"),cancelLabel:s("Cancel"),onSubmit:g,onCancel:d,onUpdate:r}))}(e);case lA.complete:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:s("Done!"),onClose:d}),ge.createElement("div",{className:Tr(Ks.transitionContent,Ks.transitionContent_simple)},ge.createElement($p,{play:e,noLoop:!1,nonInteractive:!0,className:"wlPR2AOa",tgsUrl:fp.thumbUp,previewUrl:fp.thumbUpPreview}),ge.createElement("div",{className:"bgrj6VK3"},s("Signing was confirmed!")),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,onClick:d},s("Close")))))}(e)}}return ge.createElement(Zs,{hasCloseButton:!0,isOpen:c,dialogClassName:"nrINNy28",onClose:d,onCloseAnimationEnd:i},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:u,nextKey:p},v))})));function uA(e,t){const n=be(e,!0),a=me(),o=ve(),r=null!=e,i=null!=n;return r&&a.current&&(clearTimeout(a.current),a.current=void 0),Ee((()=>{t&&!r&&i&&!a.current&&(a.current=window.setTimeout((()=>{a.current=void 0,o()}),t))}),[t,o,r,i]),a.current&&t&&!r?n:e}const mA=fe((function(e){let{timestamp:t,deadline:n,onCompleted:a}=e;Ar();const o=Math.floor((t+n-Date.now())/Oa.Z2),[r,i]=ie(Math.max(o,0)),s=r<=300;return ce((()=>{const e=(0,l.Gf)(Oa.Z2,(()=>{r<=0||i(Math.floor((t+n-Date.now())/Oa.Z2))}));return r<=0&&(null==a||a()),e}),[r,a,t,n]),ge.createElement("span",{className:Tr("AsvSkk14",s&&"CZBR69BT")},function(e,t){const n=e=>e.toString().padStart(2,"0"),a=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;let i=a>0?`${a}:`:"";return i+=`${a>0?n(o):o}:`,i+=n(r),i}(0,r))})),pA={infoBlock:"DqUj918m",infoRow:"suN_Ci9f",noIcon:"SUjgosvS",noCurrency:"RjCLBwiu",infoRowIcon:"kaMx21E_",infoRowToken:"iNWWwjqK",label:"uLUQH_M3",infoRowChain:"NcAsWeQk",infoRowAmount:"TzvDf_Jl",infoRowAmountGreen:"I6xrY9jc",infoRowAmountError:"iiFYcyID",infoRowCurrency:"zab5hSsH",infoRowCurrencyValue:"Q3pxLMbG",infoSeparator:"ZO00ZPul",infoSeparatorIcon:"fPy_1zLl",infoSeparatorIconError:"GP0AJq0W"},fA=fe((function(t){let{isSensitiveDataHidden:n,tokenIn:a,amountIn:o,tokenOut:r,amountOut:i,isError:s=!1}=t;const c=de((()=>pw(5,13,o??"")),[o]),l=de((()=>pw(5,13,i??"")),[i]);function d(t,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const u=d?l:`-${l}`,m=Boolean(c&&e.OZB[c.slug]);return ge.createElement("div",{className:Tr(pA.infoRow,!c&&pA.noIcon,d&&pA.noCurrency)},Boolean(c)&&ge.createElement(Bw,{token:c,withChainIcon:!0,className:pA.infoRowIcon}),ge.createElement("span",{className:pA.infoRowToken},null==c?void 0:c.name,m&&ge.createElement("span",{className:Tr(pA.label,pA.chainLabel)},e.OZB[c.slug])),ge.createElement(Mw,{isActive:n,cols:t,rows:2,cellSize:8,align:"right",className:Tr(pA.infoRowAmount,d&&pA.infoRowAmountGreen,s&&pA.infoRowAmountError)},cr(u,(null==c?void 0:c.symbol)??"")),ge.createElement("span",{className:pA.infoRowChain},pE(null==c?void 0:c.chain)),!d&&function(e,t,n,a){const o=ww(e,t,n,a);return o?ge.createElement("span",{className:pA.infoRowCurrency},o.firstCurrencySymbol," ≈",ge.createElement("span",{className:pA.infoRowCurrencyValue},o.price," ",o.secondCurrencySymbol)):void 0}(o,i,a,r))}return ge.createElement("div",{className:pA.infoBlock},d(c,a,o),ge.createElement("div",{className:pA.infoSeparator},ge.createElement("i",{className:Tr(pA.infoSeparatorIcon,s&&pA.infoSeparatorIconError,s?"icon-close":"icon-arrow-down"),"aria-hidden":!0})),d(l,r,i,!0))}));function hA(e){let{terms:t,token:n,precision:a,isLoading:o,className:r}=e;const i=Ar();return ge.createElement("div",{className:r},ge.createElement("div",{className:"FHA1HU_P"},i("Fee")),ge.createElement("div",{className:"OgExpTBf"},ge.createElement(ff,{activeKey:o?1:0,name:"fade",className:"JaS_WGfX"},o?ge.createElement(Hs,{isActive:!0,className:"SFz4gihZ"}):ge.createElement(Fy,{terms:t,token:n,precision:a}))))}const gA={modalDialog:"E6N6MD3z",unstakeModal:"gnNvHGfL",passwordFormContent:"KL1uqo4o",passwordFormContentInModal:"CZ9Kse33",sticker:"AeVBXxbG",footer:"rQ0tvCAk",copyButtonWrapper:"VtMfi0Xs",feeField:"fSQYvfg1",comment:"jxc6euua",button:"eww3tEAs",buttonWide:"ND5LbWGY",unstakeTime:"hDTeTwua",unstakeTimeIcon:"tZ2WbGH0",scamImage:"BASL0DzO",scamAddress:"km7wfY2m",modalTitle:"yadTct7r",transactionHeader:"uAQ2u0Hd",headerTitle:"J16GqrT7",headerTitle__badge:"arXCGBG7",headerTitleBadge:"arXCGBG7",warning:"w8eOJTS4",headerDate:"fiJguUso",infoBlock:"NGumnj62",textFieldWrapper:"UGOei_Ih",swapSupportBlock:"mVgCbbey",textFieldLabel:"lXDi3LO1",advancedTooltip:"hr8oR5Ry",advancedTooltipContainer:"t6X1h79H",errorCexBlock:"Qr0LqmBg",errorCexMessage:"uSKXuCCa",errorCexEmail:"cQ1RlviM",changellyInfoBlock:"IZsujzDG",changellyDescription:"IgVxAVQB",changellyDescriptionBold:"EOk33hg6",qrCode:"DfLLakci",qrCodeHidden:"L9e2rlZo",scamWarning:"OAz9rga6"},vA=new Set(["new","waiting"]),wA=new Set(["new","waiting","confirming","exchanging","sending"]),yA=new Set(["failed","expired","refunded","overdue"]),bA=new Set(["failed","expired"]),EA=fe(je((e=>{var t,n;const a=ct(e),o=rt(e),{isSwapDisabled:r}=e.restrictions,{theme:i,isSensitiveDataHidden:s}=e.settings,c=null==a?void 0:a.currentActivityId,l=c?null==a||null===(t=a.activities)||void 0===t?void 0:t.byId[c]:void 0;return{activity:"swap"===(null==l?void 0:l.kind)?l:void 0,tokensBySlug:null===(n=e.swapTokenInfo)||void 0===n?void 0:n.bySlug,theme:i,addressByChain:null==o?void 0:o.addressByChain,isSwapDisabled:r||e.settings.isTestnet||Tt(e),isSensitiveDataHidden:s}}))((function(t){let{activity:n,tokensBySlug:a,theme:o,addressByChain:r,isSwapDisabled:i,isSensitiveDataHidden:s}=t;const{fetchActivityDetails:c,startSwap:l,closeActivityInfo:d}=Ke(),u=Ar(),{isPortrait:m}=ui(),p=Boolean(n),f=Ve().settings.animationLevel===e.dnp?0:(m?js:qs)+e.xB5,h=uA(n,f),g=Sf(o),{id:v,hashes:w,timestamp:y,networkFee:b="0",ourFee:E="0",shouldLoadDetails:k}=h??{},{payinAddress:C,payoutAddress:N,payinExtraId:S}=(null==h?void 0:h.cex)||{};let A,T="0",I="0",B=!0,_=!1,x=!1,D=!1,L=!1,O=!1,P=!1,M=!1,F=!1,R="",U="",W=!1,H="",$=!0,V=!1;const z=de((()=>{if(null!=h&&h.from&&a)return Wd(a,h.from)}),[null==h?void 0:h.from,a]),K=de((()=>{if(null!=h&&h.to&&a)return Wd(a,h.to)}),[null==h?void 0:h.to,a]),q=$d({from:z,to:K,toAddress:N,addressByChain:r});if(h){const{status:t,from:n,cex:a}=h;if(T=h.fromAmount,I=h.toAmount,$=n===e.Tu9.slug,D=Boolean(a),a?(V=!!y&&y+e.JWy-Date.now()<0,F=vA.has(a.status)&&V,x="finished"!==a.status,B=!F&&wA.has(a.status),M=B,L=F||yA.has(a.status),O="hold"===a.status,P="waiting"===a.status&&!F&&!q&&!$,R=a.transactionId):(B="pending"===t,_=bA.has(t)),B)U=u("Swapping");else if(O)U=u("$swap_action"),A=u("On Hold"),W=!0;else if(L){const{status:e}=h.cex??{};"expired"===e||"overdue"===e?(U=u("$swap_action"),A=u("Expired"),H=u("You have not sent the coins to the specified address.")):"refunded"===e?(U=u("$swap_action"),A=u("Refunded"),H=u("Exchange failed and coins were refunded to your wallet.")):(U=u("$swap_action"),A=u("Failed"))}else _?(U=u("$swap_action"),A=u("Failed")):U=u("Swapped")}const j=v?D?null==w?void 0:w[0]:on(v).hash:void 0,Y=Go("ton",j),G=!S&&"ton"===(null==K?void 0:K.chain)&&!q,{qrCodeRef:Q,isInitialized:X}=VE({address:C,isActive:Boolean(C),hiddenClassName:gA.qrCodeHidden,hideLogo:!0}),J=Wo((()=>{d({id:v})})),Z=Wo((()=>{d({id:v}),l({tokenInSlug:z.slug,tokenOutSlug:K.slug,amountIn:T})}));function ee(){if(S)return ge.createElement("div",{className:gA.textFieldWrapper},ge.createElement("span",{className:gA.textFieldLabel},u("Memo")),ge.createElement(Iy,{address:S,copyNotification:u("Memo was copied!"),noSavedAddress:!0,noExplorer:!0}))}function te(){if(!Number(b)&&!k||!z)return;const e=$?{native:(0,Mt.z)(b).add(E).toString()}:{native:b,token:E};return ge.createElement(hA,{terms:e,token:z,precision:"pending"===(null==n?void 0:n.status)?"approximate":"exact",isLoading:k})}return ce((()=>{v&&k&&c({id:v})}),[v,k]),ge.createElement(Zs,{hasCloseButton:!0,title:ge.createElement("div",{className:gA.transactionHeader},ge.createElement("div",{className:gA.headerTitle},U,B&&ge.createElement($p,{play:p,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:fp[g].iconClock,previewUrl:fp[g].preview.iconClock}),!!A&&ge.createElement("span",{className:Tr(gA.headerTitle__badge,W&&gA.warning)},A)),!!y&&ge.createElement("div",{className:gA.headerDate},(0,Oa.TK)(u.code,y),", ",(0,Oa.fU)(y))),titleClassName:gA.modalTitle,isOpen:p,nativeBottomSheetKey:"swap-activity",onClose:J},ge.createElement("div",{className:Ks.transitionContent},ge.createElement(fA,{isSensitiveDataHidden:s,tokenIn:z,amountIn:T,tokenOut:K,amountOut:I,isError:_||L}),ge.createElement("div",{className:gA.infoBlock},function(){if(P){if(q)return;const t=Hd(null==z?void 0:z.chain)?z.chain:void 0;return ge.createElement("div",{className:gA.changellyInfoBlock},te(),ge.createElement("span",{className:gA.changellyDescription},u("$swap_changelly_to_ton_description1",{value:ge.createElement("span",{className:gA.changellyDescriptionBold},cr(Number(T),(null==z?void 0:z.symbol)??"",!0)),blockchain:ge.createElement("span",{className:gA.changellyDescriptionBold},pE(null==z?void 0:z.chain)),time:ge.createElement(mA,{timestamp:y??0,deadline:e.JWy})})),ge.createElement(Iy,{chain:t,address:C,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}),ee(),G&&ge.createElement("div",{className:Tr(gA.qrCode,!X&&gA.qrCodeHidden),ref:Q}))}return ge.createElement(ge.Fragment,null,te(),!q&&function(){if(!C)return;const e=$?K:z,t=Hd(null==e?void 0:e.chain)?e.chain:void 0;return ge.createElement("div",{className:gA.textFieldWrapper},ge.createElement("span",{className:gA.textFieldLabel},$?u("Your %blockchain% Address",{blockchain:null==K?void 0:K.name}):u("Address for %blockchain% transfer",{blockchain:null==z?void 0:z.name})),ge.createElement(Iy,{chain:t,address:$?N:C,copyNotification:u("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0}))}(),!q&&ee())}(),x&&(O?ge.createElement("div",{className:gA.textFieldWrapper},ge.createElement("span",{className:gA.changellyDescription},u("$swap_changelly_kyc_security",{email:ge.createElement("span",{className:gA.changellyDescriptionBold},e.gpw)})),R&&ge.createElement(Iy,{text:R,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})):ge.createElement("div",{className:Tr(gA.textFieldWrapper,gA.swapSupportBlock)},H&&ge.createElement("span",{className:gA.errorCexMessage},H),M&&ge.createElement("span",{className:Tr(gA.changellyDescription)},u("Please note that it may take up to a few hours for tokens to appear in your wallet.")),V&&ge.createElement(ge.Fragment,null,ge.createElement("span",{className:gA.changellyDescription},u("$swap_changelly_support",{livechat:ge.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:gA.changellyDescriptionBold},u("Changelly Live Chat")),email:ge.createElement("span",{className:gA.changellyDescriptionBold},e.HWN)})),R&&ge.createElement(Iy,{text:R,copyNotification:u("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0})))),Y&&ge.createElement("div",{className:gA.textFieldWrapper},ge.createElement("span",{className:gA.textFieldLabel},u("Transaction ID")),ge.createElement(Iy,{noSavedAddress:!0,chain:"ton",address:j,addressUrl:Y,isTransaction:!0,copyNotification:u("Transaction ID was copied!")}))),!i&&ge.createElement("div",{className:gA.footer},function(){let e=!0,t="Swap Again";if(P)return ge.createElement(Vs,{onClick:J,className:gA.button},u("Close"));if(O)e=!1;else if(L){const{status:e}=(null==h?void 0:h.cex)??{};"expired"!==e&&"refunded"!==e&&"overdue"!==e||(t="Try Again")}return e?ge.createElement(Vs,{onClick:Z,className:gA.button},u(t)):void 0}())))}))),kA="MeZ5UFq3",CA=fe((function(t){let{isIncoming:n,isScam:a,isFailed:o,amount:r,token:i,status:s,noSign:c=!1,isSensitiveDataHidden:l,baseCurrency:d}=t;const u=o||a?"X1mdYuXG":n?"cuIyqZ4t":void 0;return ge.createElement(ge.Fragment,null,function(){const{decimals:t,symbol:a}=i??e.Bx3,o=(0,Pt.nI)(c?(0,ma.wg)(r):r,t),[d,m]=cr(o,"",c,t,!n).split("."),p=Boolean(s);return ge.createElement(Mw,{isActive:l,cols:12,rows:p?7:4,align:"center",cellSize:p?17:18,className:Tr("__I8XE5D",s&&kA)},ge.createElement("div",{className:Tr("Qy2zkhK5",s&&kA,u,"rounded-font")},d.trim().replace(" ",""),m&&ge.createElement("span",{className:"F1teTrIV"},".",m.trim()),ge.createElement("span",{className:"AgH98knQ"},a)),p&&ge.createElement("div",{className:Tr("COF5DpZg",u)},s))}(),function(){if(i)return ge.createElement(Mw,{isActive:l,cols:10,rows:3,align:"center",cellSize:12,className:"tPLUuFQO",contentClassName:Tr("BUzkYW_L","rounded-font",u)},mr(r,d,i))}())}));var NA=function(e){return e[e.initial=0]="initial",e[e.password=1]="password",e}(NA||{});const SA=fe(je((e=>{var t,n;const a=e.currentAccountId,o=ct(e),r=null==o?void 0:o.currentActivityId,i=r?null==o||null===(t=o.activities)||void 0===t?void 0:t.byId[r]:void 0,s=null==o?void 0:o.savedAddresses,{byAddress:c}=(null==o?void 0:o.nfts)||{},l=Ea(e,a),{isTestnet:d,theme:u,isSensitiveDataHidden:m}=e.settings,p=tt(e),f=pt(e);return{transaction:"transaction"===(null==i?void 0:i.kind)?i:void 0,tokensBySlug:null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug,savedAddresses:s,isHardwareAccount:f,isTestnet:d,isViewMode:Tt(e),isLongUnstakeRequested:null==o?void 0:o.isLongUnstakeRequested,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),theme:u,stakingStates:l,isSensitiveDataHidden:m,nftsByAddress:c,accounts:p,currentAccountId:a,baseCurrency:e.settings.baseCurrency}}))((function(t){var n;let{transaction:o,tokensBySlug:r,savedAddresses:i,isTestnet:s,isHardwareAccount:c,isViewMode:l,stakingStates:d,isLongUnstakeRequested:u,isMediaViewerOpen:m,theme:p,isSensitiveDataHidden:f,nftsByAddress:h,accounts:g,currentAccountId:v,baseCurrency:w}=t;const{fetchActivityDetails:y,startTransfer:b,startStaking:E,startUnstaking:k,closeActivityInfo:C,setIsPinAccepted:N,clearIsPinAccepted:S,setLandscapeActionsActiveTabIndex:A}=Ke(),T=Ar(),{isPortrait:I}=ui(),[B,_]=ie(NA.initial),[x,D]=ie(NA.password),L=Ve().settings.animationLevel===e.dnp?0:(I?js:qs)+e.xB5,O=uA(o,L),[P,M]=ie(Date.now()+e.NFS),F=Sf(p),{fromAddress:R,toAddress:U,amount:W,comment:H,encryptedComment:$,fee:V,id:z,isIncoming:K,slug:q,timestamp:j,nft:Y,shouldLoadDetails:G,status:Q}=O||{},X=Boolean(O&&(!rn((J=O).id)||!(null!==(Z=J.extra)&&void 0!==Z&&Z.withW5Gasless)));var J,Z;const ee=O&&hn(O),te=ee&&"unstake"===(null==O?void 0:O.type),ne=Boolean(null==O?void 0:O.nft),ae=q?null==r?void 0:r[q]:void 0,oe=null==ae?void 0:ae.chain,re=ae?Zn(ae.chain):void 0,se=K?R:U,le=de((()=>{if(oe)return oy({address:se,chain:oe,currentAccountId:v,accounts:g,savedAddresses:i})}),[g,se,oe,v,i])||(null==o||null===(n=o.metadata)||void 0===n?void 0:n.name),ue=K&&Zt(O),me=Boolean(o)&&un(o),pe=Boolean(o)&&!m,fe=oe&&z?on(z).hash:void 0,he=Boolean(Y&&(null==h?void 0:h[Y.address])),ve=!l&&!c,[we,ye]=ie(),[be,ke]=ie(),Ce=oe?Go(oe,fe,s):void 0,{shouldRender:Ne,ref:Se}=Rs({isOpen:Boolean(X&&Ce),withShouldRender:!0}),Ae=de((()=>null==d?void 0:d.find((t=>t.tokenSlug===e.Tu9.slug&&t.balance>0n))),[d]),Te=Ae&&Xd(Ae),Ie=null==Ae?void 0:Ae.start,Be=null==Ae?void 0:Ae.end,{shouldRender:_e,ref:xe}=Rs({isOpen:"unstakeRequest"===(null==o?void 0:o.type)&&void 0!==Ie&&("unstakeRequested"===Te||u)&&o.timestamp>=Ie,withShouldRender:!0});Ee((()=>{O&&ye(void 0)}),[O]),Ee((()=>{Be&&M(Be)}),[Be]),ce((()=>{z&&G&&y({id:z})}),[z,G]);const De=Wo((()=>{ke(void 0)})),Le=Wo((()=>{_(NA.password),D(void 0)})),Oe=Wo((()=>{_(NA.initial),D(NA.password),De()})),Pe=Wo((()=>{C({id:z}),b({isPortrait:I,tokenSlug:q||e.Tu9.slug,toAddress:se,amount:(0,ma.wg)(W),comment:K?void 0:H})})),Me=Wo((()=>{C({id:z}),I?E():A({index:zn.Stake})})),Fe=Wo((()=>{C({id:z}),I||A({index:zn.Stake}),k()})),Re=Wo((async e=>{const t=await(0,a.p)("decryptComment",Ve().currentAccountId,$,R,e);t?(tl()&&(N(),await cl(!0)),Oe(),ye(t)):ke("Wrong password, please try again.")})),Ue=Wo((async()=>{if($){if(im()){const e=await sm();if(e)return void Re(e)}Le()}})),We=Wo((()=>{C({id:z}),tl()&&S()}));function He(t,n,a){switch(a){case NA.initial:return ge.createElement(ge.Fragment,null,function(){const t="pending"===Q?"present":"failed"===Q?"future":"past";return ge.createElement("div",{className:Tr(Ks.header,Ks.header_wideContent)},ge.createElement("div",{className:Tr(Ks.title,gA.modalTitle)},ge.createElement("div",{className:gA.headerTitle},o&&dn(o,t,T),"pending"===Q&&ge.createElement($p,{play:pe,size:e.wg4,nonInteractive:!0,noLoop:!1,tgsUrl:fp[F].iconClock,previewUrl:fp[F].preview.iconClock}),"failed"===Q&&ge.createElement("span",{className:gA.headerTitle__badge},T("Failed")),me&&K&&ge.createElement("img",{src:ry,alt:T("Scam"),className:gA.scamImage})),!!j&&ge.createElement("div",{className:gA.headerDate},(0,Oa.TK)(T.code,j),", ",(0,Oa.fU)(j))),ge.createElement(Vs,{isRound:!0,className:Ks.closeButton,ariaLabel:T("Close"),onClick:We},ge.createElement("i",{className:Tr(Ks.closeIcon,"icon-close"),"aria-hidden":!0})))}(),function(){const t=o&&pn(o);return ge.createElement("div",{className:Ks.transitionContent},"hide"!==t&&ge.createElement(CA,{isSensitiveDataHidden:f,isIncoming:K,isScam:me,isFailed:"failed"===Q,amount:W??0n,token:ae,status:te&&!_e?T("Successfully"):void 0,noSign:"noSign"===t,baseCurrency:w}),Y&&ge.createElement(yy,{nft:Y,withMediaViewer:he,withTonExplorer:!0}),ue&&ge.createElement("div",{className:gA.scamWarning},T("This address mimics another address that you previously interacted with.")),o&&fn(o).includes("modal")&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Mb},T(K?"Sender":"Recipient")),ge.createElement(Iy,{chain:oe,addressName:le,address:se,isScam:me&&!K,copyNotification:T("Address was copied!"),className:gA.copyButtonWrapper,textClassName:me&&K?gA.scamAddress:void 0})),function(){if((V||G)&&re)return ge.createElement(hA,{terms:{native:V},token:re,precision:"pending"===Q?"approximate":"exact",isLoading:G,className:gA.feeField})}(),function(){if(!H&&!$)return;const e=$?T("Message is encrypted."):me?T("Scam comment is hidden."):void 0;return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Mb},T("Comment")),ge.createElement(Iy,{text:$?we:H,spoiler:e,spoilerRevealText:$?ve?T("Decrypt"):void 0:T("Display"),spoilerCallback:ve?Ue:void 0,copyNotification:T("Comment was copied!"),className:gA.copyButtonWrapper,textClassName:gA.comment}))}(),Ne&&ge.createElement("div",{ref:Se,className:gA.textFieldWrapper},ge.createElement("span",{className:gA.textFieldLabel},T("Transaction ID")),ge.createElement(Iy,{noSavedAddress:!0,chain:oe,address:fe,addressUrl:Ce,isTransaction:!0,copyNotification:T("Transaction ID was copied!"),className:gA.changellyTextField})),_e&&ge.createElement("div",{ref:xe,className:gA.unstakeTime},ge.createElement($p,{play:pe,size:e.wg4,className:gA.unstakeTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:fp[F].iconClockGray,previewUrl:fp[F].preview.iconClockGray}),ge.createElement("div",null,T("$unstaking_when_receive",{time:ge.createElement("strong",null,(0,Oa.YG)(T.code,P))}))),!l&&function(){const t=ee&&(te||"unstakeRequest"===(null==o?void 0:o.type))&&"active"===Te,n=[];return ee||K||ne||n.push(ge.createElement(Vs,{onClick:Pe,className:gA.button},T("Repeat"))),!e.TI6&&ee&&n.push(ge.createElement(Vs,{onClick:Me,className:Tr(gA.button,t&&gA.buttonWide)},T("Stake Again"))),t&&n.push(ge.createElement(Vs,{onClick:Fe,className:Tr(gA.button,gA.buttonWide)},T("Unstake More"))),n.length?ge.createElement("div",{className:gA.footer},n):void 0}())}());case NA.password:if(!$)return;return ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:T("Enter Password"),onClose:We}),ge.createElement(Cf,{isActive:t,error:be,withCloseButton:e.UMQ,containerClassName:e.UMQ?gA.passwordFormContent:gA.passwordFormContentInModal,submitLabel:T("Send"),onSubmit:Re,onCancel:Oe,onUpdate:De}))}}return ge.createElement(Zs,{isOpen:pe,hasCloseButton:!0,nativeBottomSheetKey:"transaction-info",forceFullNative:B===NA.password,dialogClassName:Tr(gA.modalDialog,te&&gA.unstakeModal),onClose:We,onCloseAnimationEnd:Oe},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:B,nextKey:x},He))}))),AA=fe(je((e=>{const{isUnhideNftModalOpen:t,selectedNftToUnhide:n}=ct(e)??{};return{isOpen:t,nftAddress:null==n?void 0:n.address,nftName:null==n?void 0:n.name}}))((function(e){let{isOpen:t,nftAddress:n,nftName:a}=e;const{addNftsToWhitelist:o,closeUnhideNftModal:r}=Ke(),i=Ar(),s=Wo((()=>{o({addresses:[n]}),r()}));return ge.createElement(Zs,{isOpen:t,isCompact:!0,onClose:r,title:i("Unhide NFT")},ge.createElement("p",{className:Ks.text},i("$unhide_nft_warning",{name:ge.createElement("b",null,a)})),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:r,className:Ks.button},i("Cancel")),ge.createElement(Vs,{isDestructive:!0,onClick:s,className:Ks.button},i("Unhide"))))}))),TA=e=>{let{icon:t,message:a,containerId:o,onDismiss:r}=e;const[i,s]=ie(!0),c=me(),{ref:l}=Rs({isOpen:i}),d=Wo((()=>{s(!1),setTimeout(r,250)}));ce((()=>i?Ih(d):void 0),[i,d]),ce((()=>(c.current=window.setTimeout(d,5e3),()=>{c.current&&(clearTimeout(c.current),c.current=void 0)})),[d]);const u=Wo((()=>{c.current&&(clearTimeout(c.current),c.current=void 0)})),m=Wo((()=>{c.current=window.setTimeout(d,5e3)}));return ge.createElement(zs,{className:Tr("h7PLFJQu",n.cp&&"I0vM5N9Z"),containerId:o},ge.createElement("div",{ref:l,className:"cBuXIi04",onClick:d,onMouseEnter:u,onMouseLeave:m},ge.createElement("div",{className:"FOpmIM3s"},t&&ge.createElement("i",{className:Tr("yRP0zVnL",t),"aria-hidden":!0}),a)))},IA=fe(je((e=>(0,c.Up)(e,["notifications"])))((function(e){let{notifications:t}=e;const{dismissNotification:n}=Ke();if(t.length)return ge.createElement("div",{id:"Notifications"},t.map((e=>{let{message:t,icon:a}=e;return ge.createElement(TA,{key:t,icon:a,message:t,onDismiss:n})})))})));let BA=0;const _A=v();function xA(){return BA>0}function DA(){_A.runCallbacks()}function LA(){const e=xA();BA=Math.max(0,BA-1),e&&!xA()&&DA()}const OA="A4iuMrwm",PA="lTI19L4Y",MA="Q6nK70OA",FA="Hzc2OPCD",RA=fe(je((e=>{const{areSettingsOpen:t,isExploreOpen:n}=e,{activeContentTab:a}=ct(e)??{};return{areSettingsOpen:t,areAssetsActive:a===Kn.Assets,isExploreOpen:n}}))((function(t){let{areSettingsOpen:n,areAssetsActive:a,isExploreOpen:o}=t;const{switchToWallet:r,switchToExplore:i,switchToSettings:s}=Ke(),c=Ar(),[l,d]=ie(xA()),u=!o&&!n;return ye((()=>_A.addCallback((()=>{d(xA())})))),zi({isActive:o,onBack:r}),ge.createElement("div",{className:Tr("QlVPgZym",l&&"YMl6tuqD")},ge.createElement(Vs,{isSimple:!0,className:Tr(OA,u&&PA),onClick:r},ge.createElement("i",{className:Tr(MA,"icon-wallet")}),ge.createElement("span",{className:FA},c("Wallet"))),!e.TI6&&ge.createElement(Vs,{isSimple:!0,className:Tr(OA,o&&PA),onClick:i},ge.createElement("i",{className:Tr(MA,"icon-explore")}),ge.createElement("span",{className:FA},c("Explore"))),ge.createElement(Vs,{isSimple:!0,className:Tr(OA,n&&PA),onClick:s},ge.createElement("i",{className:Tr(MA,"icon-settings")}),ge.createElement("span",{className:FA},c("Settings"))))}))),UA="Gbi50r5P",WA="iX71Jk4y",HA="piyY_yBE",$A="sCCso48U",VA="BA7uSk12",zA="XeanWEkZ",KA="mO73YmbZ",qA="FjT6eSrl",jA="GUrvismB",YA="oGeErVyy",GA=200,QA=14*n.$;function XA(e,t,n,a){let o,r;var i;return e===qn.Nft&&(r=document.querySelector(n?`.transaction-nft[data-tx-id="${n}"][data-nft-address="${t}"]`:a?`.hidden-nfts-${a} [data-nft-address="${t}"]`:`.nft-container[data-nft-address="${t}"]`),o=null===(i=r)||void 0===i?void 0:i.querySelector("img, canvas")),{container:r,image:o}}function JA(e){var t;const n=document.createElement("div");n.classList.add(qA);const a=new Image;return a.classList.add("oaQkWH7i"),a.draggable=!1,a.oncontextmenu=Io,a.src=e instanceof HTMLImageElement?e.src:(null===(t=e.parentElement)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.dataset.previewUrl)||"",n.appendChild(a),n}function ZA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===qn.Nft&&e.classList.add(n?jA:YA)}const eT=e=>{let{isOpen:t,isHidden:n,isCustom:a,id:o,className:r,onClick:i,children:s,noCloseTransition:c,shouldAnimateFirstRender:l,style:d,ref:u}=e;const m=be(t),p=be(s),f=me(),h=void 0===m,{ref:g,shouldRender:v}=Rs({isOpen:t&&!n,ref:u,noMountTransition:h&&!l,className:!a&&void 0,noCloseTransition:c,withShouldRender:!0});return m&&!t&&(f.current=p),(v||n)&&ge.createElement("div",{id:o,ref:g,className:r,onClick:i,style:d},t?s:f.current)},tT=["send","renew","burn","collection","select","linkDomain"],nT=fe(je(((e,t)=>{var n;let{mediaId:a}=t;const{mediaType:o=qn.Nft}=e.mediaViewer||{},r=Tt(e);if(!a||o!==qn.Nft)return{isViewMode:r};const{byAddress:i,dnsExpiration:s}=(null===(n=ct(e))||void 0===n?void 0:n.nfts)||{},c=null==i?void 0:i[a];if(!c)return{isViewMode:r};const{blacklistedNftAddresses:l,whitelistedNftAddresses:d}=ct(e)||{},{cardBackgroundNft:u,accentColorNft:m}=ut(e)||{};return{nft:c,tonDnsExpiration:(0,ga.Cz)(c,s),blacklistedNftAddresses:l,whitelistedNftAddresses:d,cardBackgroundNft:u,accentColorNft:m,isViewMode:r,linkedAddress:Ta(e,c)}}))((function(e){let{nft:t,tonDnsExpiration:n,linkedAddress:a,blacklistedNftAddresses:o,whitelistedNftAddresses:r,cardBackgroundNft:i,accentColorNft:s,isViewMode:c,onClose:l}=e;const d=Ar(),[u,m,p]=ju(),f=n?(0,Oa.GS)(n):void 0,h=de((()=>null==o?void 0:o.includes(t.address)),[t,o]),g=de((()=>null==r?void 0:r.includes(t.address)),[t,r]),v=WN(t&&t.address===(null==i?void 0:i.address),Lh),w=WN(t&&t.address===(null==s?void 0:s.address),Lh),{menuItems:y,handleMenuItemSelect:b}=iS({nft:t,isViewMode:c,dnsExpireInDays:f,linkedAddress:a,isNftBlacklisted:h,isNftWhitelisted:g,isNftInstalled:v,isNftAccentColorInstalled:w}),E=Wo((e=>{tT.includes(e)&&l(),b(e)}));return ge.createElement("div",{className:"U5k3MGwt"},ge.createElement("button",{type:"button","aria-label":d("More actions"),className:Tr(WA,"g5Mpmfqz",u&&"Jb3ZSQ8D"),onClick:m},ge.createElement("i",{className:"icon icon-more","aria-hidden":!0})),ge.createElement(Mh,{isOpen:u,items:y,menuPositionY:"top",menuPositionX:"right",shouldTranslateOptions:!0,onClose:p,className:"component-theme-dark",buttonClassName:"nZ_OU1oY",onSelect:E}),ge.createElement("button",{type:"button","aria-label":d("Close"),className:WA,onClick:l},ge.createElement("i",{className:Tr("icon-windows-close","TYO_mnqL"),"aria-hidden":!0})))}))),aT=fe(je(((t,n)=>{var a;let{mediaId:o}=n;const{mediaType:r=qn.Nft}=t.mediaViewer||{};if(!o||r!==qn.Nft)return{};const i=t.settings.isTestnet?e.PKm:e.wln,{byAddress:s}=(null===(a=ct(t))||void 0===a?void 0:a.nfts)||{},c=null==s?void 0:s[o];return c?{title:c.name||(0,Yt.W)(c.address,4),description:c.collectionName,descriptionUrl:`${i}collection/${c.collectionAddress}`}:{}}))((function(e){let{title:t,description:n,descriptionUrl:a}=e;const o=Ar();return ge.createElement("div",{className:"lzTnItyh"},ge.createElement("span",{className:"Iork7lBy"},t),ge.createElement("a",{href:a,target:"_blank","aria-label":o("Open NFT Collection"),className:"gVhA_SZL",rel:"noreferrer",onClick:cc},ge.createElement("span",{className:"VjBacQN8"},n),ge.createElement("i",{className:Tr("icon-tooltip","j_sdE8In"),"aria-hidden":!0})))})));function oT(e){const t=me(e());return ye((()=>e.subscribe((()=>{t.current=e()})))),t}const[rT,iT]=E(1);function sT(){return ce((()=>()=>{iT(1)}),[]),[rT,iT]}const cT=fe(je(((e,t)=>{var n,a;let{mediaId:o}=t;const{mediaType:r=qn.Nft}=e.mediaViewer||{};if(r!==qn.Nft)return{};const{byAddress:i}=(null===(n=ct(e))||void 0===n?void 0:n.nfts)||{},s=null==i?void 0:i[o];if(!s)return{};const{whitelistedNftAddresses:c}=ct(e)||{};return{alt:s.name,thumbnail:s.thumbnail,image:s.image,lottie:null===(a=s.metadata)||void 0===a?void 0:a.lottie,description:s.description,isScam:s.isScam,whitelistedMediaIds:c}}))((function(e){let{mediaId:t,alt:n,thumbnail:a,image:o,lottie:r,description:i,isScam:s,whitelistedMediaIds:c}=e;const l=Ar(),d=o||a,u=me(),{isPortrait:m}=ui();ce((()=>{const e=u.current,{height:t}=e.getBoundingClientRect();(0,k.RK)((()=>{e.style.setProperty("--max-height",`${t}px`)}))}),[m]);const p=de((()=>null==c?void 0:c.includes(t)),[t,c]);return ge.createElement("div",{className:"BjD2X1I7"},r?ge.createElement($p,{size:250,shouldStretch:!0,play:!0,noLoop:!1,tgsUrl:r,previewUrl:d,className:VA,noPreviewTransition:!0}):ge.createElement("img",{src:d,alt:n,className:VA}),ge.createElement("div",{className:Tr(zA,"custom-scroll"),ref:u},i&&ge.createElement("div",{className:"fJxRvPrW"},ge.createElement("div",{className:Tr("gAnXMdfd","custom-scroll"),dir:"auto"},s&&!p&&ge.createElement("img",{src:ry,alt:l("Scam"),className:"HAC1deVa"}),i))))})));var lT=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(lT||{});const dT=n.TF?40:0,uT=350,{easeOutCubic:mT,easeOutQuart:pT}=d.qM;let fT,hT;const gT=fe((function(e){let{isOpen:t,mediaId:a,selectMedia:o,getMediaId:r,withAnimation:i,onClose:s}=e;const c=Ar(),u=me(),m=me(),p=me(),f=me(),h=me({x:0,y:0,scale:1}),g=me(void 0),v=me(void 0),w=me(!1),[y]=sT(),b=me(y()),[E,k]=ie(!1),[C,N]=Ds({x:0,y:0,scale:1}),S=oT(C),[A,T]=Ds(a),I=oT(A),B=Ps((()=>1!==C().scale),[C]),_=Ps(A),{height:x,width:D,isResizing:L}=Zu();zi({isActive:t,onBack:s,shouldBeReplaced:!0});const O=Ju(o,[o],350,!0),P=Ju((()=>{g.current=void 0}),[],500,!0),M=n.TF?40:D/10;ce((()=>{const{scale:e,x:t,y:n}=S.current;0===t&&0===n&&1===e&&T(a)}),[a,T,S]),le((()=>{const{x:e,y:t,scale:n}=C();p.current&&(p.current.style.transform=vT(-D+e-dT)),m.current&&(m.current.style.transform=vT(e,t,n)),f.current&&(f.current.style.transform=vT(D+e+dT))}),[C,D]);const F=Wo((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h.current;const a=r(I.current,e);if(t)return void 0!==a;if(void 0===a)return!1;const o=(D+dT)*e,s=S.current.x+o;return T(a),O(a),n={x:0,y:0,scale:1},i?(fT=(0,d.Hd)({from:s,to:0,duration:uT,timing:mT,onUpdate:e=>N({y:0,x:e,scale:1})}),!0):(N(n),!0)})),R=Wo((()=>F(1))),U=Wo((()=>F(-1)));if(ce((()=>{if(!u.current||void 0===I.current)return;let e=h.current;const t={x:0,y:0},a={x:0,y:0},o={x:0,y:0};let i,c=Date.now();const p=(0,l.sg)((()=>{c=Date.now()}),500,!1,!0),f=e=>{const{scale:t}=S.current;if(1!==t)return[!1,!1];let a=0;return x-e.pageY<80?[!1,!1]:(e.pageX<M?a=-1:e.pageX>D-M&&(a=1),[0!==a,F(a,!n.TF)])},y=e=>{const{scale:t}=S.current;if(1===t)switch(e.key){case"Left":case"ArrowLeft":F(-1);break;case"Right":case"ArrowRight":F(1)}},b=function(e){let{x:t,y:n,scale:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=v.current;if(!r)return[{x:t,y:n,scale:a},!0,!0];let i=!0,s=!0;const c=(D-D*a)/2,l=(x-x*a)/2,d=Math.max(-r.left*a,c),u=D-r.right*a;i=_r(t,u,d),t=Br(t,u,d);const m=Math.max(-r.top*a+o,l),p=x-r.bottom*a;return s=_r(n,p,m),n=Br(n,p,m),[{x:t,y:n,scale:a},i,s]},E=n=>{if(w.current)return void(w.current=!1);"mouseup"===n.type&&k(!1);const i=S.current,{y:l,scale:u}=i;let m=i.x;const p=Math.abs(m),f=Math.abs(l);if(P(),u<1)return e={x:0,y:0,scale:1},void(fT=(0,d.Hd)({from:[m,l,u],to:[0,0,1],duration:uT,timing:mT,onUpdate:e=>N({x:e[0],y:e[1],scale:e[2]})}));if(u>1){const r=Math.min(u,4),i=r/u;let s=m*i+(a.x-i*a.x),p=l*i+(a.y-i*a.y);const f=.15;if("wheel"!==n.type&&e.scale===u){const e=Math.abs(t.x)/(Date.now()-c),n=Math.abs(t.y)/(Date.now()-c);s-=Math.abs(t.x)*e*f*o.x,p-=Math.abs(t.y)*n*f*o.y}return[e]=b({x:s,y:p,scale:r}),void(fT=(0,d.Hd)({from:[m,l,u],to:[e.x,e.y,e.scale],duration:uT,timing:mT,onUpdate:e=>N({x:e[0],y:e[1],scale:e[2]})}))}if(e={x:m,y:l,scale:u},f>=50)return void s();if(f>0)return void(fT=(0,d.Hd)({from:l,to:0,duration:uT,timing:mT,onUpdate:e=>N({x:0,y:e,scale:u})}));const h=m<0?1:-1,g=r(I.current,m<0?1:-1),v=o.x<0?-1:1;void 0!==g&&p>=50&&h===v&&(m+=(D+dT)*h,T(g),O(g)),fT=(0,d.Hd)({from:m,to:0,duration:uT,timing:mT,onUpdate:e=>N({y:0,x:e,scale:u??1})})},C=Fr(u.current,{isNotPassive:!0,withNativeDrag:!0,excludedClosestSelector:`${UA}, .${zA}`,minZoom:1,maxZoom:4,doubleTapZoom:3,withWheelDrag:!0,onCapture:e=>{const{x:t,y:n,scale:a}=S.current;if("mousedown"!==e.type||(k(!0),1===a)){if(c=Date.now(),0===t&&0===n&&1===a){if(!m.current)return;if(i=m.current.querySelector("img, video"),!i)return;v.current=i.getBoundingClientRect()}}else e.preventDefault()},onDrag:(a,r,i,s)=>{let{dragOffsetX:c,dragOffsetY:l}=i;if(w.current)return;if(n.pz&&"touchstart"===r.type){const{pageX:e}=r.touches[0];if(e<=20||e>=D-20)return}fT&&(fT(),fT=void 0),o.x=t.x-c,o.y=t.y-l,t.x=c,t.y=l;const d=Math.abs(c),u=Math.abs(l),{x:m,y:f,scale:h}=S.current;if(p(),1===h){if("mousemove"!==a.type){if(g.current!==lT.Vertical&&(g.current===lT.Horizontal||Math.abs(m)>10||d/u>1.5)){g.current=lT.Horizontal;const e=D+dT,t=Br(c,-e,e);return N({x:t,y:0,scale:h}),void("wheel"===a.type&&Math.abs(t)>100&&(E(a),w.current=!0))}if(g.current===lT.Vertical||Math.abs(f)>10||u/d>1.5){g.current=lT.Vertical;const e=Br(l,-x,x);N({x:0,y:e,scale:h}),"wheel"===a.type&&Math.abs(e)>100&&(E(a),w.current=!0)}}}else{const t=e.x+c,n=e.y+l;if(["wheel","mousemove"].includes(a.type)){const[e,a,o]=b({x:t,y:n,scale:h});return s&&s(!a,!o),void N(e)}"touches"in a&&1===a.touches.length&&N({x:t,y:n,scale:h})}},onZoom:(t,n)=>{let{zoom:o,zoomFactor:r,initialCenterX:i,initialCenterY:s,dragOffsetX:c,dragOffsetY:l,currentCenterX:d,currentCenterY:u}=n;fT&&fT(),i=i||D/2,s=s||x/2,d=d||D/2,u=u||x/2;const m=o??Br(e.scale*r,.5,12),p=m/e.scale,f=Math.abs(Math.min(e.x,0)),h=Math.abs(Math.min(e.y,0));a.x=d,a.y=u;const g=f+i,v=h+s,w=g-p*g,y=v-p*v,[E]=b({x:e.x+w+c,y:e.y+y+l,scale:m});N(E)},onClick(t){k(!1);const[a,o]=f(t);if(a){if(t.preventDefault(),t.stopPropagation(),n.TF)return;o||s()}else 1!==e.scale||n.TF||s()},onDoubleClick(t,a){let{centerX:o,centerY:r}=a;const[i]=f(t);if(i)return t.preventDefault(),void t.stopPropagation();if(!n.TF&&"wheel"!==t.type)return;const{x:s,y:c,scale:l}=S.current;if(1===l){if(0!==s||0!==c)return;e=b({x:o-3*o,y:r-3*r,scale:3})[0]}else e={x:0,y:0,scale:1};fT=(0,d.Hd)({from:[s,c,l],to:[e.x,e.y,e.scale],duration:uT,timing:mT,onUpdate:e=>{const t={x:e[0],y:e[1],scale:e[2]};N(t)}})},onRelease:E});return document.addEventListener("keydown",y,!1),()=>{C(),document.removeEventListener("keydown",y,!1)}}),[s,N,r,D,x,M,O,P,i,k,S,T,I,F]),ce((()=>{const e=y(),t=void 0!==b.current&&b.current!==e;if(!u.current||!t)return;b.current=e;const{scale:n}=S.current,a=e>0?-1:1;let o=100,r=0;n<=.6&&a>0||n>=12&&a<0||(1===n&&a>0&&(o=20),hT&&hT(),hT=(0,d.Hd)({from:a,to:a*o,duration:uT,timing:pT,onUpdate:e=>{if(!u.current)return;const t=xr(e-r,2);r=e;const n=new WheelEvent("wheel",{deltaY:t,ctrlKey:!0});u.current.dispatchEvent(n)}}))}),[y,S]),void 0===_)return null;const W=r(_,1),H=r(_,-1),$=void 0!==H,V=void 0!==W,z=E&&B;return ge.createElement("div",{className:"X2XelzZ1",ref:u},ge.createElement("div",{className:HA,ref:p},$&&!B&&!L&&ge.createElement(cT,{mediaId:H})),ge.createElement("div",{className:Tr(HA,$A,z&&"NMBicc6s"),ref:m},ge.createElement(cT,{mediaId:_})),ge.createElement("div",{className:HA,ref:f},V&&!B&&!L&&ge.createElement(cT,{mediaId:W})),$&&!B&&!n.TF&&ge.createElement("button",{type:"button",onClick:U,className:Tr(KA,"Mx1XT28C"),"aria-label":c("Previous"),dir:c.isRtl?"rtl":void 0}),V&&!B&&!n.TF&&ge.createElement("button",{type:"button",onClick:R,className:Tr(KA,"FmNwnO3_"),"aria-label":c("Next"),dir:c.isRtl?"rtl":void 0}))}));function vT(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return`translate3d(${(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(3)}px, ${e.toFixed(3)}px, 0px) scale(${t.toFixed(3)})`}const wT=fe(je((e=>{var t;const{mediaId:n,mediaType:a=qn.Nft,txId:o,hiddenNfts:r,noGhostAnimation:i}=e.mediaViewer||{},s=null===(t=e.settings)||void 0===t?void 0:t.animationLevel,c=ct(e);let l,d,u=sb,m=sb;if(a===qn.Nft){var p;const{orderedAddresses:e,byAddress:t}=(null==c?void 0:c.nfts)||{},{blacklistedNftAddresses:a}=c||{},o=null==t?void 0:t[n];l=!(null!=o&&null!==(p=o.metadata)&&void 0!==p&&p.lottie)&&(null==o?void 0:o.image)||(null==o?void 0:o.thumbnail),u=e||sb,d=t,null!=a&&a.length&&(m=a)}return{mediaId:n,txId:o,hiddenNfts:r,noGhostAnimation:i,mediaIds:u,mediaType:a,mediaUrl:l,mediaByIds:d,blacklistedIds:m,withAnimation:s>0}}))((function(t){let{mediaId:a,mediaIds:o,mediaType:r,mediaUrl:i,withAnimation:s,mediaByIds:c,blacklistedIds:l,txId:u,hiddenNfts:m,noGhostAnimation:p}=t;const{closeMediaViewer:f,openMediaViewer:h}=Ke(),g=Boolean(a),v=Ar(),w=be(a),y=be(u),b=be(m),E=be(p),C=s?"slideFade":"none",N=s&&g&&!w&&!p,S=s&&!g&&!!w&&!E,A=Wo((()=>f())),T=de((()=>o.filter((e=>{const t=null==c?void 0:c[e];return t&&!t.isHidden&&!l.includes(e)}))),[l,c,o]),I=T.indexOf(a),B=Wo(((e,t)=>{if(void 0===e)return;const n=T.indexOf(e);return-1===t&&n>0||1===t&&n<T.length-1?T[n+t]:void 0})),x=Wo((e=>{h({mediaType:r,mediaId:e})}));return Us({className:"is-media-viewer-open",isActive:g,element:document.body}),ce((()=>g?Ih(A):void 0),[A,g]),ce((()=>{N&&(_(GA+e.xB5),function(t,a,o,r,i){const{image:s}=XA(t,a,r,i);s&&o&&(0,k.RK)((async()=>{document.body.classList.add("ghost-animating");const{width:a,height:r}=Va(),{width:i,height:c}=await async function(e){const t=new Image;return t.src=e,await new Promise((e=>{t.onload=e})),{width:t.width,height:t.height}}(o),l=r-QA,u=(a<=e.c2m?8:7)*n.$,{width:m,height:p}=function(e,t,n,a){const o=a/n,r=Math.min(n,e);return Math.round(r*o)>t?{width:Math.round(t/o),height:t}:{width:r,height:Math.round(r*o)}}(a,l,i,c),f=(a-m)/2,h=u+(l-p)/2,{top:g,left:v,width:w,height:y}=s.getBoundingClientRect(),b=v+w/2-(f+m/2),E=g+y/2-(h+p/2),C=w/m,N=y/p;(0,k.RK)((()=>{const n=JA(s);ZA(n,t,!0),(0,d.ZM)(n,{top:`${h}px`,left:`${f}px`,width:`${m}px`,height:`${p}px`,transform:`translate3d(${b}px, ${E}px, 0) scale(${C}, ${N})`}),document.body.appendChild(n),(0,k.RK)((()=>{n.style.transform="",function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t===qn.Nft&&e.classList.remove(n?jA:YA)}(n,t,!0),setTimeout((()=>{(0,k.RK)((()=>{document.body.contains(n)&&document.body.removeChild(n),document.body.classList.remove("ghost-animating")}))}),GA+e.xB5)}))}))}))}(r,a,i,u,m)),S&&(_(GA+e.xB5),function(t,n,a,o){const{container:r,image:i}=XA(t,n,a,o),s=document.querySelector(`.${$A} img, .${$A} canvas`);if(!s||!i)return;const{top:c,left:l,width:u,height:m}=s.getBoundingClientRect(),{top:p,left:f,width:h,height:g}=i.getBoundingClientRect();let v=p;if(!function(e){if("none"===e.style.display)return!1;const t=e.getBoundingClientRect(),{height:n}=Va();return t.top<=n&&t.top+t.height>=0}(i)){const{height:e}=Va();v=p<c?-g:e}const w=l+u/2-(f+h/2),y=c+m/2-(v+g/2),b=u/h,E=m/g,C=document.querySelector(`.${qA}`),N=C||JA(s);let S;if(C){const{top:e,left:t,width:n,height:a}=C.getBoundingClientRect();S={transition:"none",top:`${v}px`,left:`${f}px`,transformOrigin:"top left",transform:`translate3d(${t-f}px, ${e-v}px, 0) scale(${n/h}, ${a/g})`,width:`${h}px`,height:`${g}px`}}else S={top:`${v}px`,left:`${f}px`,width:`${h}px`,height:`${g}px`,transform:`translate3d(${w}px, ${y}px, 0) scale(${b}, ${E})`};(0,k.RK)((()=>{ZA(N,t),(0,d.ZM)(N,S),C||document.body.appendChild(N),document.body.classList.add("ghost-animating"),r&&r.classList.add("ghost-target"),(0,k.RK)((()=>{C&&(C.style.transition=""),N.style.transform="",setTimeout((()=>{(0,k.RK)((()=>{document.body.contains(N)&&document.body.removeChild(N),document.body.classList.remove("ghost-animating"),r&&r.classList.remove("ghost-target")}))}),GA+e.xB5)}))}))}(r,w,y,b))}),[N,S,a,r,i,w,u,y,m,b]),ge.createElement(eT,{className:Tr("A0PipQQQ","opacity-transition","slow"),isOpen:g,shouldAnimateFirstRender:!0,isCustom:!0},ge.createElement("div",{className:UA,dir:v.isRtl?"rtl":void 0},ge.createElement(ff,{activeKey:I,name:C,className:"lDJDJyJx"},ge.createElement(aT,{mediaId:a})),ge.createElement(nT,{mediaId:a,onClose:A})),ge.createElement(gT,{isOpen:g,mediaId:a,getMediaId:B,selectMedia:x,withAnimation:s,onClose:A}))}))),yT={root:"TyYDeoPI",standard:"ZzhmGZX8",silver:"VOCPN2H2",gold:"eIy_VriQ",platinum:"ThB2aK4u",black:"pSEqHC9v",list:"VuKYnODy",term:"De4BJ4HR",icon:"WsbPBan7",data:"SmGuh0xn",button:"hn6cNzho",currencyIcon:"uJl349yd"},bT=fe((function(t){let{type:n,price:a,balance:o,isAvailable:r}=t;const{startCardMinting:i,showDialog:s}=Ke(),c=Ar(),l=!(!a||!o)&&(0,Pt.UH)(a,e.Tu9.decimals)+e.dqR<o,d=Wo((()=>{l?i({type:n}):s({title:c("Insufficient Balance"),message:c("Please top up your TON balance.")})}));return ge.createElement("div",{className:Tr(yT.root,yT[n])},ge.createElement("dl",{className:yT.list},ge.createElement("dt",{className:yT.term},c("Unique"),ge.createElement("i",{className:Tr(yT.icon,"icon-diamond"),"aria-hidden":!0})),ge.createElement("dd",{className:yT.data},c("Get a card with unique background and personalized palette for wallet interface.")),ge.createElement("dt",{className:yT.term},c("Transferable"),ge.createElement("i",{className:Tr(yT.icon,"icon-swap"),"aria-hidden":!0})),ge.createElement("dd",{className:yT.data},c("Easily send your upgraded card to any of your friends.")),ge.createElement("dt",{className:yT.term},c("Tradable"),ge.createElement("i",{className:Tr(yT.icon,"icon-auction"),"aria-hidden":!0})),ge.createElement("dd",{className:yT.data},c("Sell or auction your card on third-party NFT marketplaces."))),!!a&&ge.createElement(Vs,{isPrimary:!0,isDisabled:!r,className:yT.button,onClick:d},c("Upgrade for %currency% %amount%",{amount:a,currency:ge.createElement("i",{className:Tr(yT.currencyIcon,"icon-ton"),"aria-label":"TON"})})))})),ET={dialog:"CjwvIYmY",transition:"Tv22S5Gs",transitionSlide:"zUSYH0x7",content:"LpuTVkiG",slide:"ZfVQ8KGW",standard:"k0gL3sAb",black:"MUamKAQw",slideInner:"k2_YXVBE",video:"wpccVVfq",cardType:"CzdRPvVS",close:"IBwesrC_",navigation:"cIoUkENQ",navigationLeft:"GF_wLd9i",navigationRight:"y5oAUrMg",navigationIcon:"aSeq5lrl",avaliability:"OGLS5EQO",progress:"Q3dzQZod",soldOut:"VyfNbKU1",amount:"wozoyd4S",amountInner:"ZgsWpsHL",amountLeft:"XMt08mOm",amountSold:"F8mchLc4",dots:"HY5hRBmJ",dot:"tOktKTIK",dotActive:"ZMU4FK04",sticker:"eto_LEBm",resultWithTime:"hlrWLhQ2",resultTimeIcon:"W1LXu50q",mintCardBanner:"ccNpjwpK"},kT={standard:"Standard Card",silver:"Silver Card",gold:"Gold Card",platinum:"Platinum Card",black:"Black Card"};var CT=function(e){return e[e.Standard=0]="Standard",e[e.Silver=1]="Silver",e[e.Gold=2]="Gold",e[e.Platinum=3]="Platinum",e[e.Black=4]="Black",e}(CT||{});const NT=Object.values(CT).length/2,ST=fe(je((e=>({tonBalance:Ht(e)})))((function(e){let{cardsInfo:t,tonBalance:a}=e;const{closeMintCardModal:o}=Ke(),r=Ar(),i=me(),[s,c]=ie(CT.Standard),[l,d]=ie(CT.Silver),u=Wo((()=>{c((e=>e===CT.Black?CT.Standard:e+1)),d((e=>e===CT.Black?CT.Standard:e+1))})),m=Wo((()=>{c((e=>e===CT.Standard?CT.Black:e-1)),d((e=>e===CT.Standard?CT.Black:e-1))}));function p(e,n,o){const i={lang:r,tonBalance:a,currentKey:o};switch(o){case CT.Standard:return AT({...i,title:kT.standard,type:"standard",cardInfo:null==t?void 0:t.standard});case CT.Silver:return AT({...i,title:kT.silver,type:"silver",cardInfo:null==t?void 0:t.silver});case CT.Gold:return AT({...i,title:kT.gold,type:"gold",cardInfo:null==t?void 0:t.gold});case CT.Platinum:return AT({...i,title:kT.platinum,type:"platinum",cardInfo:null==t?void 0:t.platinum});case CT.Black:return AT({...i,title:kT.black,type:"black",cardInfo:null==t?void 0:t.black})}}return ce((()=>{if(n.TF)return Fr(i.current,{onSwipe:(e,t)=>t===Dr.Left?(u(),!0):t===Dr.Right&&(m(),!0),selectorToPreventScroll:".custom-scroll"})}),[]),ge.createElement(ge.Fragment,null,ge.createElement(ge.Fragment,null,ge.createElement(Vs,{isRound:!0,className:Tr(ET.close,Ks.closeButton),ariaLabel:r("Close"),onClick:o},ge.createElement("i",{className:Tr(Ks.closeIcon,"icon-close"),"aria-hidden":!0})),ge.createElement("button",{className:Tr(ET.navigation,ET.navigationLeft),type:"button","aria-label":r("Prev"),onClick:()=>m()},ge.createElement("i",{className:Tr(ET.navigationIcon,"icon-chevron-left"),"aria-hidden":!0})),ge.createElement("button",{className:Tr(ET.navigation,ET.navigationRight),type:"button",onClick:()=>u(),"aria-label":r("Next")},ge.createElement("i",{className:Tr(ET.navigationIcon,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement(ff,{ref:i,name:"semiFade",className:Tr(ET.transition,"custom-scroll"),activeKey:s,nextKey:l},p))})));function AT(t){let{lang:n,title:a,type:o,cardInfo:r,tonBalance:i,currentKey:s}=t;return ge.createElement("div",{className:ET.content},ge.createElement("div",{className:Tr(ET.slide,ET[o])},ge.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:`${e.eec}mtw_card_${o}.avif`,className:ET.video},ge.createElement("source",{src:`${e.eec}mtw_card_${o}.h264.mp4`,type:"video/mp4; codecs=avc1.4D401E,mp4a.40.2"})),ge.createElement("div",{className:ET.slideInner},function(e){return ge.createElement("div",{className:ET.dots},Array.from({length:NT}).map(((t,n)=>ge.createElement("div",{key:n,className:Tr(ET.dot,n===e&&ET.dotActive)}))))}(s),ge.createElement("div",{className:ET.cardType},a),function(e,t){const{all:n,notMinted:a}=t||{};if(!n||!a)return ge.createElement("div",{className:ET.avaliability},ge.createElement("div",{className:ET.soldOut},e("This card has been sold out")));const o=n-a,r=e("%amount% left",{amount:ir(a)}),i=e("%amount% sold",{amount:ir(o)});return ge.createElement("div",{className:ET.avaliability},ge.createElement("div",{className:ET.progress,style:`--progress: ${Ft(a/n,2)};}`},ge.createElement("div",{className:Tr(ET.amount,ET.amountInner,ET.amountLeft)},r),ge.createElement("div",{className:Tr(ET.amount,ET.amountInner,ET.amountSold)},i)),ge.createElement("div",{className:Tr(ET.amount,ET.amountLeft)},r),ge.createElement("div",{className:Tr(ET.amount,ET.amountSold)},i))}(n,r))),ge.createElement(bT,{type:o,price:null==r?void 0:r.price,balance:i,isAvailable:Boolean(null==r?void 0:r.notMinted)}))}const TT=fe(je((e=>{const{currentMintCard:t}=e,{config:n}=ct(e)||{},{cardsInfo:a}=n||{};return{isOpen:void 0!==(null==t?void 0:t.state),cardsInfo:a,isLoading:null==t?void 0:t.isLoading,state:null==t?void 0:t.state,error:null==t?void 0:t.error,theme:e.settings.theme,selectedCardType:null==t?void 0:t.type}}))((function(t){let{isOpen:n,cardsInfo:a,isLoading:o,state:r,error:i,theme:s,selectedCardType:c}=t;const{closeMintCardModal:l,clearMintCardError:d,submitMintCard:u,submitMintCardHardware:m}=Ke(),p=Ar(),f=Sf(s),{renderingKey:h,nextKey:g}=tv(r??0,n),v=c?kT[c]:"",w=Wo((e=>{u({password:e})})),y=Wo((()=>{m()}));function b(t,n,r){switch(r){case Vn.Initial:return ge.createElement(ST,{cardsInfo:a});case Vn.Password:return function(e){return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:tl()?void 0:p("Confirm Upgrading"),onClose:tl()?l:void 0,onBackButtonClick:tl()?void 0:l}),ge.createElement(Cf,{isActive:e,error:i,isLoading:o,submitLabel:p("Confirm"),cancelLabel:p("Cancel"),onSubmit:w,onCancel:l,onUpdate:d,operationType:"mintCard",skipAuthScreen:!0},ge.createElement(Lb,{className:ET.mintCardBanner,secondText:v})))}(t);case Vn.ConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:y,onClose:l});case Vn.ConfirmHardware:return ge.createElement(dv,{text:p("Please confirm transaction on your Ledger"),error:i,onClose:l,onTryAgain:y});case Vn.Done:return function(t){return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:p("Card has been upgraded!"),onClose:l}),ge.createElement("div",{className:Tr(Ks.transitionContent,Ks.transitionContent_simple)},ge.createElement($p,{play:t,noLoop:!1,nonInteractive:!0,className:ET.sticker,tgsUrl:fp.thumbUp,previewUrl:fp.thumbUpPreview}),ge.createElement("div",{className:Tr(ET.resultWithTime)},ge.createElement($p,{play:t,size:e.wg4,className:ET.resultTimeIcon,nonInteractive:!0,noLoop:!1,tgsUrl:fp[f].iconClockGray,previewUrl:fp[f].preview.iconClockGray}),ge.createElement("div",null,tr(p("$mint_card_result")))),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,className:Ks.buttonFullWidth,onClick:l},p("Done")))))}(t)}}return ge.createElement(Zs,{isOpen:n,forceFullNative:!0,nativeBottomSheetKey:"mint-card",dialogClassName:ET.dialog,onClose:l},ge.createElement(ff,{activeKey:h,nextKey:g,name:ev(),className:Tr(ET.transition,"custom-scroll"),slideClassName:ET.transitionSlide},b))}))),IT=fe((function(e){let{id:t,name:n,value:a,label:o,checked:r=!1,className:i,onChange:s,onCheck:c,shouldStopPropagation:l}=e;return ge.createElement("label",{className:Tr("pDx55knh",i),title:o,"aria-label":o,onClick:l?e=>e.stopPropagation():void 0,tabIndex:0,role:"button"},ge.createElement("input",{type:"checkbox",id:t,name:n,value:a,checked:r,className:"cLbaNjJ_",onChange:function(e){null==s||s(e),null==c||c(e.currentTarget.checked)}}),ge.createElement("span",{className:"tiLjiStY"}))})),BT="v8rRtn7B",_T="CC8Q5sJb",xT="bQ7CA6_X",DT="TI5caump",LT=fe((function(t){let{isOpen:n,isLoading:a,isInsideModal:o,state:r,error:i,onClose:s}=t;const{disableBiometrics:c}=Ke(),l=Ar(),{renderingKey:d,nextKey:u,updateNextKey:m}=tv(r,n),p=Wo(((e,t)=>{c({password:e,isPasswordNumeric:t})}));function f(t,n,o){switch(o){case In.TurnOffBiometricConfirmation:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:l("Biometric Confirmation"),onClose:s}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement($p,{tgsUrl:fp.holdTon,previewUrl:fp.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:_T}),i?ge.createElement("div",{className:"iEiAdwiC"},l(i)):ge.createElement("div",{className:DT},l("Please verify the operation.")),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:s,className:Ks.customSubmitButton},l("Cancel")))));case In.TurnOffCreatePassword:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:l("Create Password"),onClose:s}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement($p,{tgsUrl:fp.guard,previewUrl:fp.guardPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:_T}),ge.createElement(Tg,{isActive:t,isLoading:a,formId:"biometrics-create-password",onSubmit:p,onCancel:s})));case In.TurnOffComplete:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:l("Biometrics Disabled"),onClose:s}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement($p,{tgsUrl:fp.yeee,previewUrl:fp.yeeePreview,play:t,size:e.reE,nonInteractive:!0,noLoop:!1,className:Tr(_T,xT)}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,onClick:s,className:Ks.customSubmitButton},l("Done")))))}}return ge.createElement(Zs,{hasCloseButton:!0,isOpen:n,dialogClassName:BT,onClose:s},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Tr(o&&Ks.transitionSlide),activeKey:d,nextKey:u,onStop:m},f))})),OT=fe((function(e){let{isOpen:t,onClose:n}=e;const{openBiometricsTurnOff:a}=Ke(),o=Ar();return ge.createElement(Zs,{isOpen:t,isCompact:!0,title:o("Turn Off Biometrics"),onClose:n},ge.createElement("p",{className:Ks.text},o("If you turn off biometric protection, you will need to create a password.")),ge.createElement("div",{className:Tr(Ks.buttons,Ks.buttonsNoExtraSpace)},ge.createElement(Vs,{className:Ks.button,onClick:n},o("Cancel")),ge.createElement(Vs,{isPrimary:!0,className:Ks.button,onClick:a},o("Continue"))))})),PT=fe((function(t){let{isOpen:a,isLoading:o,isInsideModal:r,state:i,error:s,onClose:c}=t;const{enableBiometrics:l}=Ke(),d=Ar(),[u,m]=ie(),{renderingKey:p,nextKey:f,updateNextKey:h}=tv(i,a),g=Boolean(i!==In.TurnOnPasswordConfirmation);ce((()=>{a&&m("")}),[a]);const v=Wo((()=>{m(void 0)})),w=Wo((e=>{if(!g)try{l({password:e})}catch(e){m(e.message||"Unknown error.")}}));function y(t,a,r){switch(r){case In.TurnOnPasswordConfirmation:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:d("Turn On Biometrics"),onClose:c}),ge.createElement(Cf,{isActive:t,isLoading:o,error:s||u,operationType:"turnOnBiometrics",help:d("Enabling biometric confirmation will reset the password."),submitLabel:d("Continue"),onSubmit:w,onCancel:c,onUpdate:v}));case In.TurnOnRegistration:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:d("Biometric Registration"),onClose:c}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement($p,{tgsUrl:fp.holdTon,previewUrl:fp.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:_T}),ge.createElement("div",{className:DT},d("Step 1 of 2. Registration")),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:c,className:Ks.customCancelButton},d("Cancel")))));case In.TurnOnVerification:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:d("Biometric Registration"),onClose:c}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement($p,{tgsUrl:fp.holdTon,previewUrl:fp.holdTonPreview,play:t,size:180,nonInteractive:!0,noLoop:!1,className:_T}),ge.createElement("div",{className:DT},d(n.cp?"Verification":"Step 2 of 2. Verification")),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:c,className:Ks.customCancelButton},d("Cancel")))));case In.TurnOnComplete:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:d("Biometrics Enabled"),onClose:c}),ge.createElement("div",{className:Ks.transitionContent},ge.createElement($p,{tgsUrl:fp.yeee,previewUrl:fp.yeeePreview,play:t,size:e.reE,nonInteractive:!0,noLoop:!1,className:Tr(_T,xT)}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,onClick:c,className:Ks.customSubmitButton},d("Done")))))}}return ge.createElement(Zs,{hasCloseButton:!0,isOpen:a,dialogClassName:BT,onClose:c},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Tr(r&&Ks.transitionSlide),activeKey:p,nextKey:f,onStop:h},y))})),MT=fe(je((e=>{const{biometrics:{state:t,error:n}}=e;return{state:t,error:n,isLoading:e.auth.isLoading}}))((function(e){let{state:t,error:n,isLoading:a,isInsideModal:o}=e;const{closeBiometricSettings:r}=Ke(),i=t===In.TurnOnPasswordConfirmation||t===In.TurnOnRegistration||t===In.TurnOnVerification||t===In.TurnOnComplete,s=t===In.TurnOffBiometricConfirmation||t===In.TurnOffCreatePassword||t===In.TurnOffComplete,c=t===In.TurnOffWarning;return ge.createElement(ge.Fragment,null,ge.createElement(PT,{isOpen:i,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),ge.createElement(LT,{isOpen:s,isLoading:a,isInsideModal:o,state:t,error:n,onClose:r}),ge.createElement(OT,{isOpen:c,onClose:r}))}))),FT=fe(je((e=>{const{nativeBiometricsError:t,isPinAccepted:n}=e;return{isPinAccepted:n,error:t,isNativeBiometricsEnabled:St(e)}}))((function(t){let{isActive:n,isInsideModal:a,isPinAccepted:o,error:r,isNativeBiometricsEnabled:i,handleBackClick:s}=t;const{enableNativeBiometrics:c,clearNativeBiometricsError:l}=Ke(),d=Ar(),{isSmallHeight:u}=ui(),[m,p]=ie(""),f=m.length!==e.NEx?void 0:o?"success":r?"error":void 0,h=o?"Correct":r&&m.length===e.NEx?r:"Enter your code";zi({isActive:n,onBack:s}),ce((()=>{n&&p("")}),[n]),pi((e=>{let[t]=e;i&&!t&&s()}),[i,s]);const g=Wo((e=>{c({password:e})}));return ge.createElement("div",{className:tg.slide},ge.createElement("div",{className:Tr(tg.content,tg.contentFullSize)},ge.createElement("div",{className:tg.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:s,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back")))),ge.createElement("div",{className:tg.pinPadHeader},!a&&ge.createElement($p,{play:n,tgsUrl:fp.guard,previewUrl:fp.guardPreview,noLoop:!1,nonInteractive:!0,className:tg.stickerNativeBiometric}),!u&&ge.createElement("div",{className:tg.pinPadTitle},d("Confirm Passcode"))),ge.createElement(vf,{isActive:n,onClearError:l,title:d(h),type:f,length:e.NEx,value:m,onChange:p,onSubmit:g})))}))),RT=i.p+"theme_dark.5de5fe78d9ef16d3bb16.png",UT=[{value:"light",name:"Light",icon:i.p+"theme_light.cf5d5bfba2109dad7231.png"},{value:"system",name:"System",icon:i.p+"theme_system.374b66ee35055adafec5.png"},{value:"dark",name:"Dark",icon:RT}],WT=fe(je((e=>{var t,n;const{orderedAddresses:a,byAddress:o}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)||{},{config:{cardsInfo:r}={}}=ct(e)||{};return{isViewMode:Tt(e),accentColorIndex:null===(n=ut(e))||void 0===n?void 0:n.accentColorIndex,nftAddresses:a,nftsByAddress:o,isMintingCardsAvailable:Boolean(r),isNftBuyingDisabled:e.restrictions.isNftBuyingDisabled}}))((function(a){let{isActive:o,theme:r,animationLevel:i,accentColorIndex:s,nftAddresses:l,nftsByAddress:d,isInsideModal:u,isViewMode:m,isTrayIconEnabled:p,isMintingCardsAvailable:f,isNftBuyingDisabled:h,onTrayIconEnabledToggle:g,handleBackClick:v}=a;const{setTheme:w,setAnimationLevel:y,openMintCardModal:b,installAccentColorFromNft:E,clearAccentColorFromNft:k,showNotification:C}=Ke(),N=Ar(),[S,A]=ie(!1),[T,I]=ie(sb),[B,_]=ie({});zi({isActive:o,onBack:v});const{handleScroll:x,isScrolled:D}=Qh(),L=Sf(r);ce((()=>{e.TI6||(async()=>{A(!0);const n=await async function(n,a){try{const t=(n||[]).reduce(((t,n)=>{const o=null==a?void 0:a[n];return(null==o?void 0:o.collectionAddress)===e.qL&&t.push(o),t}),[]);if(!t.length)return;const o=await Promise.all(t.map((e=>Jf(e)))),r=o.reduce(((e,n,a)=>(void 0!==n&&(e[n]=t[a]),e)),{});return{availableAccentColorIds:(0,c.Am)((0,c.oE)(o)),nftsByColorIndex:r}}catch(e){return void(0,t.SJ)("[getAccentColorsFromNfts]: Error fetching accent colors",e)}}(l,d);n?(I(n.availableAccentColorIds),_(n.nftsByColorIndex)):(I(sb),_({})),A(!1)})()}),[d,l]);const O=de((()=>Gf[L].map(((e,t)=>({color:e,index:t}))).sort(((e,t)=>Number(!T.includes(e.index))-Number(!T.includes(t.index))))),[L,T]),P=Wo((e=>{document.documentElement.classList.add("no-transitions"),w({theme:e}),ni(e,u),setTimeout((()=>{document.documentElement.classList.remove("no-transitions")}),300)})),M=Wo((()=>{const t=i===e.dnp?e.zP3:e.dnp;y({level:t}),Vu(t)})),F=Wo((()=>{!m&&f?b():ic(e.b2d)}));function R(e,t){const n=s===t,a=void 0!==t&&!T.includes(t);return ge.createElement("button",{key:e||"default",type:"button",disabled:n,style:e?`--current-accent-color: ${e}`:void 0,className:Tr(tg.colorButton,n&&tg.colorButtonCurrent),"aria-label":N("Change Palette"),onClick:()=>{var e;void 0===(e=t)||T.includes(e)?void 0===e?k():E({nft:B[e]}):C({message:N("Get a unique MyTonWallet Card to unlock new palettes.")})}},S&&a&&ge.createElement(Qg,{color:"white"}),!S&&a&&ge.createElement("i",{className:Tr(tg.iconLock,"icon-lock","#FFFFFF"===e&&tg.iconLockInverted),"aria-hidden":!0}))}return ge.createElement("div",{className:tg.slide},u?ge.createElement(Fh,{title:N("Appearance"),withNotch:D,onBackButtonClick:v,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",D&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:v,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,N("Back"))),ge.createElement("span",{className:tg.headerTitle},N("Appearance"))),ge.createElement("div",{className:Tr(tg.content,"custom-scroll"),onScroll:x},ge.createElement("p",{className:tg.blockTitle},N("Theme")),ge.createElement("div",{className:tg.settingsBlock},ge.createElement("div",{className:tg.themeWrapper},UT.map((e=>{let{name:t,value:n,icon:a}=e;return ge.createElement("div",{key:n,className:Tr(tg.theme,n===r&&tg.theme_active),onClick:()=>P(n)},ge.createElement("div",{className:Tr(tg.themeIcon,n===r&&tg.themeIcon_active)},ge.createElement("img",{src:a,alt:"",className:tg.themeImg,"aria-hidden":!0})),ge.createElement("span",null,N(t)))})))),!e.TI6&&!h&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:tg.blockTitle},N("Palette")),ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement("div",{className:tg.colorList},R(),O.map((e=>{let{color:t,index:n}=e;return R(t,n)}))),ge.createElement("div",{className:tg.subBlockAsButton,role:"button",tabIndex:0,onClick:()=>F()},N("Unlock New Palettes"))),ge.createElement("p",{className:tg.blockDescription},N("Get a unique MyTonWallet Card to unlock new palettes."))),ge.createElement("p",{className:tg.blockTitle},N("Other")),ge.createElement("div",{className:tg.settingsBlock},ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:M},N("Enable Animations"),ge.createElement(IT,{className:tg.menuSwitcher,label:N("Enable Animations"),checked:i!==e.dnp})),n.cp&&n.H8&&ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:g},N("Display Tray Icon"),ge.createElement(IT,{className:tg.menuSwitcher,label:N("Display Tray Icon"),checked:p})))))}))),HT=fe((function(e){let{token:t}=e;const{deleteToken:n}=Ke(),[a,o]=ie(!1),r=Ar();Ee((()=>{t&&o(!0)}),[t]);const i=Wo((()=>{o(!1)})),s=Wo((()=>{i(),n({slug:t.slug})}));return ge.createElement(Zs,{isOpen:a,isCompact:!0,onClose:i,title:r("Delete Token"),contentClassName:"yflPd0zm"},ge.createElement("p",{className:"KH236kiH"},r("Are you sure you want to delete?",{token:ge.createElement("strong",null,null==t?void 0:t.name)})),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:i,className:Ks.button},r("Cancel")),ge.createElement(Vs,{isDestructive:!0,onClick:s,className:Ks.button},r("Delete"))))})),$T={x:0,y:0},VT={top:0,bottom:0,left:0,right:0},zT=150,KT=fe((function(e){let{children:t,id:a,onDrag:o,onDragEnd:r,style:i,knobStyle:s,isDisabled:c,offset:l=VT,parentRef:d,scrollRef:u,className:m,onClick:p}=e;const f=Ar(),h=me(),g=me(),v=me(),[w,y]=ie({isDragging:!1,scrollTop:0,origin:$T,translation:$T}),b=me({x:0,y:0}),E=()=>{void 0!==v.current&&(cancelAnimationFrame(v.current),v.current=void 0)},k=(e,t)=>{const n=()=>{e.scrollBy(0,t),(()=>{if(!(w.isDragging&&h.current&&null!=d&&d.current&&null!=u&&u.current))return;const e=YT(w,b.current,u.current.scrollTop,h.current,d.current,l);y((t=>({...t,translation:e}))),o(e,a)})(),v.current=requestAnimationFrame(n)};E(),n()},C=e=>{var t,n,a;const o=qT(e),r=(null==u||null===(t=u.current)||void 0===t?void 0:t.scrollTop)??0;y({...w,isDragging:!0,origin:o,scrollTop:r,width:null===(n=h.current)||void 0===n?void 0:n.offsetWidth,height:null===(a=h.current)||void 0===a?void 0:a.offsetHeight})},N=Wo((e=>{e.stopPropagation(),e.preventDefault(),C(e),n.bA&&To.clearScrollPatch()})),S=Wo((e=>{if(!h.current||null==d||!d.current||null==u||!u.current)return;const{x:t,y:n}=qT(e);b.current={x:t,y:n};const r=YT(w,b.current,u.current.scrollTop,h.current,d.current,l),i=u.current.getBoundingClientRect(),s=n-i.top,c=i.bottom-n;s<zT?k(u.current,-jT((zT-s)/zT)):c<zT?k(u.current,jT((zT-c)/zT)):E(),y((e=>({...e,translation:r}))),o(r,a)})),A=Wo((()=>{y((e=>({...e,isDragging:!1,width:void 0,height:void 0}))),n.bA&&To.applyScrollPatch(),r()})),T=Wo((e=>{w.isDragging||p(e)}));ce((()=>{const e=g.current;return e&&e.addEventListener("touchstart",N,{passive:!1}),w.isDragging?(window.addEventListener("touchmove",S),window.addEventListener("mousemove",S),window.addEventListener("touchend",A),window.addEventListener("touchcancel",A),window.addEventListener("mouseup",A)):(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),y((e=>({...e,translation:$T})))),()=>{w.isDragging&&(E(),window.removeEventListener("touchmove",S),window.removeEventListener("mousemove",S),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A),window.removeEventListener("mouseup",A),e&&e.removeEventListener("touchstart",N))}}),[S,A,N,w.isDragging,g,c]);const I=Tr("kWQHzIMD",m,w.isDragging&&"k0c5WDAy"),B=de((()=>bp(w.isDragging&&`transform: translate(${w.translation.x}px, ${w.translation.y}px)`,w.width?`width: ${w.width}px`:void 0,w.height?`height: ${w.height}px`:void 0,i)),[i,w.height,w.isDragging,w.translation.x,w.translation.y,w.width]);return ge.createElement("div",{style:B,className:I,ref:h,onClick:T},!c&&ge.createElement("div",{ref:g,"aria-label":f("i18n_dragToSort"),tabIndex:0,role:"button",className:Tr("UpzQzcvs","div-button","draggable-knob"),onMouseDown:e=>{C(e)},style:s},ge.createElement("i",{className:"icon icon-sort","aria-hidden":!0})),t)}));function qT(e){let t,n;return"touches"in e?(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY),{x:t,y:n}}function jT(e){return 5*e**3+1}function YT(e,t,n,a,o,r){const i={x:t.x-e.origin.x,y:t.y-e.origin.y+n-e.scrollTop},{top:s=0,right:c=0,bottom:l=0,left:d=0}=r,u=o.getBoundingClientRect(),m=a.getBoundingClientRect(),p=-a.offsetLeft+d,f=u.width-m.width-a.offsetLeft+c,h=-a.offsetTop+s,g=u.height-m.height-a.offsetTop+l;return{x:Br(i.x,p,f),y:Br(i.y,h,g)}}function GT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t.indexOf(e);return QT(-1===n?t.length:n)}function QT(e){return 64*e+48}const XT=fe((function(t){let{parentContainer:n,tokens:a,orderedSlugs:o,isSortByValueEnabled:r,baseCurrency:i,withChainIcon:s,isSensitiveDataHidden:c}=t;const{openSettingsWithState:l,updateOrderedSlugs:d,rebuildOrderedSlugs:u,toggleTokenVisibility:m}=Ke(),p=Ar(),f=ur(i),h=me(),g=me(),[v,w]=ie(),[y,b]=ie({orderedTokenSlugs:o,dragOrderTokenSlugs:o,draggedIndex:void 0});ye((()=>{u()})),ce((()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t.length&&e.every(((e,n)=>e===t[n]))})(o,y.orderedTokenSlugs)||b({orderedTokenSlugs:o,dragOrderTokenSlugs:o,draggedIndex:void 0})}),[o,y.orderedTokenSlugs]);const E=Wo((()=>{l({state:$n.SelectTokenList})})),k=Wo(((e,t)=>{var n,a;const r=Math.round(e.y/64),i=(null===(n=y.orderedTokenSlugs)||void 0===n?void 0:n.indexOf(t))??0,s=null===(a=y.orderedTokenSlugs)||void 0===a?void 0:a.filter((e=>e!==t));s&&_r(i+r,0,(null==o?void 0:o.length)??0)&&(s.splice(i+r,0,t),b((e=>({...e,draggedIndex:i,dragOrderTokenSlugs:s}))))})),C=Wo((()=>{b((e=>(d({orderedSlugs:e.dragOrderTokenSlugs}),{...e,orderedTokenSlugs:e.dragOrderTokenSlugs,draggedIndex:void 0})))})),N=Wo(((e,t)=>{t.preventDefault(),t.stopPropagation(),m({slug:e.slug,shouldShow:Boolean(e.isDisabled)})})),S=Wo(((e,t)=>{t.stopPropagation(),w(e)}));return ge.createElement(ge.Fragment,null,ge.createElement("p",{className:tg.blockTitle},p("My Tokens")),ge.createElement("div",{className:tg.contentRelative,ref:g},ge.createElement("div",{className:Tr(tg.settingsBlock,tg.sortableContainer),style:`height: ${64*((null==a?void 0:a.length)??0)+48}px`,ref:h},ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:E},p("Add Token"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),null==a?void 0:a.map((function(t,o){const{symbol:i,name:l,amount:d,price:u,slug:m,isDisabled:g}=t,v=(0,ma.m1)(d,u),w=y.draggedIndex===o,b=r?QT(o):GT(m,y.orderedTokenSlugs),E=r?QT(o):GT(m,y.dragOrderTokenSlugs),A=`top: ${w?b:E}px;`,T=0n===d&&!e.Fgn.includes(m),I=r||a.length<=1;return ge.createElement(KT,{key:m,id:m,onDrag:k,onDragEnd:C,style:A,knobStyle:"left: 1rem;",isDisabled:I,className:Tr(tg.item,tg.item_token,!r&&tg.draggable),offset:{top:48},parentRef:h,scrollRef:n,onClick:e=>N(t,e)},ge.createElement(Bw,{token:t,withChainIcon:s}),ge.createElement("div",{className:tg.tokenInfo},ge.createElement("div",{className:tg.tokenTitle},l),ge.createElement("div",{className:tg.tokenDescription},ge.createElement(Mw,{isActive:c,cols:4+E%6,rows:2,cellSize:8,contentClassName:tg.tokenAmount},ge.createElement(MC,{text:sr((0,Pt.nI)(v,t.decimals,!0),f)}),ge.createElement("i",{className:tg.dot,"aria-hidden":!0}),ge.createElement(MC,{text:sr((0,Pt.nI)(d,t.decimals),i)})),T&&ge.createElement(ge.Fragment,null,ge.createElement("i",{className:tg.dot,"aria-hidden":!0}),ge.createElement("span",{className:tg.deleteText,onClick:e=>S(t,e)},p("Delete"))))),ge.createElement(IT,{className:tg.menuSwitcher,checked:!g}))})))),ge.createElement(HT,{token:v}))})),JT=fe(je((e=>{const{isInvestorViewEnabled:t,isSortByValueEnabled:n,areTinyTransfersHidden:a,areTokensWithNoCostHidden:o,baseCurrency:r,isSensitiveDataHidden:i}=e.settings,{orderedSlugs:s}=ut(e)??{},{blacklistedNftAddresses:c=sb,whitelistedNftAddresses:l=sb,nfts:{byAddress:d}={}}=ct(e)||{};return{isInvestorViewEnabled:t,isSortByValueEnabled:n,areTinyTransfersHidden:a,areTokensWithNoCostHidden:o,baseCurrency:r,isMultichainAccount:Ct(e,e.currentAccountId),tokens:Ut(e),orderedSlugs:s,nftsByAddress:d,blacklistedNftAddresses:c,whitelistedNftAddresses:l,isSensitiveDataHidden:i}}))((function(t){let{isActive:n,isInsideModal:a,isInvestorViewEnabled:o,isSortByValueEnabled:r,isSensitiveDataHidden:i,areTinyTransfersHidden:s,areTokensWithNoCostHidden:c,baseCurrency:l,isMultichainAccount:d,tokens:u,orderedSlugs:m,nftsByAddress:p,blacklistedNftAddresses:f,whitelistedNftAddresses:h,onBack:g}=t;const{toggleTinyTransfersHidden:v,toggleInvestorView:w,toggleTokensWithNoCost:y,toggleSortByValue:b,changeBaseCurrency:E,setSettingsState:k}=Ke(),C=Ar(),N=me();zi({isActive:n,onBack:g});const{handleScroll:S,isScrolled:A}=Qh(),T=de((()=>Object.entries(e.yR2).map((e=>{let[t,{name:n}]=e;return{value:t,name:n}}))),[]),I=Wo((()=>{v({isEnabled:!s})})),B=Wo((()=>{w({isEnabled:!o})})),_=Wo((()=>{k({state:$n.HiddenNfts})})),x=Wo((()=>{y({isEnabled:!c})})),D=Wo((()=>{b({isEnabled:!r})})),[L,O]=ie(l),P=Wo((e=>{O(e),E({currency:e})})),{shouldRenderHiddenNftsSection:M,hiddenNftsCount:F}=de((()=>{const e=Object.values(p||{}),t=new Set(f),n=new Set(h);return{shouldRenderHiddenNftsSection:e.some((e=>t.has(e.address)||e.isHidden)),hiddenNftsCount:e.filter((e=>!n.has(e.address)&&(t.has(e.address)||e.isHidden))).length}}),[p,f,h]);return ge.createElement("div",{className:tg.slide},a?ge.createElement(Fh,{title:C("Assets & Activity"),withNotch:A,onBackButtonClick:g,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",A&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:g,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,C("Back"))),ge.createElement("span",{className:tg.headerTitle},C("Assets & Activity"))),ge.createElement("div",{className:Tr(tg.content,"custom-scroll"),onScroll:S,ref:N},ge.createElement("div",{className:tg.settingsBlock},ge.createElement(pv,{label:C("Base Currency"),items:T,selectedValue:l??e.wOb,theme:"light",shouldTranslateOptions:!0,className:Tr(tg.item,tg.item_small),onChange:P,isLoading:L!==l}),ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:B},ge.createElement("div",null,C("Investor View")," ",ge.createElement(Iv,{message:C("Focus on asset value rather than current balance"),iconClassName:tg.iconQuestion})),ge.createElement(IT,{className:tg.menuSwitcher,label:C("Investor View"),checked:o})),ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:I},ge.createElement("div",null,C("Hide Tiny Transfers")," ",ge.createElement(Iv,{message:C("$tiny_transfers_help",{value:e.Wvq}),tooltipClassName:Tr(tg.wideTooltip),iconClassName:tg.iconQuestion})),ge.createElement(IT,{className:tg.menuSwitcher,label:C("Hide Tiny Transfers"),checked:s}))),M&&ge.createElement("div",{className:tg.settingsBlock},ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:_},C("Hidden NFTs"),ge.createElement("div",{className:tg.itemInfo},F,ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),ge.createElement("p",{className:tg.blockTitle},C("Token Settings")),ge.createElement("div",{className:tg.settingsBlock},ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:D},C("Sort By Cost"),ge.createElement(IT,{className:tg.menuSwitcher,label:C("Sort By Cost"),checked:r})),ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:x},ge.createElement("div",null,C("Hide Tokens With No Cost")," ",ge.createElement(Iv,{message:C("$hide_tokens_no_cost_help",{value:e.Wvq}),tooltipClassName:Tr(tg.wideTooltip),iconClassName:tg.iconQuestion})),ge.createElement(IT,{className:tg.menuSwitcher,label:C("Hide Tokens With No Cost"),checked:c}))),ge.createElement(XT,{isSensitiveDataHidden:i,parentContainer:N,tokens:u,orderedSlugs:m,isSortByValueEnabled:r,baseCurrency:l,withChainIcon:d})))}))),ZT="Uez1mztb",eI=fe((function(e){let{isOpen:t,dapp:n,onClose:a}=e;const{deleteAllDapps:o,deleteDapp:r}=Ke(),i=Ar(),s=Wo((()=>{o(),a()})),c=Wo((()=>{r({url:n.url,uniqueId:nu(n)}),a()})),l=i(n?"Disconnect Dapp":"Disconnect Dapps"),d=n?i("Are you sure you want to disconnect?",{dappname:ge.createElement("strong",null,n.name)}):i("Are you sure you want to disconnect all websites?"),u=n?c:s;return ge.createElement(Zs,{isOpen:t,isCompact:!0,onClose:a,title:l,contentClassName:"ofWxr4DU"},ge.createElement("p",{className:"XlFYElV7"},d),ge.createElement("div",{className:"gixyiSx7"},ge.createElement(Vs,{onClick:a,className:ZT},i("Cancel")),ge.createElement(Vs,{isDestructive:!0,onClick:u,className:ZT},i("Disconnect"))))})),tI=fe((function(t){let{isActive:n,dapps:a,handleBackClick:o,isInsideModal:r}=t;const i=Ar(),[s,c,l]=ju(),[d,u]=ie();zi({isActive:n,onBack:o});const{handleScroll:m,isScrolled:p}=Qh(),f=Wo((e=>{const t=a.find((t=>t.url===e));u(t),c()})),h=Wo((()=>{u(void 0),c()})),g=0===a.length?ge.createElement("div",{className:tg.emptyList},ge.createElement($p,{play:n,tgsUrl:fp.noData,previewUrl:fp.noDataPreview,size:e.igk,noLoop:!1,nonInteractive:!0}),ge.createElement("p",{className:tg.emptyListTitle},i("No active connections"))):ge.createElement("div",{className:tg.dapps},ge.createElement("div",{className:tg.disconnectAllBlock},ge.createElement(Vs,{className:tg.disconnectButton,isSimple:!0,onClick:h},i("Disconnect All Dapps")),ge.createElement("p",{className:tg.blockDescription},i("$dapps-description",{app_name:e.C39}))),ge.createElement("p",{className:tg.blockTitle},i("Logged in with %app_name%",{app_name:e.C39})),ge.createElement("div",{className:tg.block},a.map((e=>ge.createElement(nw,{key:`dapp-${e.url}-${nu(e)}`,dapp:e,className:tg.dapp,onDisconnect:f})))));return ge.createElement("div",{className:tg.slide},r?ge.createElement(Fh,{title:i("Dapps"),withNotch:p,onBackButtonClick:o,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",p&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:o,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("span",{className:tg.headerTitle},i("Dapps"))),ge.createElement("div",{className:Tr(tg.content,"custom-scroll"),onScroll:m},ge.createElement(ff,{activeKey:0===a.length?0:1,name:"fade"},g)),ge.createElement(eI,{isOpen:s,onClose:l,dapp:d}))}));function nI(){if(e.v5B)return"firefox-extension";if(e.RTV)return"opera-extension";if(e.hL1)return"extension";if(e.UMQ){if(e.gmk){if(n.pz)return"ios-air";if(e.VL7)return"android-air-direct";if(n.Ni)return"android-air"}if(e.VL7)return"android-direct";if(n.Ni)return"android";if(n.pz)return"ios"}var t;return e.tKX?(null===(t=no())||void 0===t?void 0:t.platform)||"telegram-unknown":n.cp?"electron":"web"}var aI=i(36791);const oI=[{value:"mainnet",name:"Mainnet"},{value:"testnet",name:"Testnet"}],rI=n.pz||!(e.hL1||e.tKX),iI=fe(je((e=>{var t;const n=e.currentAccountId;return{currentAccountId:n,accountsById:null===(t=e.accounts)||void 0===t?void 0:t.byId,canViewAllWalletVersions:!Ct(e,n)}}))((function(o){let{isOpen:r,isTestnet:i,isCopyStorageEnabled:s,onShowAllWalletVersions:c,onClose:l,currentAccountId:d,accountsById:u,canViewAllWalletVersions:m}=o;const{startChangingNetwork:p,closeSettings:f,openAddAccountModal:h,copyStorageData:g,showNotification:v}=Ke(),w=Ar(),y=oI[i?1:0].value,b=Wo((e=>{p({network:e}),l()})),E=Wo((()=>{l(),f(),h({forceAddingTonOnlyAccount:!0})})),k=Wo((async()=>{const o=await async function(o){let{currentAccountId:r,accountsById:i}=o;const s=i&&Object.keys(i).reduce(((e,t)=>{const{addressByChain:n,type:a}=i[t];return e[t]={type:a,addressByChain:n},e}),{}),[c,l,d=[]]=await Promise.all([(0,t.ao)(),n.KI?new Promise((e=>{const t=n=>{let{data:a}=n;"logsFromNative"===a.type&&(Al.removeEventListener("message",t),e(a.logs))};Al.addEventListener("message",t),Al.postMessage({type:"getLogsFromNative"})})):Promise.resolve([]),(0,a.p)("getLogs")]),u=new Date,m=-u.getTimezoneOffset();return JSON.stringify({time:u,timezone:`UTC${m<0?"-":"+"}${Math.abs(m)/60}`,environment:e.Guj,version:e.hl5,commit:e.rFA,platform:(0,aI.u)(),navigatorPlatform:navigator.platform,userAgent:navigator.userAgent,build:nI(),flags:{IS_ANDROID_DIRECT:e.VL7,IS_CAPACITOR:e.UMQ,IS_TELEGRAM_APP:e.tKX,IS_EXTENSION:e.hL1,IS_FIREFOX_EXTENSION:e.v5B,IS_PACKAGED_ELECTRON:e.jht,IS_AIR_APP:e.gmk,IS_ELECTRON:n.cp,IS_OPERA_EXTENSION:e.RTV},currentAccountId:r,accountsInfo:s,logs:[...c.map((e=>({...e,context:"main"}))),...l.map((e=>({...e,context:"bottomSheet"}))),...d.map((e=>({...e,context:"api"})))].sort(((e,t)=>e.time-t.time)).map((e=>({...e,time:new Date(e.time).toISOString()})))},void 0,2)}({currentAccountId:d,accountsById:u});if(rI){const t=`${e.TI6?"tonwallet":"mytonwallet"}_logs_${(new Date).toISOString()}.json`;await async function(t,a){if(e.UMQ){const e={path:t,directory:yh.__.Cache},n=await bh.writeFile({...e,data:a,encoding:yh.Wi.UTF8});try{if(await Ch({url:n.uri}))return}finally{bh.deleteFile(e)}}const o=new File([a],t,{type:"application/json"});if(await Nh({files:[o]}))return;const r=URL.createObjectURL(o);try{if(n.pz)window.open(r,"_blank","noreferrer");else{const e=document.createElement("a");e.href=r,e.download=t,e.click()}}finally{URL.revokeObjectURL(r)}}(t,o)}else await dl(o),v({message:w("Logs were copied!"),icon:"icon-copy"}),l()}));return ge.createElement(Zs,{isOpen:r,onClose:l,noBackdropClose:!0,isCompact:!0,title:w("Developer Options")},ge.createElement("div",{className:tg.settingsBlock},ge.createElement(pv,{label:w("Network"),items:oI,selectedValue:y,theme:"light",arrow:"chevron",className:Tr(tg.item,tg.item_small),onChange:b}),ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:E},w("Create TON-Only Wallet"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-plus"),"aria-hidden":!0})),ge.createElement("div",{className:Tr(tg.item,tg.item_small,!m&&tg.item_disabled),onClick:c},w("All Wallet Versions"),ge.createElement("div",{className:tg.itemInfo},m?ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}):ge.createElement(ge.Fragment,null,ge.createElement("span",{className:tg.small},w("Multichain")),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-lock"),"aria-hidden":!0}))))),s&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:tg.blockTitle},w("Dangerous")),ge.createElement("div",{className:tg.settingsBlock},ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:()=>g()},w("Copy Storage Data"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),ge.createElement("div",{className:Tr(tg.settingsBlock)},ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:k},rI?w("Download Logs"):ge.createElement(ge.Fragment,null,w("Copy Logs"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-copy"),"aria-hidden":!0})))),ge.createElement(Vs,{className:tg.developerCloseButton,onClick:l},w("Close")))}))),sI=fe((function(t){let{isActive:n,handleBackClick:a,isInsideModal:o}=t;const r=Ar();zi({isActive:n,onBack:a});const{handleScroll:i,isScrolled:s}=Qh();return ge.createElement("div",{className:tg.slide},o?ge.createElement(Fh,{title:"",withNotch:s,onBackButtonClick:a}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",s&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:a,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back")))),ge.createElement("div",{className:Tr(tg.content,o&&"custom-scroll",!o&&tg.content_noScroll),onScroll:o?i:void 0},ge.createElement("div",{className:tg.stickerAndTitle},ge.createElement($p,{play:n,tgsUrl:fp.snitch,previewUrl:fp.snitchPreview,noLoop:!1,nonInteractive:!0,size:e.lWW}),ge.createElement("div",{className:tg.sideTitle},r("Use Responsibly"))),ge.createElement("div",{className:Tr(tg.blockAbout,!o&&"custom-scroll")},ge.createElement("p",{className:tg.text},tr(r("$auth_responsibly_description1",{app_name:e.C39}))),ge.createElement("p",{className:tg.text},tr(r("$auth_responsibly_description2"))),ge.createElement("p",{className:tg.text},tr(r("$auth_responsibly_description3",{app_name:e.C39}))),ge.createElement("p",{className:tg.text},tr(r("$auth_responsibly_description4"))))))})),cI=fe((function(e){let{nft:t}=e;const{openMediaViewer:a,removeNftSpecialStatus:o}=Ke(),r=Ar(),[i,,s]=ju(!0),c=Wo((()=>{o({address:t.address})})),{ref:l}=Rs({isOpen:i,onCloseAnimationEnd:c}),{isPortrait:d}=ui(),u=!d||n.cp||n.KI||n.bA;return Ne.createElement("div",{ref:l,className:tg.item,onClick:function(){a({mediaId:t.address,mediaType:qn.Nft,noGhostAnimation:u,hiddenNfts:"user"})},key:t.address,role:"button",tabIndex:0,"data-nft-address":!u&&t.address},Ne.createElement("img",{className:tg.nftImage,src:t.image,alt:t.name}),Ne.createElement("div",{className:tg.nftPrimaryCell},Ne.createElement("span",{className:tg.nftName},t.name||r("Untitled")),t.collectionName&&Ne.createElement("span",{className:tg.nftCollection},t.collectionName)),Ne.createElement(Vs,{isSmall:!0,isPrimary:!0,isText:!0,className:tg.nftButtonUnhide,onClick:s,shouldStopPropagation:!0},r("Unhide")))})),lI=fe((function(e){let{nft:t,isWhitelisted:a}=e;const{openMediaViewer:o,removeNftSpecialStatus:r,openUnhideNftModal:i}=Ke(),s=Ar(),{isPortrait:c}=ui(),l=!c||n.cp||n.KI||n.bA,d=Wo((()=>{o({mediaId:t.address,mediaType:qn.Nft,noGhostAnimation:l,hiddenNfts:"scam"})})),u=Wo((e=>{e.stopPropagation(),a?r({address:t.address}):i({address:t.address,name:t.name})}));return Ne.createElement("div",{className:tg.item,onClick:d,key:t.address,role:"button",tabIndex:0,"data-nft-address":!l&&t.address},Ne.createElement("img",{className:tg.nftImage,src:t.image,alt:t.name}),Ne.createElement("div",{className:tg.nftPrimaryCell},Ne.createElement("span",{className:tg.nftName},t.name),t.collectionName&&Ne.createElement("span",{className:tg.nftCollection},t.collectionName)),Ne.createElement(IT,{className:tg.menuSwitcher,label:s("Show"),checked:a,onChange:u,shouldStopPropagation:!0}))})),dI=fe(je((e=>{var t;const{blacklistedNftAddresses:n,whitelistedNftAddresses:a}=ct(e)??{},{orderedAddresses:o,byAddress:r}=(null===(t=ct(e))||void 0===t?void 0:t.nfts)??{};return{blacklistedNftAddresses:n,whitelistedNftAddresses:a,orderedAddresses:o,byAddress:r}}))((function(e){let{isActive:t,handleBackClick:a,isInsideModal:o,blacklistedNftAddresses:r,whitelistedNftAddresses:i,orderedAddresses:s,byAddress:c}=e;const l=Ar();zi({isActive:t,onBack:a});const{isScrolled:d,handleScroll:u}=Qh(),m=de((()=>{if(s&&c)return s.map((e=>c[e])).filter(Boolean)}),[c,s]),p=de((()=>{const e=new Set(r);return null==m?void 0:m.filter((t=>e.has(t.address)))}),[m,r]),f=de((()=>null==m?void 0:m.filter((e=>e.isHidden))),[m]),h=de((()=>new Set(i)),[i]),{isPortrait:g}=ui(),v=!g||n.cp||n.KI||n.bA;return ge.createElement("div",{className:tg.slide},o?ge.createElement(Fh,{title:l("Hidden NFTs"),withNotch:d,onBackButtonClick:a,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",d&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:a,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:tg.headerTitle},l("Hidden NFTs"))),ge.createElement("div",{className:Tr(tg.content,"custom-scroll"),onScroll:u},Boolean(null==p?void 0:p.length)&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:tg.blockTitle},l("Hidden By Me")),ge.createElement("div",{className:Tr(tg.block,!v&&"hidden-nfts-user")},p.map((e=>ge.createElement(cI,{key:e.address,nft:e}))))),Boolean(null==f?void 0:f.length)&&ge.createElement(ge.Fragment,null,ge.createElement("p",{className:tg.blockTitle},l("Probably Scam")),ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription,!v&&"hidden-nfts-scam")},f.map((e=>ge.createElement(lI,{key:e.address,nft:e,isWhitelisted:h.has(e.address)})))),ge.createElement("p",{className:tg.blockDescription},l("$settings_nft_probably_scam_description")))))}))),uI=i.p+"settings_checkmark.4c62604cbc9fd263c110.svg",mI=fe((function(t){let{isActive:n,langCode:a,handleBackClick:o,isInsideModal:r}=t;const{changeLanguage:i}=Ke(),s=Ar();zi({isActive:n,onBack:o});const c=Wo((e=>{Sr(e,(()=>{i({langCode:e})}))}));return ge.createElement("div",{className:tg.slide},r?ge.createElement(Fh,{title:s("Language"),onBackButtonClick:o,className:Tr(tg.modalHeader,tg.languageHeader)}):ge.createElement("div",{className:tg.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:o,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,s("Back"))),ge.createElement("span",{className:tg.headerTitle},s("Language"))),ge.createElement("div",{className:Tr(tg.content,"custom-scroll")},ge.createElement("div",{className:tg.block},e.gSB.map((e=>{let{name:t,nativeName:n,langCode:o}=e;return ge.createElement("div",{key:o,className:Tr(tg.item,tg.item_lang),onClick:()=>c(o)},ge.createElement("div",{className:tg.languageInfo},ge.createElement("span",{className:tg.languageMain},t),ge.createElement("span",{className:tg.languageNative},n)),a===o&&ge.createElement("img",{src:uI,alt:t}))})))))})),pI=fe(je((e=>({accounts:at(e),canPlaySounds:e.settings.canPlaySounds,pushNotifications:e.pushNotifications,settingsByAccountId:e.settings.byAccountId})))((function(t){let{isActive:n,handleBackClick:a,accounts:o,canPlaySounds:r,pushNotifications:{enabledAccounts:i,isAvailable:s},isInsideModal:c,settingsByAccountId:l}=t;const d=Ar(),{toggleNotifications:u,toggleNotificationAccount:m,toggleCanPlaySounds:p}=Ke(),f=de((()=>Object.entries(o||{})),[o]),h=Boolean(Object.keys(i).length),g=d(s?"Notifications & Sounds":"Sounds"),v=Wo((()=>{u({isEnabled:!h})})),w=Wo((()=>{p({isEnabled:!r})}));zi({isActive:n,onBack:a});const{handleScroll:y,isScrolled:b}=Qh();return ge.createElement("div",{className:tg.slide},c?ge.createElement(Fh,{title:g,withNotch:b,onBackButtonClick:a,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",b&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:a,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,d("Back"))),ge.createElement("span",{className:tg.headerTitle},g)),ge.createElement("div",{className:Tr(tg.content,"custom-scroll"),onScroll:y},s&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:tg.settingsBlock},ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:v},d("Push Notifications"),ge.createElement(IT,{className:tg.menuSwitcher,label:d("Push Notifications"),checked:h}))),ge.createElement("p",{className:tg.blockTitle},d("Select up to %count% wallets for notifications",{count:e.vdF})),ge.createElement(sv,{accountLength:f.length,className:tg.settingsBlock},f.map((t=>{let[n,{title:a,addressByChain:o,type:r}]=t;return function(t,n,a,o){const r=n.ton?()=>{m({accountId:t})}:void 0,{cardBackgroundNft:s}=(null==l?void 0:l[t])||{},c=(0,Ye.LG)(n)??"",u=i&&!i[t]&&Qe(i,e.vdF-1);return ge.createElement(iv,{className:Tr(tg.account,u?tg.accountDisabled:void 0),key:t,accountId:t,address:c,title:o,ariaLabel:d("Switch Account"),accountType:a,withCheckbox:!0,isLoading:u,isActive:Boolean(i&&i[t]),onClick:r,cardBackgroundNft:s})}(n,o,r,a)})))),ge.createElement("div",{className:tg.settingsBlock},ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:w},d("Play Sounds"),ge.createElement(IT,{className:tg.menuSwitcher,label:d("Play Sounds"),checked:r})))))})));var fI,hI;!function(e){e.Accessibility="accessibility",e.Account="account",e.AirplaneMode="airplane_mode",e.Apn="apn",e.ApplicationDetails="application_details",e.ApplicationDevelopment="application_development",e.Application="application",e.AppNotification="app_notification",e.BatteryOptimization="battery_optimization",e.Bluetooth="bluetooth",e.Captioning="captioning",e.Cast="cast",e.DataRoaming="data_roaming",e.Date="date",e.Display="display",e.Dream="dream",e.Home="home",e.Keyboard="keyboard",e.KeyboardSubType="keyboard_subtype",e.Locale="locale",e.Location="location",e.ManageApplications="manage_applications",e.ManageAllApplications="manage_all_applications",e.MemoryCard="memory_card",e.Network="network",e.NfcSharing="nfcsharing",e.NfcPayment="nfc_payment",e.NfcSettings="nfc_settings",e.Print="print",e.Privacy="privacy",e.QuickLaunch="quick_launch",e.Search="search",e.Security="security",e.Settings="settings",e.ShowRegulatoryInfo="show_regulatory_info",e.Sound="sound",e.Storage="storage",e.Sync="sync",e.Usage="usage",e.UserDictionary="user_dictionary",e.VoiceInput="voice_input",e.Wifi="wifi",e.WifiIp="wifi_ip",e.Wireless="wireless",e.ZenMode="zen_mode",e.ZenModePriority="zen_mode_priority",e.ZenModeBlockedEffects="zen_mode_blocked_effects"}(fI||(fI={})),function(e){e.About="about",e.App="app",e.AppNotification="appNotification",e.AutoLock="autoLock",e.Bluetooth="bluetooth",e.DateTime="dateTime",e.FaceTime="facetime",e.General="general",e.Keyboard="keyboard",e.ICloud="iCloud",e.ICloudStorageBackup="iCloudStorageBackup",e.International="international",e.LocationServices="locationServices",e.Music="music",e.Notes="notes",e.Notifications="notifications",e.Phone="phone",e.Photos="photos",e.ManagedConfigurationList="managedConfigurationList",e.Reset="reset",e.Ringtone="ringtone",e.Sounds="sounds",e.SoftwareUpdate="softwareUpdate",e.Store="store",e.Tracking="tracking",e.Wallpaper="wallpaper",e.WiFi="wifi",e.Tethering="tethering",e.DoNotDisturb="doNotDisturb",e.TouchIdPasscode="touchIdPasscode",e.ScreenTime="screenTime",e.Accessibility="accessibility"}(hI||(hI={}));const gI=(0,_a.F3)("NativeSettings",{web:()=>i.e(988).then(i.bind(i,91988)).then((e=>new e.NativeSettingsWeb))}),vI=i.p+"settings_private-key.5db3564e144d742b44ca.svg",wI=i.p+"settings_secret-words.594687182868e734ac8f.svg",yI=fe((function(e){let{isActive:t,isInsideModal:n,isMultichainAccount:a,hasMnemonicWallet:o,onBackClick:r,onOpenSecretWordsSafetyRules:i,onOpenPrivateKeySafetyRules:s,openSettingsSlide:c}=e;const l=Ar();zi({isActive:t,onBack:r});const{handleScroll:d,isScrolled:u}=Qh();return ge.createElement("div",{className:tg.slide},n?ge.createElement(Fh,{onBackButtonClick:c,className:tg.modalHeader,withNotch:u,title:l("$back_up_security")}):ge.createElement("div",{className:tg.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:c,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:tg.headerTitle},l("$back_up_security"))),ge.createElement("div",{className:Tr(tg.content,"custom-scroll"),onScroll:d},o&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement("div",{className:Tr(tg.item),onClick:i},ge.createElement("img",{className:tg.menuIcon,src:wI,alt:l("View Secret Words")}),l("View Secret Words"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),a&&ge.createElement("p",{className:tg.blockDescription},l("Can be imported to any multichain wallet supporting TON."))),(a||!o)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement("div",{className:Tr(tg.item),onClick:s},ge.createElement("img",{className:tg.menuIcon,src:vI,alt:l("View TON Private Key")}),l("View TON Private Key"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("p",{className:tg.blockDescription},l("Can be imported to non-multichain wallets for TON.")))))})),bI=fe((function(t){let{isActive:n,privateKey:a,onSubmit:o,buttonText:r}=t;const i=Ar();return ge.createElement(ge.Fragment,null,ge.createElement($p,{tgsUrl:fp.bill,previewUrl:fp.billPreview,size:e.lWW,play:n,nonInteractive:!0,noLoop:!1,className:lg}),ge.createElement("p",{className:Tr(mg,fg)},tr(i("$private_key_description"))),ge.createElement("p",{className:pg},tr(i("$mnemonic_warning"))),ge.createElement(Iy,{noExplorer:!0,text:a,copyNotification:i("Your private key was copied!")}),ge.createElement("div",{className:dg},ge.createElement(Vs,{isPrimary:!0,className:ug,onClick:o},r)))})),EI="gDO3tqgH",kI=fe((function(e){let{isActive:t,currentAccountId:n,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:c}=e;const l=Ar(),[d,u]=ie(void 0);ce((()=>{!async function(){if(r&&o){const e=await(0,a.p)("fetchPrivateKey",n,o);u(e)}else u(void 0)}()}),[n,o,r]),zi({isActive:t,onBack:s});const{handleScroll:m,isScrolled:p}=Qh();return ge.createElement("div",{className:tg.slide},i?ge.createElement(Fh,{title:l("Private Key"),withNotch:p,onBackButtonClick:s,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",p&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:s,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:tg.headerTitle},l("Private Key"))),ge.createElement("div",{className:Tr(tg.content,EI),onScroll:m},ge.createElement(bI,{isActive:t,privateKey:d,buttonText:l("Close"),onSubmit:c})))})),CI=fe((function(e){let{isActive:t,onBackClick:n,isInsideModal:a,onSubmit:o,backupType:r}=e;const i=Ar(),[s,c]=ie(!1),[l,d]=ie(!1),[u,m]=ie(!1),p=Wo((()=>{c(!1),d(!1),m(!1),n()}));zi({isActive:t,onBack:n});const{handleScroll:f,isScrolled:h}=Qh();return ge.createElement("div",{className:tg.slide},a?ge.createElement(Fh,{title:i("Safety Rules"),withNotch:h,onBackButtonClick:p,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",h&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:p,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,i("Back"))),ge.createElement("span",{className:tg.headerTitle},i("Safety Rules"))),ge.createElement("div",{className:Tr(tg.content,EI),onScroll:f},ge.createElement(Hg,{isActive:t,isFullSizeButton:!0,textFirst:i("key"===r?"$safety_rules_private_key_one":"$safety_rules_one"),textSecond:i("key"===r?"$safety_rules_private_key_two":"$safety_rules_two"),textThird:i("key"===r?"$safety_rules_private_key_three":"$safety_rules_three"),isFirstCheckboxSelected:s,onFirstCheckboxClick:c,isSecondCheckboxSelected:l,onSecondCheckboxClick:d,isThirdCheckboxSelected:u,onThirdCheckboxClick:m,onSubmit:o})))})),NI=fe((function(e){let{isActive:t,currentAccountId:n,enteredPassword:o,isBackupSlideActive:r,isInsideModal:i,onBackClick:s,onSubmit:c}=e;const l=Ar(),[d,u]=ie(void 0),m=(null==d?void 0:d.length)||0;ce((()=>{!async function(){if(r&&o){const e=await(0,a.p)("fetchMnemonic",n,o);u(e)}else u(void 0)}()}),[n,o,r]),zi({isActive:t,onBack:s});const{handleScroll:p,isScrolled:f}=Qh();return ge.createElement("div",{className:tg.slide},i?ge.createElement(Fh,{title:l("%1$d Secret Words",m),withNotch:f,className:tg.modalHeader,onBackButtonClick:s}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",f&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,className:tg.headerBack,onClick:s},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,l("Back"))),ge.createElement("span",{className:tg.headerTitle},l("%1$d Secret Words",m))),ge.createElement("div",{className:Tr(tg.content,EI),onScroll:p},ge.createElement(zg,{isActive:t,mnemonic:d,onSubmit:c,buttonText:l("Close")})))})),SI=fe(je((e=>({isBiometricAuthEnabled:St(e)})))((function(e){let{isBiometricAuthEnabled:t,onEnable:a}=e;const{disableNativeBiometrics:o}=Ke(),r=Zc()||!Jc()&&n.pz,i=el(),s=Ar(),[c,l,d]=ju(),u=r?"Face ID":i?"Touch ID":s("Biometric Authentication"),m=r?"Turn Off Face ID":i?"Turn Off Touch ID":"Turn Off Biometrics",p=r?"Are you sure you want to disable Face ID?":i?"Are you sure you want to disable Touch ID?":"Are you sure you want to disable biometrics?",f=r?Ng:Cg,h=Wo((()=>{d(),o()}));Ee((()=>{n.bA&&c&&zy.confirm({title:s(m),message:s(p),okButtonTitle:s("Yes"),cancelButtonTitle:s("Cancel")}).then((e=>{let{value:t}=e;t&&h()})).finally(d)}),[h,c,s,p,m]);const g=Wo((()=>{var e;to()?null===(e=no())||void 0===e||e.BiometricManager.openSettings():t?l():a()}));return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement("div",{className:tg.item,onClick:g},ge.createElement("img",{className:tg.menuIcon,src:f,alt:""}),u,ge.createElement(IT,{className:tg.menuSwitcher,label:u,checked:t})),function(){if(!n.bA)return ge.createElement(Zs,{isCompact:!0,isOpen:c,title:s(m),onClose:d,dialogClassName:tg.stakingSafeDialog},ge.createElement("p",{className:Ks.text},tr(s(p))),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:d},s("Cancel")),ge.createElement(Vs,{onClick:h},s("Yes"))))}()),ge.createElement("p",{className:tg.blockDescription},s("To avoid entering the passcode every time, you can use biometrics.")))}))),AI=i.p+"settings_install-app.4e741ffc81f5e067f545.svg";let TI=function(e){return e[e.password=0]="password",e[e.settings=1]="settings",e[e.newPassword=2]="newPassword",e[e.createNewPin=3]="createNewPin",e[e.confirmNewPin=4]="confirmNewPin",e[e.passwordChanged=5]="passwordChanged",e[e.backup=6]="backup",e[e.safetyRules=7]="safetyRules",e[e.privateKey=8]="privateKey",e[e.secretWords=9]="secretWords",e}({});const II=tl()?TI.createNewPin:TI.newPassword,BI=fe(je((e=>{const{isPasswordNumeric:t,autolockValue:n,isAppLockEnabled:a,isAutoConfirmEnabled:o}=e.settings,r=Nt(e),i=St(e),s=bt(e),c=At(e,e.currentAccountId);return{isBiometricAuthEnabled:r,isNativeBiometricAuthEnabled:i,isMultichainAccount:Ct(e,e.currentAccountId),isPasswordNumeric:t,isPasswordPresent:s,isAppLockEnabled:a,autolockValue:n,isAutoConfirmEnabled:o,isAllowSuspiciousActions:c,shouldShowBackup:wt(e),isLoading:e.auth.isLoading,currentAccountId:e.currentAccountId}}))((function(t){let{isActive:o,handleBackClick:r,isInsideModal:i,isBiometricAuthEnabled:s,isNativeBiometricAuthEnabled:c,isPasswordNumeric:d,isPasswordPresent:u,isMultichainAccount:m,isAppLockEnabled:p,autolockValue:f=e.fPM,isAutoConfirmEnabled:h,isAllowSuspiciousActions:g,isAutoUpdateEnabled:v,currentAccountId:w,onSettingsClose:y,onAutoUpdateEnabledToggle:b,isLoading:E,shouldShowBackup:k}=t;const{setIsPinAccepted:C,clearIsPinAccepted:N,disableNativeBiometrics:S,enableNativeBiometrics:A,openBiometricsTurnOffWarning:T,openBiometricsTurnOn:I,setSettingsState:B,setAppLockValue:_,setIsAutoConfirmEnabled:x,setIsAllowSuspiciousActions:D,setIsAuthLoading:L,setInMemoryPassword:O}=Ke(),P=Ar(),{isScrolled:M,handleScroll:F}=Qh(),[R,U]=ie(TI.password),W=be(R),[H,$]=ie(TI.settings),[V,z]=ie(),[K,q]=ie(),[j,Y]=ie(void 0),[G,Q]=ie(!1),[X,J]=ie(""),[Z,ee]=ie(""),te=Wo((()=>{z(void 0)})),ne=Wo((e=>{e||q(void 0),J(""),ee(""),te(),N()})),ae=Wo((()=>{r(),ne()})),oe=Wo((()=>{U(TI.confirmNewPin),$(TI.settings)})),re=Wo((()=>{U(TI.settings),$(void 0),ne(!0)})),se=Wo((()=>{m?(U(TI.backup),$(TI.safetyRules)):re()})),de=Wo((()=>{U(II),$(TI.settings)})),ue=Wo((()=>{U(TI.passwordChanged),$(TI.settings)}));le((()=>{void 0===K&&o?U(TI.password):o||ne()}),[K,o]),zi({isActive:o,onBack:ae});const me=Wo((async e=>{await(0,a.p)("verifyPassword",e)?(tl()&&(C(),await cl(!0)),re(),q(e)):z("Wrong password, please try again.")})),pe=Wo((async e=>{await(0,a.p)("changePassword",K,e),L({isLoading:!0}),q(e),O({password:e}),c&&(S(),A({password:e})),tl()?re():ue(),L({isLoading:void 0})})),fe=Wo((async e=>{J(e),await cl(!0),await(0,l.v7)(500),oe()})),he=Wo((async e=>{e===X?(z(P("New code set successfully")),await(0,l.v7)(1500),await pe(e)):(z(P("Codes don’t match")),await(0,l.v7)(1500),ne(!0),U(TI.createNewPin))})),ve=Wo((()=>{$(II),de()})),we=Wo((()=>{Y("key"),U(TI.safetyRules),$(TI.privateKey)})),ye=Wo((()=>{Y("words"),U(TI.safetyRules),$(TI.secretWords)})),Ee=Wo((()=>{m?(U(TI.backup),$(void 0)):G?ye():we()})),ke=Wo((()=>{U(TI.privateKey),$(TI.backup)})),Ce=Wo((()=>{U(TI.secretWords),$(TI.backup)})),Ne=Wo((()=>{_({value:f,isEnabled:!p})})),Se=Wo((e=>{_({value:e,isEnabled:!0})})),Ae=Wo((()=>{x({isEnabled:!h})})),Te=Wo((()=>{D({isEnabled:!g})})),Ie=Wo((()=>{s?T():I()})),Be=Wo((async()=>{if(Jc())return void B({state:$n.NativeBiometricsTurnOn});const e=n.pz?"To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable biometrics in your phone settings.",{value:t}=await zy.confirm({title:P("Warning!"),message:P(e),okButtonTitle:P("Open Settings"),cancelButtonTitle:P("Cancel")});t&&await gI.open({optionAndroid:fI.ApplicationDetails,optionIOS:hI.App})}));ce((()=>{K&&(0,a.p)("fetchMnemonic",w,K).then((e=>{Q(Boolean(e&&!ml(e)))}))}),[G,w,K]);const _e=u&&(Jc()||n.ZH||to()),xe=i&&tl(),De=!s;function Le(t,a,r){switch(r){case TI.settings:return ge.createElement("div",{className:tg.slide},i?ge.createElement(Fh,{title:P("Security"),withNotch:M,onBackButtonClick:ae,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",M&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:ae,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,P("Back"))),ge.createElement("span",{className:tg.headerTitle},P("Security"))),ge.createElement("div",{className:Tr(tg.content,"custom-scroll"),onScroll:F},k&&ge.createElement("div",{className:tg.settingsBlock},ge.createElement("div",{className:Tr(tg.item),onClick:Ee},ge.createElement("img",{className:tg.menuIcon,src:AI,alt:P("$back_up_security")}),P("$back_up_security"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),_e&&ge.createElement(SI,{onEnable:Be}),u&&n.uh&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement("div",{className:tg.item,onClick:Ie},ge.createElement("img",{className:tg.menuIcon,src:Cg,alt:P("Biometric Authentication")}),P("Biometric Authentication"),ge.createElement(IT,{className:tg.menuSwitcher,label:P("Biometric Authentication"),checked:s}))),ge.createElement("p",{className:tg.blockDescription},P("To avoid entering the passcode every time, you can use biometrics."))),!(s&&!c)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement(Vs,{className:tg.changePasswordButton,isSimple:!0,onClick:ve},P(d?"Change Passcode":"Change Password"))),ge.createElement("p",{className:tg.blockDescription},P("The passcode will be changed for all your wallets."))),u&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement("div",{className:Tr(tg.item,tg.itemSmall),onClick:Ne},P("App Lock"),ge.createElement(IT,{className:tg.menuSwitcher,label:P("Allow App Lock"),checked:p})),ge.createElement(RS,{isShown:!!p},ge.createElement(pv,{label:P("Auto-Lock"),items:e.zTb,selectedValue:f,theme:"light",shouldTranslateOptions:!0,className:Tr(tg.item,tg.item_small,tg.itemAutoLock),onChange:Se}))),ge.createElement("p",{className:tg.blockDescription},P("$app_lock_description",{app_name:e.C39}))),u&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement("div",{className:Tr(tg.item,tg.itemSmall,!De&&tg.itemDisabled),onClick:De?Ae:void 0},P(d?"Remember Passcode":"Remember Password"),ge.createElement(IT,{className:tg.menuSwitcher,label:P(d?"Remember Passcode":"Remember Password"),checked:De&&h}))),ge.createElement("p",{className:tg.blockDescription},P("App will not ask for signature for %1$d minutes after last entry.",e.gbw),!De&&` ${P("Not available with biometrics.")}`)),n.cp&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement("div",{className:Tr(tg.item,tg.item_small),onClick:b},P("Auto-Updates"),ge.createElement(IT,{className:tg.menuSwitcher,label:P("Auto-Updates"),checked:v}))),ge.createElement("p",{className:tg.blockDescription},P("Turn this off so you can manually download updates and verify signatures."))),ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr(tg.block,tg.settingsBlockWithDescription)},ge.createElement("div",{className:Tr(tg.item,tg.itemSmall),onClick:Te},P("Allow Suspicious Actions"),ge.createElement(IT,{className:tg.menuSwitcher,label:P("Allow Suspicious Actions"),checked:g}))),ge.createElement("p",{className:tg.blockDescription},P("$allow_suspicious_actions_description")))));case TI.password:return im()?(U(TI.settings),void sm().then((e=>q(e)))):ge.createElement(ge.Fragment,null,i?ge.createElement(Fh,{title:P(d?"Confirm Passcode":"Confirm Password"),onBackButtonClick:ae,className:tg.modalHeader}):ge.createElement("div",{className:tg.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:ae,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,P("Back"))),ge.createElement("span",{className:tg.headerTitle},P("Enter Password"))),ge.createElement(Cf,{isActive:t&&o,error:V,containerClassName:e.UMQ?tg.passwordFormContent:tg.passwordFormContentInModal,forceBiometricsInMain:!i,placeholder:P("Enter your current password"),submitLabel:P("Continue"),onCancel:ae,onSubmit:me,onUpdate:te}));case TI.newPassword:return ge.createElement(ge.Fragment,null,i?ge.createElement(Fh,{title:P("Change Password"),onBackButtonClick:re,className:tg.modalHeader}):ge.createElement("div",{className:tg.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:re,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,P("Back"))),ge.createElement("span",{className:tg.headerTitle},P("Change Password"))),ge.createElement("div",{className:Tr(Ks.transitionContent,tg.content,i&&tg.contentInModal)},ge.createElement($p,{tgsUrl:fp.guard,previewUrl:fp.guardPreview,play:t,size:e.igk,nonInteractive:!0,noLoop:!1,className:tg.sticker}),ge.createElement(Tg,{isActive:t,isLoading:E,onSubmit:pe,onCancel:re,formId:"auth-create-password"})));case TI.createNewPin:return ge.createElement(ge.Fragment,null,i?ge.createElement(Fh,{onBackButtonClick:re,className:tg.modalHeader,title:xe&&P("Change Passcode")}):ge.createElement("div",{className:tg.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:re,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,P("Back")))),ge.createElement("div",{className:Tr(tg.pinPadHeader,xe&&tg.pinPadHeaderMinified)},ge.createElement($p,{play:o,tgsUrl:fp.guard,previewUrl:fp.guardPreview,noLoop:!1,size:xe?e.jzp:e.reE,nonInteractive:!0}),!xe&&ge.createElement("div",{className:tg.pinPadTitle},P("Change Passcode"))),ge.createElement(vf,{isActive:o,title:P("Enter your new code"),length:e.NEx,value:X,onChange:J,onSubmit:fe,isMinified:xe}));case TI.confirmNewPin:return ge.createElement(ge.Fragment,null,i?ge.createElement(Fh,{onBackButtonClick:re,className:tg.modalHeader,title:xe&&P(V&&X===Z?"Passcode Changed!":"Change Passcode")}):ge.createElement("div",{className:tg.header},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:re,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,P("Back")))),ge.createElement("div",{className:Tr(tg.pinPadHeader,xe&&tg.pinPadHeaderMinified)},ge.createElement($p,{play:o,tgsUrl:fp.guard,previewUrl:fp.guardPreview,noLoop:!1,size:xe?e.jzp:e.reE,nonInteractive:!0}),!xe&&ge.createElement("div",{className:tg.pinPadTitle},P(V&&X===Z?"Passcode Changed!":"Change Passcode"))),ge.createElement(vf,{isActive:o,title:V||P("Re-enter your new code"),type:V?X===Z?"success":"error":void 0,length:e.NEx,value:Z,onChange:ee,onSubmit:he,isMinified:xe}));case TI.passwordChanged:return ge.createElement(ge.Fragment,null,i?ge.createElement(Fh,{title:P("Password Changed!"),className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,tg.onlyTextHeader)},ge.createElement("span",{className:tg.headerTitle},P("Password Changed!"))),ge.createElement("div",{className:tg.content},ge.createElement($p,{tgsUrl:fp.yeee,previewUrl:fp.yeeePreview,play:o,size:e.reE,nonInteractive:!0,noLoop:!1,className:Tr(tg.sticker,tg.stickerHuge)}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,onClick:re,className:Ks.customSubmitButton},P("Done")))));case TI.backup:return ge.createElement(yI,{isActive:o&&t,isMultichainAccount:m,openSettingsSlide:re,isInsideModal:i,onOpenPrivateKeySafetyRules:we,onOpenSecretWordsSafetyRules:ye,onBackClick:ae,hasMnemonicWallet:G});case TI.safetyRules:return ge.createElement(CI,{isActive:o&&t,isInsideModal:i,backupType:j,onBackClick:se,onSubmit:"key"===j?ke:Ce});case TI.secretWords:return ge.createElement(NI,{isActive:o&&t,isBackupSlideActive:r===TI.secretWords||r===TI.safetyRules,isInsideModal:i,enteredPassword:K,currentAccountId:w,onBackClick:se,onSubmit:y});case TI.privateKey:return ge.createElement(kI,{isActive:o&&t,isBackupSlideActive:r===TI.privateKey||r===TI.safetyRules,isInsideModal:i,enteredPassword:K,currentAccountId:w,onBackClick:se,onSubmit:y})}}return ge.createElement(ff,{direction:W===TI.password&&R===TI.settings?1:"auto",name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Tr(tg.slide,i&&Ks.transitionSlide),activeKey:R,nextKey:H,shouldCleanup:!0},Le)}))),_I=fe((function(e){let{isActive:t,isInsideModal:n,handleBackClick:a}=e;const{addToken:o}=Ke(),r=Ar(),i=Wo((e=>{o({token:e})}));return zi({isActive:t,onBack:a}),ge.createElement("div",{className:Tr(tg.slide,tg.withTopSpace)},ge.createElement(wE,{isActive:t,shouldHideMyTokens:!0,shouldHideNotSupportedTokens:!0,header:ge.createElement("div",{className:Tr(tg.header,n&&tg.headerInsideModal)},ge.createElement(Vs,{isSimple:!0,isText:!0,className:Tr(tg.headerBack,n&&tg.isInsideModal),onClick:a},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,r("Back"))),ge.createElement("span",{className:tg.headerTitle},r("Select Token"))),onTokenSelect:i,onBack:a,onClose:a}))})),xI=fe((function(e){let{isActive:t,handleBackClick:n,isInsideModal:a,currentVersion:o,wallets:r}=e;const{closeSettings:i,importAccountByVersion:s}=Ke(),c=Ar();zi({isActive:t,onBack:n});const{handleScroll:l,isScrolled:d}=Qh(),u=Wo((e=>{i(),s({version:e})}));return ge.createElement("div",{className:tg.slide},a?ge.createElement(Fh,{title:c("Wallet Versions"),withNotch:d,onBackButtonClick:n,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",d&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:n,className:tg.headerBack},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,c("Back"))),ge.createElement("span",{className:tg.headerTitle},c("Wallet Versions"))),ge.createElement("div",{className:Tr(tg.content,"custom-scroll"),onScroll:l},ge.createElement("div",{className:tg.blockWalletVersionText},ge.createElement("span",null,c("$current_wallet_version",{version:ge.createElement("strong",null,o)})),ge.createElement("span",null,c("You have tokens on other versions of your wallet. You can import them from here."))),ge.createElement("div",{className:tg.block},null==r?void 0:r.map((e=>ge.createElement("div",{key:e.address,className:Tr(tg.item,tg.item_wallet_version),onClick:()=>u(e.version)},ge.createElement("div",{className:tg.walletVersionInfo},ge.createElement("span",{className:tg.walletVersionTitle},e.version),ge.createElement("span",{className:tg.walletVersionAddress},(0,Yt.W)(e.address))),ge.createElement("div",{className:tg.walletVersionInfoRight},ge.createElement("span",{className:tg.walletVersionTokens},e.tokens.join(", ")),ge.createElement("span",{className:tg.walletVersionAmount},"≈ ",e.totalBalance)),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),ge.createElement("div",{className:tg.blockWalletVersionReadMore},c("$read_more_about_wallet_version",{ton_link:ge.createElement("a",{href:"https://docs.ton.org/participate/wallets/contracts",target:"_blank",rel:"noreferrer"},"ton.org")}))))})),DI=i.p+"settings_about.595108a2131c96b2a073.svg",LI=i.p+"settings_appearance.2b14c893329172079cde.svg",OI=i.p+"settings_assets-activity.1ad5da85234bf09fece1.svg",PI=i.p+"settings_connected-dapps.2040e629b6b7c8322782.svg",MI=i.p+"settings_disclaimer.253b4de147ec357601d1.svg",FI=i.p+"settings_exit.32a8c2a0aa15b32cbe18.svg",RI=i.p+"settings_helpcenter.c1b63b9a0edfbe3ca57a.svg",UI=i.p+"settings_install-desktop.f9ff2be3a8a645314652.svg",WI=i.p+"settings_install-mobile.9a3f10a7012a857e2ba2.svg",HI=i.p+"settings_language.5082638742f18ab7aea8.svg",$I=i.p+"settings_ledger.d4d0de11ad8edd55b0ca.svg",VI=i.p+"settings_mtw-cards.aa09d8a35d4b36e090c8.svg",zI=i.p+"settings_mytonwallet.0bfa3bfd3fb936194997.svg",KI=i.p+"settings_notifications.20cf46edde7f154d46e3.svg",qI=i.p+"settings_security.4e873ae439b7ec0b15a9.svg",jI=i.p+"settings_support.de2a6e66d58407937014.svg",YI=i.p+"settings_telegram-menu.48b7177fffab504e301c.svg",GI=i.p+"settings_tips.4f95b86d29d530790adb.svg",QI=i.p+"settings_ton-links.d9f0da8222e4a54c9332.svg",XI=i.p+"settings_ton-magic.bc2fb1d30938a1154b6c.svg",JI=i.p+"settings_ton-proxy.21c95b346710c5a73217.svg",ZI=i.p+"settings_wallet-version.651cf56eff6ca7827bf6.svg",eB=1,tB=fe(je((e=>{const t=bt(e),n=at(e),{isCopyStorageEnabled:a,supportAccountsCount:o=1,isNftBuyingDisabled:r}=e.restrictions,{currentVersion:i,byId:s}=e.walletVersions??{},c=null==s?void 0:s[e.currentAccountId],{dapps:l=sb}=ct(e)||{},{hardwareWallets:d}=e.hardware;return{settings:e.settings,dapps:l,isOpen:e.areSettingsOpen,tokens:Ut(e),isPasswordPresent:t,currentVersion:i,versions:c,isCopyStorageEnabled:a,supportAccountsCount:o,hardwareWallets:d,accounts:n,isNftBuyingDisabled:r,arePushNotificationsAvailable:e.pushNotifications.isAvailable,isViewMode:Tt(e)}}))((function(t){let{settings:{state:a,theme:o,animationLevel:r,isTestnet:i,langCode:s,isTonProxyEnabled:c,isTonMagicEnabled:l,isDeeplinkHookEnabled:d,baseCurrency:u},dapps:m,isActive:p,isOpen:f=!1,tokens:h,isInsideModal:g,isPasswordPresent:v,currentVersion:w,versions:y,isCopyStorageEnabled:b,supportAccountsCount:E=eB,accounts:k,hardwareWallets:C,arePushNotificationsAvailable:N,isNftBuyingDisabled:S,isViewMode:A}=t;const{setSettingsState:T,openSettingsHardwareWallet:I,closeSettings:B,toggleDeeplinkHook:_,toggleTonProxy:x,toggleTonMagic:D,getDapps:L,clearIsPinAccepted:O,afterSelectHardwareWallets:P}=Ke(),M=Ar(),{isPortrait:F}=ui(),R=me(),{renderingKey:U}=tv(a,f),{disableSwipeToClose:W,enableSwipeToClose:H}=Zy(f),[$,V]=ie(i?5:0),z=Uo(nb(U)),[K,q,j]=ju(),[Y,G]=ju(),[Q,X,J]=ju(),Z=U===$n.Initial,ee=de((()=>e.gSB.find((e=>e.langCode===s))),[s]),te=ur(u),ne=de((()=>null==h?void 0:h.find((t=>{let{slug:n}=t;return n===e.Tu9.slug}))),[h]),ae=de((()=>{var e;return(null==y||null===(e=y.filter((e=>e.lastTxId||"W5"===e.version||Y)))||void 0===e?void 0:e.map((e=>{const t=sr((0,Pt.nI)(e.balance),(null==ne?void 0:ne.symbol)??""),n=sr((0,Pt.CF)(e.balance).mul((null==ne?void 0:ne.price)??0).round(null==ne?void 0:ne.decimals),te),a=[t];return{address:e.address,version:e.version,totalBalance:n,tokens:a}})))??[]}),[te,ne,y,Y]),{shouldRender:oe,ref:re}=Rs({isOpen:l,withShouldRender:!0}),{handleScroll:se,isScrolled:le}=Qh(),ue=Wo((()=>{z.current===$n.NativeBiometricsTurnOn&&O()})),pe=Wo((()=>{B(void 0,{forceOnHeavyAnimation:!0}),T({state:$n.Initial})}));var fe;zi({isActive:p&&Z,onBack:pe,shouldIgnoreForTelegram:g}),ce((()=>{if(fe)return function(){const e=xA();BA+=1,!e&&xA()&&DA()}(),LA}),[fe=f&&!Z]);const he=Wo((()=>{j(),e.TI6&&pe()})),ve=Wo((()=>{L(),T({state:$n.Dapps})}));function we(){T({state:$n.Appearance})}function ye(){T({state:$n.PushNotifications})}function be(){T({state:$n.Security})}function Ee(){T({state:$n.Assets})}function ke(){T({state:$n.Language})}function Ce(){T({state:$n.About})}function Ne(){T({state:$n.Disclaimer})}const Se=Wo((()=>{switch(U){case $n.HiddenNfts:case $n.SelectTokenList:T({state:$n.Assets});break;default:T({state:$n.Initial})}})),Ae=Wo((()=>{T({state:$n.Assets})})),Te=Wo((()=>{T({state:$n.WalletVersion})})),Ie=Wo((()=>{_({isEnabled:!d})})),Be=Wo((()=>{x({isEnabled:!c})})),_e=Wo((()=>{D({isEnabled:!l})}));function xe(){ic("https://mytonwallet.io/get",{isExternal:!0})}function De(){ic("https://mytonwallet.io/get/desktop",{isExternal:!0})}function Le(){ic("https://mytonwallet.io/get/mobile",{isExternal:!0})}const Oe=Wo((()=>{P({hardwareSelectedIndices:[C[0].index]}),pe()})),Pe=Wo((e=>{e?Oe():T({state:$n.LedgerSelectWallets})})),[Me,Fe]=ie(!1);ce((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsTrayIconEnabled().then(Fe)}),[]);const Re=Wo((()=>{var e;Fe(!Me),null===(e=window.electron)||void 0===e||e.setIsTrayIconEnabled(!Me)})),[Ue,We]=ie(!1);ce((()=>{var e;null===(e=window.electron)||void 0===e||e.getIsAutoUpdateEnabled().then(We)}),[]);const He=Wo((()=>{var e;We(!Ue),null===(e=window.electron)||void 0===e||e.setIsAutoUpdateEnabled(!Ue)})),$e=Wo((()=>{Z?g&&pe():Se()})),Ve=Wo((e=>{J(),e&&pe()}));function ze(){I()}const qe=()=>{$+1>=5?q():V($+1)},je=Wo((()=>{G(),he(),Te()}));function Ye(){return ge.createElement("div",{className:tg.item,onClick:Ie},ge.createElement("img",{className:tg.menuIcon,src:QI,alt:M("Handle ton:// links")}),M("Handle ton:// links"),ge.createElement(IT,{className:tg.menuSwitcher,label:M("Handle ton:// links"),checked:d}))}function Ge(t,a,i){switch(i){case $n.Initial:return ge.createElement("div",{className:tg.slide},g?ge.createElement(Fh,{title:M("Settings"),withNotch:le,onClose:F?void 0:pe,className:tg.modalHeader}):ge.createElement("div",{className:Tr(tg.header,"with-notch-on-scroll",le&&"is-scrolled")},ge.createElement(Vs,{isSimple:!0,isText:!0,onClick:pe,className:Tr(tg.headerBack,F&&tg.hidden)},ge.createElement("i",{className:Tr(tg.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ge.createElement("span",null,M("Back"))),ge.createElement("span",{className:tg.headerTitle},M("Settings"))),ge.createElement("div",{className:Tr(tg.content,"custom-scroll",tg.withBottomSpace),onScroll:se},e.TI6&&ge.createElement("div",{className:tg.block},ge.createElement("div",{className:tg.item,onClick:xe},ge.createElement("img",{className:tg.menuIcon,src:zI,alt:M("Upgrade to MyTonWallet")}),M("Upgrade to MyTonWallet"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&n.u2&&ge.createElement("div",{className:tg.block},ge.createElement("div",{className:tg.item,onClick:xe},ge.createElement("img",{className:tg.menuIcon,src:AI,alt:M("Install App")}),M("Install App"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),e.hL1&&ge.createElement("div",{className:tg.block},e.hnd&&ge.createElement("div",{className:tg.item,onClick:Be},ge.createElement("img",{className:tg.menuIcon,src:JI,alt:M("TON Proxy")}),M("TON Proxy"),ge.createElement(IT,{className:tg.menuSwitcher,label:M("Toggle TON Proxy"),checked:c})),ge.createElement("div",{className:tg.item,onClick:_e},ge.createElement("img",{className:tg.menuIcon,src:XI,alt:M("TON Magic")}),M("TON Magic"),ge.createElement(IT,{className:tg.menuSwitcher,label:M("Toggle TON Magic"),checked:l})),oe&&ge.createElement("div",{ref:re,className:tg.item,onClick:nB},ge.createElement("img",{className:tg.menuIcon,src:YI,alt:M("Open Telegram Web")}),M("Open Telegram Web"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),Ye()),n.cp&&ge.createElement("div",{className:tg.block},Ye()),ge.createElement("div",{className:tg.block},ge.createElement("div",{className:tg.item,onClick:ye},ge.createElement("img",{className:tg.menuIcon,src:KI,alt:M(N?"Notifications & Sounds":"Sounds")}),M(N?"Notifications & Sounds":"Sounds"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("div",{className:tg.item,onClick:we},ge.createElement("img",{className:tg.menuIcon,src:LI,alt:M("Appearance")}),M("Appearance"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.K_I&&ge.createElement("div",{className:tg.item,onClick:Ee},ge.createElement("img",{className:tg.menuIcon,src:OI,alt:M("Assets & Activity")}),M("Assets & Activity"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),v&&ge.createElement("div",{className:tg.item,onClick:be},ge.createElement("img",{className:tg.menuIcon,src:qI,alt:M("Security")}),M("Security"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),n.ED&&!A&&ge.createElement("div",{className:tg.item,onClick:ve},ge.createElement("img",{className:tg.menuIcon,src:PI,alt:M("Connected Dapps")}),M("Connected Dapps"),ge.createElement("div",{className:tg.itemInfo},m.length?m.length:"",ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&ge.createElement("div",{className:tg.item,onClick:ke},ge.createElement("img",{className:tg.menuIcon,src:HI,alt:M("Language")}),M("Language"),ge.createElement("div",{className:tg.itemInfo},null==ee?void 0:ee.name,ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})))),(!(null==y||!y.length)||n.sC)&&ge.createElement("div",{className:tg.block},!(null==y||!y.length)&&ge.createElement("div",{className:tg.item,onClick:Te},ge.createElement("img",{className:tg.menuIcon,src:ZI,alt:M("Wallet Versions")}),M("Wallet Versions"),ge.createElement("div",{className:tg.itemInfo},w,ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),n.sC&&ge.createElement("div",{className:tg.item,onClick:ze},ge.createElement("img",{className:tg.menuIcon,src:$I,alt:M("Connect Ledger")}),M("Connect Ledger"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&ge.createElement(ge.Fragment,null,!S&&ge.createElement("div",{className:tg.block},ge.createElement("a",{href:e.b2d,target:"_blank",rel:"noopener noreferrer",className:tg.item},ge.createElement("img",{className:tg.menuIcon,src:VI,alt:M("MyTonWallet Cards NFT")}),M("MyTonWallet Cards NFT"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("div",{className:tg.block},ge.createElement("a",{href:`https://t.me/${e.AIK[s]??e.AIK.en}`,target:"_blank",rel:"noopener noreferrer",className:tg.item},ge.createElement("img",{className:tg.menuIcon,src:GI,alt:M("MyTonWallet Tips")}),M("MyTonWallet Tips"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),ge.createElement("a",{href:QE(s,"home"),target:"_blank",rel:"noopener noreferrer",className:tg.item},ge.createElement("img",{className:tg.menuIcon,src:RI,alt:M("Help Center")}),M("Help Center"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),E>0&&ge.createElement("a",{href:`https://t.me/${e.Fkn}`,target:"_blank",rel:"noopener noreferrer",className:tg.item},ge.createElement("img",{className:tg.menuIcon,src:jI,alt:M("Get Support")}),M("Get Support"),ge.createElement("div",{className:tg.itemInfo},ge.createElement("span",{className:tg.small},"@",e.Fkn),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))))),ge.createElement("div",{className:tg.block},ge.createElement("div",{className:tg.item,onClick:Ne},ge.createElement("img",{className:tg.menuIcon,src:MI,alt:M("Use Responsibly")}),M("Use Responsibly"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&e.UMQ&&ge.createElement("div",{className:tg.block},ge.createElement("div",{className:tg.item,onClick:De},ge.createElement("img",{className:tg.menuIcon,src:UI,alt:M("Install on Desktop")}),M("Install on Desktop"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&n.cp&&ge.createElement("div",{className:tg.block},ge.createElement("div",{className:tg.item,onClick:Le},ge.createElement("img",{className:tg.menuIcon,src:WI,alt:M("Install on Mobile")}),M("Install on Mobile"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),!e.TI6&&ge.createElement("div",{className:tg.block},!e.TI6&&e.hL1&&ge.createElement("div",{className:tg.item,onClick:xe},ge.createElement("img",{className:tg.menuIcon,src:AI,alt:M("Install App")}),M("Install App"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0})),!e.TI6&&ge.createElement("div",{className:tg.item,onClick:Ce},ge.createElement("img",{className:tg.menuIcon,src:DI,alt:""}),M("About %app_name%",{app_name:e.C39}),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("div",{className:tg.block},ge.createElement("div",{className:Tr(tg.item,tg.item_red),onClick:X},ge.createElement("img",{className:tg.menuIcon,src:FI,alt:M("Exit")}),M("Exit"),ge.createElement("i",{className:Tr(tg.iconChevronRight,"icon-chevron-right"),"aria-hidden":!0}))),ge.createElement("div",{className:tg.version,onClick:qe},e.C39," ",e.hl5," ",e.vOV)));case $n.PushNotifications:return ge.createElement(pI,{isActive:p&&t,handleBackClick:Se,isInsideModal:g});case $n.Appearance:return ge.createElement(WT,{isActive:p&&t,theme:o,animationLevel:r,handleBackClick:Se,isInsideModal:g,isTrayIconEnabled:Me,onTrayIconEnabledToggle:Re});case $n.Assets:return ge.createElement(JT,{isActive:p&&t,isInsideModal:g,onBack:Se});case $n.Security:return ge.createElement(BI,{isActive:p&&t,handleBackClick:Se,isInsideModal:g,isAutoUpdateEnabled:Ue,onAutoUpdateEnabledToggle:He,onSettingsClose:pe});case $n.Dapps:return ge.createElement(tI,{isActive:p&&t,dapps:m,handleBackClick:Se,isInsideModal:g});case $n.Language:return ge.createElement(mI,{isActive:p&&t,langCode:s,handleBackClick:Se,isInsideModal:g});case $n.About:return ge.createElement(ng,{isActive:p&&t,handleBackClick:Se,isInsideModal:g,theme:o});case $n.Disclaimer:return ge.createElement(sI,{isActive:p&&t,handleBackClick:Se,isInsideModal:g});case $n.NativeBiometricsTurnOn:return ge.createElement(FT,{isActive:p&&t,isInsideModal:g,handleBackClick:Se});case $n.SelectTokenList:return ge.createElement(_I,{isActive:p&&t,isInsideModal:g,handleBackClick:Ae});case $n.WalletVersion:return ge.createElement(xI,{isActive:p&&t,currentVersion:w,handleBackClick:Se,isInsideModal:g,wallets:ae});case $n.LedgerConnectHardware:return ge.createElement("div",{className:tg.slide},ge.createElement(Cv,{isActive:p&&t,isStatic:!g,className:tg.nestedTransition,onBackButtonClick:Se,onConnected:Pe,onClose:$e}));case $n.LedgerSelectWallets:return ge.createElement("div",{className:tg.slide},ge.createElement(Nb,{isActive:p&&t,isStatic:!g,accounts:k,hardwareWallets:C,onBackButtonClick:Se,onClose:$e}));case $n.HiddenNfts:return ge.createElement(dI,{isActive:p&&t,handleBackClick:Ae,isInsideModal:g})}}return ce((()=>Ih(g?$e:Se)),[g]),ce((()=>{if(n.TF)return ef(R.current,{onSwipeRightStart:()=>{n.bA?Se():$e(),W()},onCancel:()=>{T({state:z.current}),H()}})}),[W,H,z]),ge.createElement("div",{className:tg.wrapper},ge.createElement(ff,{ref:R,name:ev(),className:Tr(g?Ks.transition:tg.transitionContainer,"custom-scroll"),activeKey:U,slideClassName:Tr(g&&Ks.transitionSlide),withSwipeControl:!0,onStop:tl()?ue:void 0},Ge),ge.createElement(iI,{isOpen:K,isTestnet:i,isCopyStorageEnabled:b,onShowAllWalletVersions:je,onClose:he}),ge.createElement(yp,{isOpen:Q,onClose:Ve}),n.uh&&ge.createElement(MT,{isInsideModal:g}))})));function nB(){window.open(e.h4K,"_blank","noopener")}const aB=fe(je((e=>({isMediaViewerOpen:Boolean(e.mediaViewer.mediaId)})))((function(t){let{children:a,isOpen:o,onClose:r,isMediaViewerOpen:i}=t;const s=Tr(tg.modalDialog,!(n.cp||e.hL1)&&tg.modalDialogWeb);return ge.createElement(Zs,{hasCloseButton:!0,isOpen:o&&!i,dialogClassName:s,contentClassName:tg.modalContent,nativeBottomSheetKey:"settings",forceFullNative:!0,onClose:r},a)}))),oB=fe((function(t){let{isActive:o,swapType:r,toAddress:i="",tokenIn:s,tokenOut:c}=t;const{cancelSwap:l,setSwapCexAddress:d,showNotification:u,setSwapScreen:m,requestOpenQrScanner:p}=Ke(),f=Ar(),{isPortrait:h}=ui(),g=me(),[v,w]=ie(n.Et),[y,b,E]=ju(),[k,C]=ie(!1),[N,S]=ie(r!==Fn.CrosschainFromWallet),A=Pb(),T=v&&""===i,I=i.length>28?(0,Yt.W)(i,14)||"":i,B=Wo((()=>{C(!1),S(!1),m({state:h?On.Initial:On.None})}));zi({isActive:o,onBack:B});const _=Wo((()=>{const e=g.current;requestAnimationFrame((()=>{const t=e.selectionStart;b(),requestAnimationFrame((()=>{const n=t<=17?t:Math.max(0,e.value.length-(I.length-t));e.setSelectionRange(n,n),n>28&&(e.scrollLeft=e.scrollWidth-e.clientWidth)}))}))})),x=Wo((async e=>{if(!e.length)return C(!1),void S(!1);const t=await(0,a.p)("swapCexValidateAddress",{slug:c.slug,address:e});if(!t)return C(!1),void S(!1);C(!t.result),S(t.result)})),D=Wo((()=>{E()})),L=Wo((e=>{d({toAddress:e.trim()})})),O=Wo((async()=>{try{const{type:e,text:t}=await ul();"text/plain"===e&&(d({toAddress:t.trim()}),await x(t.trim()))}catch(e){u({message:f("Error reading clipboard")}),w(!1)}}));ce((()=>{x(i)}),[i,x]);const P=Wo((()=>{il(),m({state:On.Password})})),M=Wo((()=>{n.pz&&(0,n.v3)()?alert("Scanning is temporarily not available"):(p(),l())})),F=f("$swap_from_to",{from:null==s?void 0:s.symbol,icon:ge.createElement("i",{className:Tr("icon-chevron-right",zk.swapArrowIcon),"aria-hidden":!0}),to:null==c?void 0:c.symbol});return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:F,onClose:l}),ge.createElement("div",{className:Tr(zk.scrollContent,zk.selectBlockchainBlock,"custom-scroll")},ge.createElement($p,{play:o,noLoop:!1,nonInteractive:!0,tgsUrl:fp.bill,previewUrl:fp.billPreview,size:e.igk}),function(){if(r===Fn.CrosschainFromWallet)return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:zk.inputAddress},ge.createElement(zp,{ref:g,isRequired:!0,placeholder:f("Your address on another blockchain"),value:y?i:I,onInput:L,onFocus:_,onBlur:D,wrapperClassName:zk.inputAddressWrapper},A&&ge.createElement(Vs,{isSimple:!0,className:Tr(zk.inputButton,T&&zk.inputButtonShifted),onClick:M,ariaLabel:f("Scan QR Code")},ge.createElement("i",{className:"icon-qr-scanner-alt","aria-hidden":!0})),T&&ge.createElement(Vs,{isSimple:!0,className:zk.inputButton,onClick:O,ariaLabel:f("Paste")},ge.createElement("i",{className:"icon-paste","aria-hidden":!0})))),function(){const e=k?f("Incorrect address."):f("Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.",{blockchain:pE(null==c?void 0:c.chain)});return ge.createElement(ff,{name:"fade",activeKey:k?0:1,slideClassName:zk.blockchainHintWrapper},ge.createElement("span",{className:Tr(zk.blockchainHintText,k&&zk.blockchainHintTextError)},e))}())}(),ge.createElement("div",{className:Tr(zk.blockchainButtons,Ks.footerButtons)},ge.createElement(Vs,{onClick:B,className:Ks.buttonHalfWidth},f("Close")),ge.createElement(Vs,{isPrimary:!0,isDisabled:!N,className:Ks.buttonHalfWidth,onClick:P},f("Continue")))))})),rB="e8xjMuq6",iB="n91WXWIY",sB="nOPyXt4f",cB=fe(je((e=>{var t;return{addressByChain:null===(t=rt(e))||void 0===t?void 0:t.addressByChain,isSensitiveDataHidden:e.settings.isSensitiveDataHidden}}))((function(e){let{tokenIn:t,tokenOut:n,amountIn:a,amountOut:o,playAnimation:r,firstButtonText:i,secondButtonText:s,swapType:c,toAddress:l="",addressByChain:d,isSensitiveDataHidden:u,onFirstButtonClick:m,onSecondButtonClick:p,isFirstButtonDisabled:f}=e;const h=Ar(),g=$d({from:t,to:n,toAddress:l,addressByChain:d}),v=de((()=>Boolean(l&&Object.values(d??{}).some((e=>e===l)))),[d,l]);return ge.createElement(ge.Fragment,null,function(){if(c!==Fn.CrosschainFromWallet||g)return ge.createElement($p,{play:r,noLoop:!1,nonInteractive:!0,className:"TY_nyPoa",tgsUrl:fp.thumbUp,previewUrl:fp.thumbUpPreview})}(),ge.createElement(fA,{isSensitiveDataHidden:u,tokenIn:t,amountIn:a,tokenOut:n,amountOut:o}),c!==Fn.OnChain&&ge.createElement("div",{className:iB},ge.createElement("span",{className:sB},h("Please note that it may take up to a few hours for tokens to appear in your wallet."))),function(){if(c!==Fn.CrosschainFromWallet||v)return;const e=Hd(null==n?void 0:n.chain)?n.chain:void 0;return ge.createElement("div",{className:iB},ge.createElement("span",{className:sB},h("$swap_changelly_from_ton_description",{blockchain:ge.createElement("span",{className:"bTumpDcM"},pE(null==n?void 0:n.chain))})),ge.createElement(Iy,{chain:e,address:l,copyNotification:h("Address was copied!"),noSavedAddress:!0,noExplorer:!0,className:"qcMvwyr2"}))}(),function(){if(i||s)return ge.createElement("div",{className:"JuY14PzG"},i&&ge.createElement(Vs,{className:rB,onClick:m,isDisabled:f},i),s&&ge.createElement(Vs,{className:rB,onClick:p},s))}())}))),lB=fe((function(e){let{isActive:t,tokenIn:n,tokenOut:a,amountIn:o,amountOut:r,swapType:i,toAddress:s,onInfoClick:c,onStartSwap:l,onClose:d,isDetailsDisabled:u}=e;const m=Ar();return zi({isActive:t,onBack:d}),ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:m("Swap Placed"),onClose:d}),ge.createElement("div",{className:Tr(zk.scrollContent,"custom-scroll")},ge.createElement(cB,{tokenIn:n,amountIn:o,tokenOut:a,amountOut:r,swapType:i,toAddress:s,playAnimation:t,firstButtonText:m("Details"),secondButtonText:m("Repeat"),onFirstButtonClick:c,onSecondButtonClick:l,isFirstButtonDisabled:u}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:d,isPrimary:!0},m("Close")))))})),dB=fe((function(t){let{isActive:n,isLoading:a,error:o,children:r,onSubmit:i,onBack:s}=t;const{cancelSwap:c,clearSwapError:l}=Ke(),d=Ar();return zi({isActive:n,onBack:s}),ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:d("Confirm Swap"),onClose:c}),ge.createElement(Cf,{isActive:n,isLoading:a,withCloseButton:e.UMQ,error:o,operationType:"swap",submitLabel:d("Send"),cancelLabel:d("Back"),onSubmit:i,onCancel:s,onUpdate:l,skipAuthScreen:!0},r))})),uB=fe((function(t){let{isActive:n,tokenIn:a,tokenOut:o,amountIn:r,amountOut:i,payinAddress:s,payoutAddress:c,payinExtraId:l,activity:d,addressByChain:u,onClose:m}=t;const p=Ar(),[f,h]=ie(!1),g=de((()=>Date.now()),[]),{qrCodeRef:v,isInitialized:w}=VE({address:s,isActive:n,hiddenClassName:zk.qrCodeHidden,hideLogo:!0}),y=!l,b=$d({from:a,to:o,toAddress:c,addressByChain:u});zi({isActive:n,onBack:m});const E=Wo((()=>{h(!0)}));return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:p(f?"Swap Expired":b?"Swapping":"Waiting for Payment"),onClose:m}),ge.createElement("div",{className:Tr(zk.scrollContent,zk.selectBlockchainBlock,"custom-scroll")},ge.createElement(fA,{tokenIn:a,amountIn:r,tokenOut:o,amountOut:i}),ge.createElement(ff,{name:"fade",activeKey:f?1:0},function(){if(f){var t;const n=d&&"cex"in d?null===(t=d.cex)||void 0===t?void 0:t.transactionId:void 0;return ge.createElement("div",{className:zk.changellyInfoBlock},ge.createElement("span",{className:zk.changellyImportantRed},p("The time for sending coins is over.")),ge.createElement("span",{className:zk.changellyDescription},p("$swap_changelly_support",{livechat:ge.createElement("a",{href:e.o$d,target:"_blank",rel:"noreferrer",className:zk.changellyDescriptionBold},p("Changelly Live Chat")),email:ge.createElement("span",{className:zk.changellyDescriptionBold},e.HWN)})),n&&ge.createElement(Iy,{text:n,copyNotification:p("Transaction ID was copied!"),noSavedAddress:!0,noExplorer:!0,className:zk.changellyTextField}))}if(b)return ge.createElement("div",{className:zk.changellyInfoBlock},ge.createElement("span",{className:zk.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")));const n=Hd(null==a?void 0:a.chain)?a.chain:void 0;return ge.createElement("div",{className:zk.changellyInfoBlock},ge.createElement("span",{className:zk.changellyDescription},p("$swap_changelly_to_ton_description1",{value:ge.createElement("span",{className:zk.changellyDescriptionBold},cr(Number(r),(null==a?void 0:a.symbol)??"",!0)),blockchain:ge.createElement("span",{className:zk.changellyDescriptionBold},pE(null==a?void 0:a.chain)),time:ge.createElement(mA,{timestamp:g,deadline:e.JWy,onCompleted:E})})),ge.createElement(Iy,{chain:n,address:s,copyNotification:p("Address was copied!"),noSavedAddress:!0,noExplorer:!0,noDimming:!0,className:zk.changellyTextField}),function(){if(l)return ge.createElement("div",{className:zk.textFieldWrapperFullWidth},ge.createElement("span",{className:zk.textFieldLabel},p("Memo")),ge.createElement(Iy,{chain:"ton",address:l,copyNotification:p("Memo was copied!"),noSavedAddress:!0,noExplorer:!0,className:zk.changellyTextField}))}(),y&&ge.createElement("div",{className:Tr(zk.qrCode,!w&&zk.qrCodeHidden),ref:v}),ge.createElement("span",{className:zk.changellyDescription},p("Please note that it may take up to a few hours for tokens to appear in your wallet.")))}()),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{isPrimary:!0,onClick:m},p("Close")))))})),mB=[On.Password,On.SelectTokenFrom,On.SelectTokenTo],pB=fe(je((e=>{var t;const n=ct(e),a=rt(e),o=null==n||null===(t=n.activities)||void 0===t?void 0:t.byId;return{currentSwap:e.currentSwap,swapType:da(e),swapTokens:sa(e),activityById:o,addressByChain:null==a?void 0:a.addressByChain}}))((function(e){let{currentSwap:{state:t,tokenInSlug:n,tokenOutSlug:a,amountIn:o="0",amountOut:r="0",isLoading:i,error:s,activityId:c,toAddress:l,payinAddress:d,payoutAddress:u,payinExtraId:m,shouldResetOnClose:p},swapType:f,swapTokens:h,activityById:g,addressByChain:v}=e;const{startSwap:w,cancelSwap:y,setSwapScreen:b,submitSwap:E,showActivityInfo:k,submitSwapCex:C,addSwapToken:N,setSwapTokenIn:S,setSwapTokenOut:A}=Ke(),T=Ar(),{isPortrait:I}=ui(),B=t!==On.None,{renderingKey:_,nextKey:x,updateNextKey:D}=tv(t,B),L=de((()=>null==h?void 0:h.find((e=>e.slug===n))),[n,h]),O=de((()=>null==h?void 0:h.find((e=>e.slug===a))),[h,a]),[P,M]=ie(f),[F,R]=ie(o),[U,W]=ie(r),[H,$]=ie(L),[V,z]=ie(O),[K,q]=ie();ce((()=>{if(!B||!c||null==g||!g[c])return void q(void 0);const e=g[c];if(q(e),"swap"===e.kind&&f===Fn.CrosschainToWallet){var t;const n=null===(t=e.cex)||void 0===t?void 0:t.status;"exchanging"!==n&&"confirming"!==n||b({state:On.Complete})}}),[g,c,B,f]);const j=Wo((e=>{R(o),W(r),$(L),z(O),M(f),f!==Fn.OnChain?C({password:e}):E({password:e})})),Y=Wo((()=>{t!==On.Password?(t!==On.SelectTokenTo&&t!==On.SelectTokenFrom||b({state:I?On.Initial:On.None}),t===On.Blockchain&&b({state:I?On.Initial:On.None})):f===Fn.CrosschainFromWallet?b({state:On.Blockchain}):b({state:I?On.Initial:On.None})})),G=Wo((()=>{c&&(y({shouldReset:!0}),k({id:c}))})),Q=Wo((()=>{y({shouldReset:I||p}),D()})),X=Wo((()=>{y({shouldReset:!0})})),J=Wo((e=>{N({token:e}),(_===On.SelectTokenTo?A:S)({tokenSlug:e.slug})})),Z=Wo((()=>{w({amountIn:F,tokenInSlug:null==H?void 0:H.slug,tokenOutSlug:null==V?void 0:V.slug})}));function ee(e,t,n){switch(n){case On.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:T("$swap_action"),onClose:y}),ge.createElement(cC,{isActive:e}));case On.Blockchain:return ge.createElement(oB,{isActive:e,toAddress:l,tokenIn:L,tokenOut:O,swapType:f});case On.WaitTokens:return ge.createElement(uB,{isActive:e,tokenIn:H,tokenOut:V,amountIn:F,amountOut:U,payinAddress:d,payoutAddress:u,payinExtraId:m,addressByChain:v,activity:K,onClose:X});case On.Password:return ge.createElement(dB,{isActive:e,isLoading:i,error:s,onSubmit:j,onBack:Y},function(){if(L&&O&&o&&r)return ge.createElement(Lb,{tokenIn:L,withChainIcon:!0,tokenOut:O,text:cr(o,L.symbol??"",!0),secondText:cr(r,O.symbol??"",!0),className:tl()?void 0:zk.transactionBanner})}());case On.Complete:return ge.createElement(lB,{isActive:e,tokenIn:H,tokenOut:V,amountIn:F,amountOut:U,swapType:P,toAddress:l,onClose:X,onInfoClick:G,onStartSwap:Z,isDetailsDisabled:!c});case On.SelectTokenFrom:case On.SelectTokenTo:return ge.createElement(wE,{isActive:e,shouldUseSwapTokens:!0,shouldFilter:n===On.SelectTokenTo,onTokenSelect:J,onBack:Y,onClose:X})}}const te=mB.includes(_)||_===On.Complete&&P!==Fn.OnChain;return ge.createElement(Zs,{isOpen:B,onClose:y,noBackdropClose:!0,dialogClassName:zk.modalDialog,nativeBottomSheetKey:"swap",forceFullNative:te,hasCloseButton:!0,onCloseAnimationEnd:Q},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:_,nextKey:x,onStop:D},ee))}))),fB=fe((function(e){let{isActive:t,amount:n,symbol:a,txId:o,tokenSlug:r,toAddress:i,comment:s,decimals:c,nfts:l,onInfoClick:d,onClose:u}=e;const{startTransfer:m}=Ke(),p=Ar(),{isPortrait:f}=ui(),h=Boolean(null==l?void 0:l.length);zi({isActive:t,onBack:u}),ce((()=>t?Wr({onEnter:u}):void 0),[t,u]);const g=Wo((()=>{m({isPortrait:f,tokenSlug:r,toAddress:i,amount:n,comment:s})}));return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:p(h?"NFT has been sent!":"Coins have been sent!"),onClose:u}),ge.createElement("div",{className:Ks.transitionContent},h?ge.createElement(ge.Fragment,null,ge.createElement($p,{play:t,noLoop:!1,nonInteractive:!0,className:dw.sticker,tgsUrl:fp.thumbUp,previewUrl:fp.thumbUpPreview}),1===l.length?ge.createElement(yy,{nft:l[0]}):ge.createElement(rE,{nfts:l}),Boolean(o)&&ge.createElement("div",{className:Tr(dw.buttons,dw.buttonsAfterNft)},ge.createElement(Vs,{className:dw.button,onClick:d},p("Details")))):ge.createElement(GE,{playAnimation:t,amount:n?-n:void 0,tokenSymbol:a,firstButtonText:o?p("Details"):void 0,secondButtonText:p("Repeat"),onFirstButtonClick:d,onSecondButtonClick:g,decimals:c}),ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:u,isPrimary:!0},p("Close")))))})),hB=fe((function(e){let{amount:t,label:n,currency:a="",symbol:o,fractionDigits:r,feeText:i,className:s,labelClassName:c}=e;const l=Ar();return ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Tr("vEby849g",c)},n),ge.createElement("div",{className:Tr("ghrNkOZk",s)},cr(t,a,!0,r),o&&ge.createElement("span",{className:"LPchTYAT"},o),Boolean(i)&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:"XPUDvAqg"},l("Fee")),ge.createElement("span",{className:"SkacqSTU"},i))))})),gB=fe(je((e=>({currentAccountId:e.currentAccountId,currentTransfer:e.currentTransfer,accounts:at(e)})))((function(t){let{currentTransfer:{tokenSlug:n,amount:a,toAddress:o,resolvedAddress:r,fee:i,realFee:s,comment:c,shouldEncrypt:l,promiseId:d,isLoading:u,toAddressName:m,isToNewAddress:p,isScam:f,binPayload:h,nfts:g,isGaslessWithStars:v,diesel:w,stateInit:y},token:b,currentAccountId:E,accounts:k,isActive:C,savedAddresses:N,onBack:S,onClose:A}=t;const{submitTransferConfirm:T}=Ke(),I=Ar(),B=Boolean(null==g?void 0:g.length);B&&(n=e.Tu9.slug);const _=ea(n),x=de((()=>oy({address:o,chain:_,currentAccountId:E,accounts:k,savedAddresses:N})),[k,_,E,N,o])||m,D=r===e.pV9,L=r===e.WVU[0],O=pa({fee:i,realFee:s,diesel:w,tokenSlug:n});zi({isActive:C,onBack:S});const P=Wo((()=>{il(),T()})),M=null!=g&&g.length?Math.ceil(g.length/e.gR8)*e.WHY/60:void 0,F=I(D||L?B?"Burn NFT":"Burn":v?"Pay fee with %stars_symbol%":"Confirm",v?{stars_symbol:e.xFF}:void 0);return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:I("Is it all ok?"),onClose:A}),ge.createElement("div",{className:Ks.transitionContent},B?1===g.length?ge.createElement(yy,{nft:g[0],withMediaViewer:!0}):ge.createElement(rE,{nfts:g}):ge.createElement($p,{size:e.jzp,play:C,noLoop:!1,nonInteractive:!0,className:Tr("ZDG5rllO","ol7Kgi48"),tgsUrl:fp.bill,previewUrl:fp.billPreview}),ge.createElement("div",{className:Mb},I("Receiving Address")," ",p&&ge.createElement(Iv,{emoji:"⚠️",size:"small",message:I("This address is new and never received transfers before."),tooltipClassName:"lcmy9IMt"})),ge.createElement(Iy,{chain:_,address:r,addressName:x,isScam:f,copyNotification:I("Address was copied!"),className:Rb}),function(){if(!O.realFee||!b)return;const e=ge.createElement(Fy,{terms:O.realFee.terms,precision:O.realFee.precision,token:b,symbolClassName:"aNzt5kkC"});return B?ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Mb},I("Fee")),ge.createElement("div",{className:Ub},e)):ge.createElement(hB,{label:I("Amount"),amount:(0,Pt.nI)(a??0n,null==b?void 0:b.decimals),symbol:(null==b?void 0:b.symbol)??"",feeText:e,fractionDigits:null==b?void 0:b.decimals})}(),h||y?ge.createElement(ge.Fragment,null,h&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Mb},I("Signing Data")),ge.createElement(Iy,{text:h,copyNotification:I("Data was copied!"),className:Rb})),y&&ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Mb},I("Contract Initialization Data")),ge.createElement(Iy,{text:y,copyNotification:I("Data was copied!"),className:Rb})),ge.createElement("div",{className:$b},tr(I("$signature_warning")))):c?ge.createElement(ge.Fragment,null,ge.createElement("div",{className:Mb},I(l?"Encrypted Message":"Comment or Memo")),ge.createElement("div",{className:Tr(Ub,"NH87E1kW",Wb)},c)):void 0,g&&(D||L&&(null==g?void 0:g.length)>1)&&ge.createElement("div",{className:"CWZdgy5e"},1===(null==g?void 0:g.length)?tr(I("Are you sure you want to burn this NFT? It will be lost forever.")):[tr(I("$multi_burn_nft_warning",{amount:g.length}))," ",tr(I("$multi_send_nft_warning",{duration:M}))]),ge.createElement("div",{className:Tr(Ks.buttons,Ks.buttonsInsideContentWithScroll)},ge.createElement(Vs,{className:Ks.button,onClick:d?A:S},I(d?"Cancel":"Edit")),ge.createElement(Vs,{isPrimary:!0,isLoading:u,isDestructive:D||f,className:Ks.button,onClick:P},F))))}))),vB=fe((function(t){let{nfts:n,sentNftsCount:a=0,toAddress:o,onClose:r}=t;const i=Ar(),s=a<n.length,c=o===e.pV9,l=o===e.WVU[0],d=s?i((c||l?"Burning":"Sending")+": %n% of %m% NFTs...",{n:a,m:n.length}):i("Sent"),u=Math.ceil(n.length/e.gR8)*e.WHY/60;return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:d}),ge.createElement("div",{className:Ks.transitionContent},s&&ge.createElement(ge.Fragment,null,ge.createElement(Qg,{className:"gigiDFmZ"}),ge.createElement("div",{className:"vKJsXVsk"},i("$multi_send_nft_warning",{duration:u}))),1===n.length?ge.createElement(yy,{nft:n[0]}):ge.createElement(rE,{nfts:n}),!s&&ge.createElement("div",{className:Ks.buttons},ge.createElement(Vs,{onClick:r,isPrimary:!0},i("Close")))))})),wB=fe((function(t){let{isActive:n,isLoading:a,isBurning:o,error:r,children:i,onSubmit:s,onCancel:c,isGaslessWithStars:l}=t;const{cancelTransfer:d,clearTransferError:u}=Ke(),m=Ar();zi({isActive:n,onBack:c});const p=o?"Confirm Burning":"Confirm Sending",f=l?m("Pay fee with %stars_symbol%",{stars_symbol:e.xFF}):m("Send");return ge.createElement(ge.Fragment,null,!tl()&&ge.createElement(Fh,{title:m(p),onClose:d}),ge.createElement(Cf,{isActive:n,isLoading:a,withCloseButton:Boolean(i),operationType:"transfer",error:r,submitLabel:f,cancelLabel:m("Back"),onSubmit:s,onCancel:c,onUpdate:u},i))})),yB=fe(je((e=>{const t=ct(e);return{currentTransfer:e.currentTransfer,tokens:Ut(e),savedAddresses:null==t?void 0:t.savedAddresses,isMediaViewerOpen:Boolean(e.mediaViewer.mediaId),isMultichainAccount:Ct(e,e.currentAccountId)}}))((function(t){let{currentTransfer:{state:n,amount:a,toAddress:o,comment:r,error:i,isLoading:s,txId:c,tokenSlug:l,nfts:d,sentNftsCount:u,diesel:m},tokens:p,savedAddresses:f,isMediaViewerOpen:h,isMultichainAccount:g}=t;const{submitTransferConfirm:v,submitTransferPassword:w,submitTransferHardware:y,setTransferScreen:b,cancelTransfer:E,showActivityInfo:k}=Ke(),C=Ar(),{isPortrait:N}=ui(),S=n!==Bn.None,{screenHeight:A}=Zu(),T=de((()=>null==p?void 0:p.find((e=>e.slug===l))),[l,p]),I=null==T?void 0:T.decimals,B=be(a,!0),_=(null==T?void 0:T.symbol)||"",x=Boolean(null==d?void 0:d.length),D=o===e.pV9,{renderingKey:L,nextKey:O,updateNextKey:P}=tv(n,S);ce((()=>n===Bn.Confirm?Wr({onEnter:()=>v()}):void 0),[n,v]);const M=Wo((e=>{w({password:e})})),F=Wo((()=>{n===Bn.Confirm&&b({state:Bn.Initial}),n===Bn.Password&&b({state:Bn.Confirm})})),R=Wo((()=>{E({shouldReset:!0}),k({id:c})})),U=Wo((()=>{E({shouldReset:N}),P()})),W=Wo((()=>{E({shouldReset:!0})})),H=Wo((()=>{y()}));function $(t,n,p){var h,v;switch(p){case Bn.Initial:return ge.createElement(ge.Fragment,null,ge.createElement(Fh,{title:C(x?"Send NFT":"Send"),onClose:W}),ge.createElement(vC,null));case Bn.Confirm:return ge.createElement(gB,{isActive:t,token:T,savedAddresses:f,onBack:N?F:U,onClose:W});case Bn.Password:return ge.createElement(wB,{isActive:t,isLoading:s,isBurning:D,error:i,onSubmit:M,onCancel:W,isGaslessWithStars:"stars-fee"===(null==m?void 0:m.status)},ge.createElement(Lb,{tokenIn:T,imageUrl:null==d||null===(h=d[0])||void 0===h?void 0:h.thumbnail,withChainIcon:g,text:x?d.length>1?C("%amount% NFTs",{amount:d.length}):(null===(v=d[0])||void 0===v?void 0:v.name)||"NFT":sr((0,Pt.nI)(a,I),_),className:tl()?void 0:"Pxmu6Hot",secondText:(0,Yt.W)(o)}));case Bn.ConnectHardware:return ge.createElement(Cv,{isActive:t,onConnected:H,onClose:W});case Bn.ConfirmHardware:return ge.createElement(dv,{text:C("Please confirm transaction on your Ledger"),error:i,onClose:W,onTryAgain:y});case Bn.Complete:return((null==d?void 0:d.length)||0)<=e.gR8?ge.createElement(fB,{isActive:t,nfts:d,amount:B,symbol:_,txId:c,tokenSlug:l,toAddress:o,comment:r,onInfoClick:R,onClose:W,decimals:I}):ge.createElement(vB,{nfts:d,sentNftsCount:u,toAddress:o,onClose:W})}}return ge.createElement(Zs,{isOpen:S&&!h,noBackdropClose:!0,dialogClassName:"NvbEOoOC",nativeBottomSheetKey:"transfer",forceFullNative:A<=762||L===Bn.Password,onClose:W,onCloseAnimationEnd:U},ge.createElement(ff,{name:ev(),className:Tr(Ks.transition,"custom-scroll"),slideClassName:Ks.transitionSlide,activeKey:L,nextKey:O,onStop:P},$))}))),bB=["#E8BC2C","#D0049E","#02CBFE","#5723FD","#FE8C27","#6CB859"],EB=fe(je((e=>({lastRequestedAt:e.confettiRequestedAt})))((function(e){let{lastRequestedAt:t}=e;const n=me(),a=me([]),o=me(!1),r=Zu(),i=ve(),{isPortrait:s}=ui(),c=s?50:100,l=Wo(((e,t)=>{!function(e,t,n,a){for(let o=0;o<a;o++){const a=o%2,r={x:t*(a?-.1:1.1),y:.75*n},i=Math.random()*t*1.5,s={x:a?i:-1*i,y:-n/2-Math.random()*n},c=bB[Math.floor(Math.random()*bB.length)],l=10;e.current.push({pos:r,size:l,color:c,velocity:s,flicker:l,flickerFrequency:.2*Math.random(),rotation:0,lastDrawnAt:Date.now(),frameCount:0})}}(a,e,t,c)})),d=Wo((()=>{if(!n.current||!o.current)return;const e=n.current,t=e.getContext("2d");if(!t)return;const{width:r,height:i}=e;t.clearRect(0,0,r,i);const s=new Set([]);a.current.forEach(((e,n)=>{const{pos:o,velocity:r,size:c,color:l,flicker:d,flickerFrequency:u,rotation:m,lastDrawnAt:p,frameCount:f}=e,h=(Date.now()-p)/1e3,g={x:o.x+r.x*h,y:o.y+r.y*h},v={x:.98*r.x,y:r.y+=1e3*h},w=c*Math.abs(Math.sin(f*u)),y=5*f*u*(Math.PI/180),b=f+1,E=Date.now();g.y>i+e.size?s.add(e):(a.current[n]={...e,pos:g,velocity:v,flicker:w,rotation:y,lastDrawnAt:E,frameCount:b},t.fillStyle=l,t.beginPath(),t.ellipse(o.x,o.y,c,d,m,0,2*Math.PI),t.fill())})),a.current=a.current.filter((e=>!s.has(e))),a.current.length?(0,k.YS)(d):o.current=!1}));if(Ee((e=>{let n,[a]=e;return t&&a!==t&&(l(r.width,r.height),n=window.setTimeout(i,1e4),o.current||(o.current=!0,(0,k.YS)(d))),()=>{window.clearTimeout(n)}}),[t,i,d]),t&&!(Date.now()-t>1e4))return ge.createElement("div",{id:"Confetti",className:"NEu40vNs"},ge.createElement("canvas",{ref:n,width:r.width,height:r.height}))}))),kB=fe(je((e=>{var t;const n=void 0!==(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.state)||e.currentDappTransfer.state!==Bn.None;return{isOpen:e.isLoadingOverlayOpen&&!n}}))((function(e){let{isOpen:t}=e;const{closeLoadingOverlay:n}=Ke(),{shouldRender:a,ref:o}=Rs({isOpen:t,withShouldRender:!0});if(a)return ge.createElement(zs,null,ge.createElement("div",{ref:o,className:"JqqCZr7K",onClick:()=>n()},ge.createElement(Qg,{color:"white"})))}))),CB="xYgMXl3B",NB=new Set([An.Main,An.Settings,An.Explore]),SB=n.cp&&!n.ig||e.VL7?5*Oa.pY:void 0;let AB=0;const TB=Object.keys(An).length/2,IB=fe(je((e=>{var t;return{appState:e.appState,accountId:e.currentAccountId,isBackupWalletModalOpen:e.isBackupWalletModalOpen,isHardwareModalOpen:e.isHardwareModalOpen,isExploreOpen:e.isExploreOpen,areSettingsOpen:e.areSettingsOpen,isQrScannerOpen:e.isQrScannerOpen,isFullscreen:Boolean(e.isFullscreen),theme:e.settings.theme,accentColorIndex:null===(t=ut(e))||void 0===t?void 0:t.accentColorIndex}}))((function(t){let{appState:o,accountId:r,isBackupWalletModalOpen:i,isHardwareModalOpen:s,isQrScannerOpen:c,isExploreOpen:l,isFullscreen:d,areSettingsOpen:u,theme:m,accentColorIndex:p}=t;const{closeBackupWalletModal:f,closeHardwareWalletModal:h,closeSettings:g,cancelCaching:v,closeQrScanner:w,checkAppVersion:y}=Ke(),{isPortrait:b}=ui(),E=!b,[k,C]=ju(!1),[N,S]=ju(),A=k?An.Inactive:u&&!E?An.Settings:l&&b?An.Explore:o,T=b&&NB.has(A),I=T?"semiFade":b?n.Ni?"slideFadeAndroid":n.pz?"slideLayers":"slideFade":"semiFade";function B(e,t,n){switch(n){case An.Auth:return ge.createElement(Yg,null);case An.Main:{const t=Tr(CB,"BY5oYr5T","custom-scroll","app-slide-content");return ge.createElement(ff,{name:"semiFade",activeKey:AB,shouldCleanup:!0,nextKey:A===An.Auth&&N?AB+1:void 0,slideClassName:t},ge.createElement(zS,{key:AB,isActive:e}))}case An.Explore:return ge.createElement(Cb,{isActive:e});case An.Settings:return ge.createElement(tB,{isActive:e});case An.Ledger:return ge.createElement(Ab,{isOpen:!0,noBackdropClose:!0,onClose:zf.ks});case An.Inactive:return ge.createElement(Gh,null)}}return Kh(S,A!==An.Auth||N?void 0:1200),zh(y,e.TI6?void 0:SB),ce((()=>{document.documentElement.classList.toggle("with-bottombar",T)}),[T]),ce((()=>{Ha(),vh=()=>{document.title=`${e.C39} ${e.LaL}`,C(),g(),v()}}),[C]),Nl((()=>{(0,a.p)("setIsAppFocused",!1)}),(()=>{(0,a.p)("setIsAppFocused",!0)}),n.Fe),le((()=>{document.documentElement.classList.add("is-rendered"),lc()}),[]),le((()=>{document.documentElement.classList.toggle("is-fullscreen",d),requestAnimationFrame(Ha)}),[d]),Ee((()=>{r&&(AB+=1)}),[r]),Xf("body",Sf(m),p),function(){const{observe:e}=Hh({throttleMs:350});Vh=e}(),ge.createElement(ge.Fragment,null,n.cp&&!n.ig&&ge.createElement(Jy,{withTitle:!0}),ge.createElement(ff,{name:I,activeKey:A,renderCount:TB,shouldCleanup:!T,className:"XDsN0suQ",slideClassName:Tr(CB,T&&"cumlVCAy","custom-scroll")},B),E&&ge.createElement(aB,{isOpen:u,onClose:g},ge.createElement(tB,{isActive:!!u,isInsideModal:!0})),ge.createElement($f,null),ge.createElement(wT,null),!k&&ge.createElement(ge.Fragment,null,ge.createElement(Zg,null),ge.createElement(Ab,{isOpen:s,onClose:h}),ge.createElement(eA,{isOpen:i,onClose:f}),ge.createElement(yB,null),!e.TI6&&ge.createElement(ge.Fragment,null,ge.createElement(pB,null),ge.createElement(TT,null)),ge.createElement(dA,null),ge.createElement(SA,null),ge.createElement(EA,null),ge.createElement(ow,null),ge.createElement(mw,null),ge.createElement(Vy,null),ge.createElement(YS,null),ge.createElement(aA,null),ge.createElement(AA,null),ge.createElement(nA,null),e.UMQ&&ge.createElement(cA,{isOpen:c,onClose:w}),!n.bA&&ge.createElement(ge.Fragment,null,ge.createElement(IA,null),ge.createElement(Ky,null),ge.createElement(EB,null),e.UMQ?ge.createElement(tc,null):ge.createElement(Wh,null),ge.createElement(kB,null))),T&&ge.createElement(RA,null))})));var BB,_B,xB;e.Oig&&console.log(">>> INIT"),e.rkj&&(0,Ir.Z3)(),e.UMQ&&async function(){var e;e=_a.Ii.getPlatform(),Rc=e,So.getStatusBarHeight().then((e=>{let{statusBarHeight:t}=e;jc=t,document.documentElement.style.setProperty("--status-bar-height",`${t}px`)})),So.getSafeAreaInsets().then((e=>{let{insets:{bottom:t,top:n}}=e;Yc=n,document.documentElement.style.setProperty("--safe-area-bottom",`${t}px`)})),n.bA?No.hide({fadeOutDuration:0}):("ios"===Uc()&&setTimeout((()=>{No.hide({fadeOutDuration:600})}),500),Co.addListener("appUrlOpen",(e=>{Date.now()-Gc>500?Ec(e.url):(0,t.MD)("[CAPACITOR] appUrlOpen event ignored",e)})),Co.addListener("backButton",(e=>{let{canGoBack:t}=e;t?window.history.back():Co.exitApp()})),Qc(await So.getSafeAreaInsets()),await So.addListener("safeAreaChanged",(e=>{Qc(e)})))}(),n.cp&&(null===(BB=window.electron)||void 0===BB||BB.on(mh.DEEPLINK,(e=>{let{url:t}=e;Ec(t)}))),e.tKX&&(Ga=null===(_B=window.Telegram)||void 0===_B?void 0:_B.WebApp,Ga?(co(),Ga.lockOrientation(),Ga.SecondaryButton.setParams({position:"bottom"}),Ga.BackButton.hide(),Ga.SettingsButton.hide(),Ga.expand(),(0,n.v3)()&&(Ga.onEvent("safeAreaChanged",oo),Ga.onEvent("contentSafeAreaChanged",oo)),Ga.onEvent("viewportChanged",(function(e){let{isStateStable:t}=e;t&&Ha()})),oo(),function(){var e;const t=null===(e=Ga)||void 0===e?void 0:e.BiometricManager;t&&!Qa&&(Qa=!0,t.init((()=>{const{isBiometricAvailable:e,biometricType:n,isAccessGranted:a,isAccessRequested:o}=t;Xa=e&&(a||!o),"ios"===Ga.platform&&(Ja="face"===n,Za="finger"===n)})))}(),Ga.ready()):(0,t.SJ)("[telegram] Can't initialize Telegram Mini-App")),n.KI?Il({noPubGlobal:!0}):n.bA&&Il(),e.UMQ?(xB=()=>{ph.install(),fh()},Ua.push(xB),i.e(408).then(i.bind(i,408)).then((e=>{let{Keyboard:t}=e;t.addListener("keyboardWillHide",ph.uninstall)}))):(n.pz||n.Ni)&&window.visualViewport&&function(){const{visualViewport:t}=window;let a=t.height;function o(){const e=t.height,n=document.activeElement;e<a&&n&&function(e){const t=e.tagName.toLowerCase();return"input"===t||"textarea"===t||"select"===t||e.hasAttribute("contenteditable")}(n)?(ph.install(),fh()):e>a&&ph.uninstall(),a=e}t.addEventListener("resize",n.pz&&e.tKX?function(){(0,k.RK)((()=>{(0,k.YS)(o)}))}:o)}(),(async a=>{n.ZH&&await async function(){await Pc.init();const t=Boolean(window.localStorage.getItem(e.pge)),n=Boolean(await Pc.capacitorStorageGetItem("accounts"));t&&!n&&window.localStorage.clear(),!t&&n&&await Pc.capacitorStorageClear()}(),await(null===(a=window.electron)||void 0===a?void 0:a.restoreStorage()),Ke().init(),n.Fe?(0,t.MD)("API was not initialized because it was connected from a detached tab"):Ke().initApi(),e.UMQ&&await async function(){var e;const t=null===(e=await Co.getLaunchUrl())||void 0===e?void 0:e.url;t&&Ec(t),Gc=Date.now()}(),e.Oig&&console.log(">>> START INITIAL RENDER"),(0,k.RK)((()=>{xs(ge.createElement(IB,null),document.getElementById("root")),function(){const e=document.createElement("div");e.textContent="₽",e.classList.add("visually-hidden"),document.body.appendChild(e),(0,k.RK)((()=>{document.body.removeChild(e)}))}(),function(){if(!n.pz)return;let e,t=Date.now();function a(){e||dh||(e=window.setInterval(uh,5e3))}window.addEventListener("focus",(()=>{const e=Date.now();e-t<100||(t=e,a(),uh())})),window.addEventListener("blur",(()=>{clearInterval(e),e=void 0})),document.hasFocus()&&(a(),uh())}()})),e.Oig&&console.log(">>> FINISH INITIAL RENDER"),document.addEventListener("dblclick",(()=>{console.warn("GLOBAL STATE",Ve())})),window.top===window&&(0,t.ef)()})()})()})();
//# sourceMappingURL=main.d67e5bf39260b889438d.js.map